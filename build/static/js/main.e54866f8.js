/*! For license information please see main.e54866f8.js.LICENSE.txt */
(()=>{var e={718:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(43),i=n(579);const a=e=>{let{thumbnailSrc:t,fullImageSrc:n,alt:a,onError:s,style:o}=e;const[l,c]=(0,r.useState)(t),[u,d]=(0,r.useState)(!1);return(0,i.jsx)("img",{src:l,alt:a,onLoad:()=>{c(n),d(!0)},onError:s,style:o,className:u?"loaded":"loading"})}},387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AO:()=>d,Gh:()=>I,HS:()=>D,Oi:()=>o,Rr:()=>h,pX:()=>$,pb:()=>N,rc:()=>i,tH:()=>U,ue:()=>m,yD:()=>P,zR:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const a="popstate";function s(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:h=!1}=s,f=l.history,p=i.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=i.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:x.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(r({},f.state,{idx:g}),""));let x={get action(){return p},get location(){return e(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(a,y),m=e,()=>{l.removeEventListener(a,y),m=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=u(x.location,e,t);n&&n(r,e),g=v()+1;let a=c(r,g),s=x.createHref(r);try{f.pushState(a,"",s)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(s)}h&&m&&m({action:p,location:x.location,delta:1})},replace:function(e,t){p=i.Replace;let r=u(x.location,e,t);n&&n(r,e),g=v();let a=c(r,g),s=x.createHref(r);f.replaceState(a,"",s),h&&m&&m({action:p,location:x.location,delta:0})},go:e=>f.go(e)};return x}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=N(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let a=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=j(i);s=k(a[o],e,r)}return s}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let l=D([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=y(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,x=3,S=2,_=1,w=10,E=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=E),t&&(r+=S),n.filter((e=>!T(e))).reduce(((e,t)=>e+(b.test(t)?x:""===t?_:w)),r)}function k(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:D([a,u.pathname]),pathnameBase:O(D([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=D([a,u.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function I(e,t,n,i){let a;void 0===i&&(i=!1),"string"===typeof e?a=h(e):(a=r({},e),o(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),o(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),o(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,l=""===e||""===a.pathname,c=l?"/":a.pathname;if(null==c)s=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:M(r),hash:F(i)}}(a,s),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class U extends Error{}function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],G=(new Set(B),["get",...B]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},393:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function o(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return c(e)||u(e,t)||d(e,t)||f()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m,g,v,y,b={exports:{}};function x(){return g?m:(g=1,m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function S(){if(y)return v;y=1;var e=x();function t(){}function n(){}return n.resetWarningCache=t,v=function(){function r(t,n,r,i,a,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return r}r.isRequired=r;var a={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}b.exports=S()();var _=p(b.exports),w=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},E=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},T=function(e){return null!==e&&"object"===i(e)},C=function(e){return T(e)&&"function"===typeof e.then},k=function(e){return T(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},A="[object Object]",j=function e(t,n){if(!T(t)||!T(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===A;if(i!==(Object.prototype.toString.call(n)===A))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(var o={},l=0;l<a.length;l+=1)o[a[l]]=!0;for(var c=0;c<s.length;c+=1)o[s[c]]=!0;var u=Object.keys(o);if(u.length!==a.length)return!1;var d=t,h=n,f=function(t){return e(d[t],h[t])};return u.every(f)},N=function(e,t,n){return T(e)?Object.keys(e).reduce((function(i,s){var o=!T(t)||!j(e[s],t[s]);return n.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?r(r({},i||{}),{},a({},s,e[s])):i}),null):null},L="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if(null===e||k(e))return e;throw new Error(t)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if(C(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return R(e,t)}))};var n=R(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},I=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.7.3"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.3",url:"https://stripe.com/docs/stripe-js/react"}))},D=t.createContext(null);D.displayName="ElementsContext";var O=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},M=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return P(n)}),[n]),s=l(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),o=s[0],c=s[1];t.useEffect((function(){var e=!0,t=function(e){c((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||o.stripe?"sync"!==a.tag||o.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,o,r]);var u=E(n);t.useEffect((function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[u,n]);var d=E(r);return t.useEffect((function(){if(o.elements){var e=N(r,d,["clientSecret","fonts"]);e&&o.elements.update(e)}}),[r,d,o.elements]),t.useEffect((function(){I(o.stripe)}),[o.stripe]),t.createElement(D.Provider,{value:o},i)};M.propTypes={stripe:_.any,options:_.object};var F=function(e){var n=t.useContext(D);return O(n,e)},U=function(){return F("calls useElements()").elements},$=function(e){return(0,e.children)(F("mounts <ElementsConsumer>"))};$.propTypes={children:_.func.isRequired};var B=["on","session"],G=t.createContext(null);G.displayName="CustomCheckoutSdkContext";var H=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},z=t.createContext(null);z.displayName="CustomCheckoutContext";var Y=function(e,t){if(!e)return null;e.on,e.session;var n=o(e,B);return r(r({},n),t||e.session())},W="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",V=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return P(n,W)}),[n]),s=l(t.useState(null),2),o=s[0],c=s[1],u=l(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,customCheckoutSdk:null}})),2),d=u[0],h=u[1],f=function(e,t){h((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==a.tag||d.stripe?"sync"===a.tag&&a.stripe&&!p.current&&(p.current=!0,a.stripe.initCustomCheckout(r).then((function(e){e&&(f(a.stripe,e),e.on("change",c))}))):a.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCustomCheckout(r).then((function(e){e&&(f(t,e),e.on("change",c))})))})),function(){e=!1}}),[a,d,r,c]);var m=E(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var g=E(r);t.useEffect((function(){var e,t;if(d.customCheckoutSdk){!r.clientSecret||T(g)||j(r.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!j(i,n)&&d.customCheckoutSdk.changeAppearance(i)}}),[r,g,d.customCheckoutSdk]),t.useEffect((function(){I(d.stripe)}),[d.stripe]);var v=t.useMemo((function(){return Y(d.customCheckoutSdk,o)}),[d.customCheckoutSdk,o]);return d.customCheckoutSdk?t.createElement(G.Provider,{value:d},t.createElement(z.Provider,{value:v},i)):null};V.propTypes={stripe:_.any,options:_.shape({clientSecret:_.string.isRequired,elementsOptions:_.object}).isRequired};var K=function(e){var n=t.useContext(G);return H(n,e)},q=function(e){var n=t.useContext(G),r=t.useContext(D);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?H(n,e):O(r,e)},X=function(){K("calls useCustomCheckout()");var e=t.useContext(z);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},Z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Q=function(e,n){var r="".concat(Z(e),"Element"),i=n?function(e){q("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,s=n.className,o=n.options,c=void 0===o?{}:o,u=n.onBlur,d=n.onFocus,h=n.onReady,f=n.onChange,p=n.onEscape,m=n.onClick,g=n.onLoadError,v=n.onLoaderStart,y=n.onNetworksChange,b=n.onConfirm,x=n.onCancel,S=n.onShippingAddressChange,_=n.onShippingRateChange,T=q("mounts <".concat(r,">")),C="elements"in T?T.elements:null,k="customCheckoutSdk"in T?T.customCheckoutSdk:null,A=l(t.useState(null),2),j=A[0],L=A[1],R=t.useRef(null),P=t.useRef(null);w(j,"blur",u),w(j,"focus",d),w(j,"escape",p),w(j,"click",m),w(j,"loaderror",g),w(j,"loaderstart",v),w(j,"networkschange",y),w(j,"confirm",b),w(j,"cancel",x),w(j,"shippingaddresschange",S),w(j,"shippingratechange",_),w(j,"change",f),h&&(i="expressCheckout"===e?h:function(){h(j)}),w(j,"ready",i),t.useLayoutEffect((function(){if(null===R.current&&null!==P.current&&(C||k)){var t=null;k?t=k.createElement(e,c):C&&(t=C.create(e,c)),R.current=t,L(t),t&&t.mount(P.current)}}),[C,k,c]);var I=E(c);return t.useEffect((function(){if(R.current){var e=N(c,I,["paymentRequest"]);e&&R.current.update(e)}}),[c,I]),t.useLayoutEffect((function(){return function(){if(R.current&&"function"===typeof R.current.destroy)try{R.current.destroy(),R.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:s,ref:P})};return i.propTypes={id:_.string,className:_.string,onChange:_.func,onBlur:_.func,onFocus:_.func,onReady:_.func,onEscape:_.func,onClick:_.func,onLoadError:_.func,onLoaderStart:_.func,onNetworksChange:_.func,onConfirm:_.func,onCancel:_.func,onShippingAddressChange:_.func,onShippingRateChange:_.func,options:_.object},i.displayName=r,i.__elementType=e,i},J="undefined"===typeof window,ee=t.createContext(null);ee.displayName="EmbeddedCheckoutProviderContext";var te=function(){var e=t.useContext(ee);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},ne="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",re=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return P(n,ne)}),[n]),s=t.useRef(null),o=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect((function(){if(!o.current&&!s.current){var e=function(e){o.current||s.current||(o.current=e,s.current=o.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"!==a.tag||o.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==a.tag||o.current||!r.clientSecret&&!r.fetchClientSecret||e(a.stripe):a.stripePromise.then((function(t){t&&e(t)}))}}),[a,r,u,o]),t.useEffect((function(){return function(){u.embeddedCheckout?(s.current=null,u.embeddedCheckout.destroy()):s.current&&s.current.then((function(){s.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){I(o)}),[o]);var h=E(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var f=E(r);return t.useEffect((function(){null!=f&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.fetchClientSecret&&r.fetchClientSecret!==f.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=f.onShippingDetailsChange&&r.onShippingDetailsChange!==f.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[f,r]),t.createElement(ee.Provider,{value:u},i)},ie=function(e){var n=e.id,r=e.className,i=te().embeddedCheckout,a=t.useRef(!1),s=t.useRef(null);return t.useLayoutEffect((function(){return!a.current&&i&&null!==s.current&&(i.mount(s.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:s,id:n,className:r})},ae=function(e){var n=e.id,r=e.className;return te(),t.createElement("div",{id:n,className:r})},se=J?ae:ie,oe=function(){return q("calls useStripe()").stripe},le=Q("auBankAccount",J),ce=Q("card",J),ue=Q("cardNumber",J),de=Q("cardExpiry",J),he=Q("cardCvc",J),fe=Q("fpxBank",J),pe=Q("iban",J),me=Q("idealBank",J),ge=Q("p24Bank",J),ve=Q("epsBank",J),ye=Q("payment",J),be=Q("expressCheckout",J),xe=Q("paymentRequestButton",J),Se=Q("linkAuthentication",J),_e=Q("address",J),we=Q("shippingAddress",J),Ee=Q("paymentMethodMessaging",J),Te=Q("affirmMessage",J),Ce=Q("afterpayClearpayMessage",J);e.AddressElement=_e,e.AffirmMessageElement=Te,e.AfterpayClearpayMessageElement=Ce,e.AuBankAccountElement=le,e.CardCvcElement=he,e.CardElement=ce,e.CardExpiryElement=de,e.CardNumberElement=ue,e.CustomCheckoutProvider=V,e.Elements=M,e.ElementsConsumer=$,e.EmbeddedCheckout=se,e.EmbeddedCheckoutProvider=re,e.EpsBankElement=ve,e.ExpressCheckoutElement=be,e.FpxBankElement=fe,e.IbanElement=pe,e.IdealBankElement=me,e.LinkAuthenticationElement=Se,e.P24BankElement=ge,e.PaymentElement=ye,e.PaymentMethodMessagingElement=Ee,e.PaymentRequestButtonElement=xe,e.ShippingAddressElement=we,e.useCustomCheckout=X,e.useElements=U,e.useStripe=oe}(t,n(43))},396:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},613:function(e,t){var n;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,(function(r,i){"use strict";var a=[],s=Object.getPrototypeOf,o=a.slice,l=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},c=a.push,u=a.indexOf,d={},h=d.toString,f=d.hasOwnProperty,p=f.toString,m=p.call(Object),g={},v=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},y=function(e){return null!=e&&e===e.window},b=r.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function S(e,t,n){var r,i,a=(n=n||b).createElement("script");if(a.text=e,t)for(r in x)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,i);n.head.appendChild(a).parentNode.removeChild(a)}function _(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?d[h.call(e)]||"object":typeof e}var w="3.7.1",E=/HTML$/i,T=function(e,t){return new T.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}T.fn=T.prototype={jquery:w,constructor:T,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},T.extend=T.fn.extend=function(){var e,t,n,r,i,a,s=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"===typeof s&&(c=s,s=arguments[o]||{},o++),"object"===typeof s||v(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],a=i&&!Array.isArray(n)?[]:i||T.isPlainObject(n)?n:{},i=!1,s[t]=T.extend(c,a,r)):void 0!==r&&(s[t]=r));return s},T.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=s(e))||"function"===typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){S(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(C(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=T.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?T.merge(n,"string"===typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!E.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,s=!n;i<a;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(C(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"===typeof Symbol&&(T.fn[Symbol.iterator]=a[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var A=a.pop,j=a.sort,N=a.splice,L="[\\x20\\t\\r\\n\\f]",R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");T.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var P=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function I(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}T.escapeSelector=function(e){return(e+"").replace(P,I)};var D=b,O=c;!function(){var e,t,n,i,s,l,c,d,h,p,m=O,v=T.expando,y=0,b=0,x=ee(),S=ee(),_=ee(),w=ee(),E=function(e,t){return e===t&&(s=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",I="\\["+L+"*("+P+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+L+"*\\]",M=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",F=new RegExp(L+"+","g"),U=new RegExp("^"+L+"*,"+L+"*"),$=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),B=new RegExp(L+"|>"),G=new RegExp(M),H=new RegExp("^"+P+"$"),z={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),X=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){le()},Q=he((function(e){return!0===e.disabled&&k(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(a=o.call(D.childNodes),D.childNodes),a[D.childNodes.length].nodeType}catch(be){m={apply:function(e,t){O.apply(e,o.call(t))},call:function(e){O.apply(e,o.call(arguments,1))}}}function J(e,t,n,r){var i,a,s,o,c,u,f,p=t&&t.ownerDocument,y=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!r&&(le(t),t=t||l,d)){if(11!==y&&(c=V.exec(e)))if(i=c[1]){if(9===y){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(p&&(s=p.getElementById(i))&&J.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!w[e+" "]&&(!h||!h.test(e))){if(f=e,p=t,1===y&&(B.test(e)||$.test(e))){for((p=K.test(e)&&oe(t.parentNode)||t)==t&&g.scope||((o=t.getAttribute("id"))?o=T.escapeSelector(o):t.setAttribute("id",o=v)),a=(u=ue(e)).length;a--;)u[a]=(o?"#"+o:":scope")+" "+de(u[a]);f=u.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(b){w(e,!0)}finally{o===v&&t.removeAttribute("id")}}}return ye(e.replace(R,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[v]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(be){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return k(t,"input")&&t.type===e}}function ie(e){return function(t){return(k(t,"input")||k(t,"button"))&&t.type===e}}function ae(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,r){for(var i,a=e([],n.length,t),s=a.length;s--;)n[i=a[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function oe(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:D;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,d=!T.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&D!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),g.getById=ne((function(e){return c.appendChild(e).id=T.expando,!l.getElementsByName||!l.getElementsByName(T.expando).length})),g.disconnectedMatch=ne((function(e){return p.call(e,"*")})),g.scope=ne((function(){return l.querySelectorAll(":scope")})),g.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(be){return!0}})),g.getById?(t.filter.ID=function(e){var t=e.replace(q,X);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&d){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,X);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&d){var n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),t.find.TAG=function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if("undefined"!==typeof t.getElementsByClassName&&d)return t.getElementsByClassName(e)},h=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+L+"*(?:value|"+C+")"),e.querySelectorAll("[id~="+v+"-]").length||h.push("~="),e.querySelectorAll("a#"+v+"+*").length||h.push(".#.+[+~]"),e.querySelectorAll(":checked").length||h.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||h.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")")})),g.cssHas||h.push(":has"),h=h.length&&new RegExp(h.join("|")),E=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==D&&J.contains(D,e)?-1:t===l||t.ownerDocument==D&&J.contains(D,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in J.matches=function(e,t){return J(e,null,null,t)},J.matchesSelector=function(e,t){if(le(e),d&&!w[t+" "]&&(!h||!h.test(t)))try{var n=p.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(be){w(t,!0)}return J(t,l,null,[e]).length>0},J.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),T.contains(e,t)},J.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],i=r&&f.call(t.attrHandle,n.toLowerCase())?r(e,n,!d):void 0;return void 0!==i?i:e.getAttribute(n)},J.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},T.uniqueSort=function(e){var t,n=[],r=0,a=0;if(s=!g.sortStable,i=!g.sortStable&&o.call(e,0),j.call(e,E),s){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)N.call(e,n[r],1)}return i=null,e},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(o.apply(this)))},t=T.expr={cacheLength:50,createPseudo:te,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,X),e[3]=(e[3]||e[4]||e[5]||"").replace(q,X),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||J.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&J.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,X).toLowerCase();return"*"===e?function(){return!0}:function(e){return k(e,t)}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&x(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=J.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p=a!==s?"nextSibling":"previousSibling",m=t.parentNode,g=o&&t.nodeName.toLowerCase(),b=!l&&!o,x=!1;if(m){if(a){for(;p;){for(d=t;d=d[p];)if(o?k(d,g):1===d.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(x=(h=(c=(u=m[v]||(m[v]={}))[e]||[])[0]===y&&c[1])&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[p]||(x=h=0)||f.pop();)if(1===d.nodeType&&++x&&d===t){u[e]=[y,h,x];break}}else if(b&&(x=h=(c=(u=t[v]||(t[v]={}))[e]||[])[0]===y&&c[1]),!1===x)for(;(d=++h&&d&&d[p]||(x=h=0)||f.pop())&&(!(o?k(d,g):1===d.nodeType)||!++x||(b&&((u=d[v]||(d[v]={}))[e]=[y,x]),d!==t)););return(x-=i)===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||J.error("unsupported pseudo: "+e);return i[v]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,a=i(e,n),s=a.length;s--;)e[r=u.call(e,a[s])]=!(t[r]=a[s])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ve(e.replace(R,"$1"));return r[v]?te((function(e,t,n,i){for(var a,s=r(e,null,i,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))})):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return J(e,t).length>0}})),contains:te((function(e){return e=e.replace(q,X),function(t){return(t.textContent||T.text(t)).indexOf(e)>-1}})),lang:te((function(e){return H.test(e||"")||J.error("unsupported lang: "+e),e=e.replace(q,X).toLowerCase(),function(t){var n;do{if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:ae(!1),disabled:ae(!0),checked:function(e){return k(e,"input")&&!!e.checked||k(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){return k(e,"input")&&"button"===e.type||k(e,"button")},text:function(e){var t;return k(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var r,i,a,s,o,l,c,u=S[e+" "];if(u)return n?0:u.slice(0);for(o=e,l=[],c=t.preFilter;o;){for(s in r&&!(i=U.exec(o))||(i&&(o=o.slice(i[0].length)||o),l.push(a=[])),r=!1,(i=$.exec(o))&&(r=i.shift(),a.push({value:r,type:i[0].replace(R," ")}),o=o.slice(r.length)),t.filter)!(i=z[s].exec(o))||c[s]&&!(i=c[s](i))||(r=i.shift(),a.push({value:r,type:s,matches:i}),o=o.slice(r.length));if(!r)break}return n?o.length:o?J.error(e):S(e,l).slice(0)}function de(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function he(e,t,n){var r=t.dir,i=t.next,a=i||r,s=n&&"parentNode"===a,o=b++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,d=[y,o];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=t[v]||(t[v]={}),i&&k(t,i))t=t[r]||t;else{if((c=u[a])&&c[0]===y&&c[1]===o)return d[2]=c[2];if(u[a]=d,d[2]=e(t,n,l))return!0}return!1}}function fe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function pe(e,t,n,r,i){for(var a,s=[],o=0,l=e.length,c=null!=t;o<l;o++)(a=e[o])&&(n&&!n(a,r,i)||(s.push(a),c&&t.push(o)));return s}function me(e,t,n,r,i,a){return r&&!r[v]&&(r=me(r)),i&&!i[v]&&(i=me(i,a)),te((function(a,s,o,l){var c,d,h,f,p=[],g=[],v=s.length,y=a||function(e,t,n){for(var r=0,i=t.length;r<i;r++)J(e,t[r],n);return n}(t||"*",o.nodeType?[o]:o,[]),b=!e||!a&&t?y:pe(y,p,e,o,l);if(n?n(b,f=i||(a?e:v||r)?[]:s,o,l):f=b,r)for(c=pe(f,g),r(c,[],o,l),d=c.length;d--;)(h=c[d])&&(f[g[d]]=!(b[g[d]]=h));if(a){if(i||e){if(i){for(c=[],d=f.length;d--;)(h=f[d])&&c.push(b[d]=h);i(null,f=[],c,l)}for(d=f.length;d--;)(h=f[d])&&(c=i?u.call(a,h):p[d])>-1&&(a[c]=!(s[c]=h))}}else f=pe(f===s?f.splice(v,f.length):f),i?i(null,s,f,l):m.apply(s,f)}))}function ge(e){for(var r,i,a,s=e.length,o=t.relative[e[0].type],l=o||t.relative[" "],c=o?1:0,d=he((function(e){return e===r}),l,!0),h=he((function(e){return u.call(r,e)>-1}),l,!0),f=[function(e,t,i){var a=!o&&(i||t!=n)||((r=t).nodeType?d(e,t,i):h(e,t,i));return r=null,a}];c<s;c++)if(i=t.relative[e[c].type])f=[he(fe(f),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(a=++c;a<s&&!t.relative[e[a].type];a++);return me(c>1&&fe(f),c>1&&de(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(R,"$1"),i,c<a&&ge(e.slice(c,a)),a<s&&ge(e=e.slice(a)),a<s&&de(e))}f.push(i)}return fe(f)}function ve(e,r){var i,a=[],s=[],o=_[e+" "];if(!o){for(r||(r=ue(e)),i=r.length;i--;)(o=ge(r[i]))[v]?a.push(o):s.push(o);o=_(e,function(e,r){var i=r.length>0,a=e.length>0,s=function(s,o,c,u,h){var f,p,g,v=0,b="0",x=s&&[],S=[],_=n,w=s||a&&t.find.TAG("*",h),E=y+=null==_?1:Math.random()||.1,C=w.length;for(h&&(n=o==l||o||h);b!==C&&null!=(f=w[b]);b++){if(a&&f){for(p=0,o||f.ownerDocument==l||(le(f),c=!d);g=e[p++];)if(g(f,o||l,c)){m.call(u,f);break}h&&(y=E)}i&&((f=!g&&f)&&v--,s&&x.push(f))}if(v+=b,i&&b!==v){for(p=0;g=r[p++];)g(x,S,o,c);if(s){if(v>0)for(;b--;)x[b]||S[b]||(S[b]=A.call(u));S=pe(S)}m.apply(u,S),h&&!s&&S.length>0&&v+r.length>1&&T.uniqueSort(u)}return h&&(y=E,n=_),x};return i?te(s):s}(s,a)),o.selector=e}return o}function ye(e,n,r,i){var a,s,o,l,c,u="function"===typeof e&&e,h=!i&&ue(e=u.selector||e);if(r=r||[],1===h.length){if((s=h[0]=h[0].slice(0)).length>2&&"ID"===(o=s[0]).type&&9===n.nodeType&&d&&t.relative[s[1].type]){if(!(n=(t.find.ID(o.matches[0].replace(q,X),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(a=z.needsContext.test(e)?0:s.length;a--&&(o=s[a],!t.relative[l=o.type]);)if((c=t.find[l])&&(i=c(o.matches[0].replace(q,X),K.test(s[0].type)&&oe(n.parentNode)||n))){if(s.splice(a,1),!(e=i.length&&de(s)))return m.apply(r,i),r;break}}return(u||ve(e,h))(i,n,!d,r,!n||K.test(e)&&oe(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=v.split("").sort(E).join("")===v,le(),g.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),T.find=J,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,J.compile=ve,J.select=ye,J.setDocument=le,J.tokenize=ue,J.escape=T.escapeSelector,J.getText=T.text,J.isXML=T.isXMLDoc,J.selectors=T.expr,J.support=T.support,J.uniqueSort=T.uniqueSort}();var M=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&T(e).is(n))break;r.push(e)}return r},F=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},U=T.expr.match.needsContext,$=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(e,t,n){return v(t)?T.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?T.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?T.grep(e,(function(e){return u.call(t,e)>-1!==n})):T.filter(t,e,n)}T.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?T.find.matchesSelector(r,e)?[r]:[]:T.find.matches(e,T.grep(t,(function(e){return 1===e.nodeType})))},T.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(T(e).filter((function(){for(t=0;t<r;t++)if(T.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)T.find(e,i[t],n);return r>1?T.uniqueSort(n):n},filter:function(e){return this.pushStack(B(this,e||[],!1))},not:function(e){return this.pushStack(B(this,e||[],!0))},is:function(e){return!!B(this,"string"===typeof e&&U.test(e)?T(e):e||[],!1).length}});var G,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||G,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:H.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),$.test(r[1])&&T.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,G=T(b);var z=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function W(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(T.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,a=[],s="string"!==typeof e&&T(e);if(!U.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?T.uniqueSort(a):a)},index:function(e){return e?"string"===typeof e?u.call(T(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M(e,"parentNode")},parentsUntil:function(e,t,n){return M(e,"parentNode",n)},next:function(e){return W(e,"nextSibling")},prev:function(e){return W(e,"previousSibling")},nextAll:function(e){return M(e,"nextSibling")},prevAll:function(e){return M(e,"previousSibling")},nextUntil:function(e,t,n){return M(e,"nextSibling",n)},prevUntil:function(e,t,n){return M(e,"previousSibling",n)},siblings:function(e){return F((e.parentNode||{}).firstChild,e)},children:function(e){return F(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},(function(e,t){T.fn[e]=function(n,r){var i=T.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=T.filter(r,i)),this.length>1&&(Y[e]||T.uniqueSort(i),z.test(e)&&i.reverse()),this.pushStack(i)}}));var V=/[^\x20\t\r\n\f]+/g;function K(e){return e}function q(e){throw e}function X(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}T.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return T.each(e.match(V)||[],(function(e,n){t[n]=!0})),t}(e):T.extend({},e);var t,n,r,i,a=[],s=[],o=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;o=-1)for(n=s.shift();++o<a.length;)!1===a[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(o=a.length-1,s.push(n)),function t(n){T.each(n,(function(n,r){v(r)?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==_(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return T.each(arguments,(function(e,t){for(var n;(n=T.inArray(t,a,n))>-1;)a.splice(n,1),n<=o&&o--})),this},has:function(e){return e?T.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||t||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return T.Deferred((function(n){T.each(t,(function(t,r){var i=v(e[r[4]])&&e[r[4]];a[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var a=0;function s(e,t,n,i){return function(){var o=this,l=arguments,c=function(){var r,c;if(!(e<a)){if((r=n.apply(o,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"===typeof r||"function"===typeof r)&&r.then,v(c)?i?c.call(r,s(a,t,K,i),s(a,t,q,i)):(a++,c.call(r,s(a,t,K,i),s(a,t,q,i),s(a,t,K,t.notifyWith))):(n!==K&&(o=void 0,l=[r]),(i||t.resolveWith)(o,l))}},u=i?c:function(){try{c()}catch(r){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(r,u.error),e+1>=a&&(n!==q&&(o=void 0,l=[r]),t.rejectWith(o,l))}};e?u():(T.Deferred.getErrorHook?u.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(u.error=T.Deferred.getStackHook()),r.setTimeout(u))}}return T.Deferred((function(r){t[0][3].add(s(0,r,v(i)?i:K,r.notifyWith)),t[1][3].add(s(0,r,v(e)?e:K)),t[2][3].add(s(0,r,v(n)?n:q))})).promise()},promise:function(e){return null!=e?T.extend(e,i):i}},a={};return T.each(t,(function(e,r){var s=r[2],o=r[5];i[r[1]]=s.add,o&&s.add((function(){n=o}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=s.fireWith})),i.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=T.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(X(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||v(i[n]&&i[n].then)))return a.then();for(;n--;)X(i[n],s(n),a.reject);return a.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Z.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){r.setTimeout((function(){throw e}))};var Q=T.Deferred();function J(){b.removeEventListener("DOMContentLoaded",J),r.removeEventListener("load",J),T.ready()}T.fn.ready=function(e){return Q.then(e).catch((function(e){T.readyException(e)})),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||Q.resolveWith(b,[T]))}}),T.ready.then=Q.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",J),r.addEventListener("load",J));var ee=function(e,t,n,r,i,a,s){var o=0,l=e.length,c=null==n;if("object"===_(n))for(o in i=!0,n)ee(e,t,o,n[o],!0,a,s);else if(void 0!==r&&(i=!0,v(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(T(e),n)})),t))for(;o<l;o++)t(e[o],n,s?r:r.call(e[o],o,t(e[o],n)));return i?e:c?t.call(e):l?t(e[0],n):a},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=T.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(V)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||T.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var oe=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function de(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(i){}le.set(e,t,n)}else n=void 0;return n}T.extend({hasData:function(e){return le.hasData(e)||oe.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return oe.access(e,t,n)},_removeData:function(e,t){oe.remove(e,t)}}),T.fn.extend({data:function(e,t){var n,r,i,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(i=le.get(a),1===a.nodeType&&!oe.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=ie(r.slice(5)),de(a,r,i[r]));oe.set(a,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var n;if(a&&void 0===t)return void 0!==(n=le.get(a,e))||void 0!==(n=de(a,e))?n:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),T.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=oe.get(e,t),n&&(!r||Array.isArray(n)?r=oe.access(e,t,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=T.queue(e,t),r=n.length,i=n.shift(),a=T._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,(function(){T.dequeue(e,t)}),a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return oe.get(e,n)||oe.access(e,n,{empty:T.Callbacks("once memory").add((function(){oe.remove(e,[t+"queue",n])}))})}}),T.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?T.queue(this[0],e):void 0===t?this:this.each((function(){var n=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&T.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){T.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=T.Deferred(),a=this,s=this.length,o=function(){--r||i.resolveWith(a,[a])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=oe.get(a[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(o));return o(),i.promise(t)}});var he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],me=b.documentElement,ge=function(e){return T.contains(e.ownerDocument,e)},ve={composed:!0};me.getRootNode&&(ge=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var ye=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===T.css(e,"display")};function be(e,t,n,r){var i,a,s=20,o=r?function(){return r.cur()}:function(){return T.css(e,t,"")},l=o(),c=n&&n[3]||(T.cssNumber[t]?"":"px"),u=e.nodeType&&(T.cssNumber[t]||"px"!==c&&+l)&&fe.exec(T.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)T.style(e,t,u+c),(1-a)*(1-(a=o()/l||.5))<=0&&(s=0),u/=a;u*=2,T.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var xe={};function Se(e){var t,n=e.ownerDocument,r=e.nodeName,i=xe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=T.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),xe[r]=i,i)}function _e(e,t){for(var n,r,i=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(i[a]=oe.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&ye(r)&&(i[a]=Se(r))):"none"!==n&&(i[a]="none",oe.set(r,"display",n)));for(a=0;a<s;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}T.fn.extend({show:function(){return _e(this,!0)},hide:function(){return _e(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){ye(this)?T(this).show():T(this).hide()}))}});var we=/^(?:checkbox|radio)$/i,Ee=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Te=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=b.createDocumentFragment().appendChild(b.createElement("div")),t=b.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),g.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",g.option=!!e.lastChild}();var Ce={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ke(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?T.merge([e],n):n}function Ae(e,t){for(var n=0,r=e.length;n<r;n++)oe.set(e[n],"globalEval",!t||oe.get(t[n],"globalEval"))}Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead,Ce.th=Ce.td,g.option||(Ce.optgroup=Ce.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ne(e,t,n,r,i){for(var a,s,o,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((a=e[f])||0===a)if("object"===_(a))T.merge(h,a.nodeType?[a]:a);else if(je.test(a)){for(s=s||d.appendChild(t.createElement("div")),o=(Ee.exec(a)||["",""])[1].toLowerCase(),l=Ce[o]||Ce._default,s.innerHTML=l[1]+T.htmlPrefilter(a)+l[2],u=l[0];u--;)s=s.lastChild;T.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(a));for(d.textContent="",f=0;a=h[f++];)if(r&&T.inArray(a,r)>-1)i&&i.push(a);else if(c=ge(a),s=ke(d.appendChild(a),"script"),c&&Ae(s),n)for(u=0;a=s[u++];)Te.test(a.type||"")&&n.push(a);return d}var Le=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Pe(){return!1}function Ie(e,t,n,r,i,a){var s,o;if("object"===typeof t){for(o in"string"!==typeof n&&(r=r||n,n=void 0),t)Ie(e,o,n,r,t[o],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"===typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Pe;else if(!i)return e;return 1===a&&(s=i,i=function(e){return T().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=T.guid++)),e.each((function(){T.event.add(this,t,i,r,n)}))}function De(e,t,n){n?(oe.set(e,t,!1),T.event.add(e,t,{namespace:!1,handler:function(e){var n,r=oe.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(T.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=o.call(arguments),oe.set(this,t,r),this[t](),n=oe.get(this,t),oe.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(oe.set(this,t,T.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===oe.get(e,t)&&T.event.add(e,t,Re)}T.event={global:{},add:function(e,t,n,r,i){var a,s,o,l,c,u,d,h,f,p,m,g=oe.get(e);if(ae(e))for(n.handler&&(n=(a=n).handler,i=a.selector),i&&T.find.matchesSelector(me,i),n.guid||(n.guid=T.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return"undefined"!==typeof T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(V)||[""]).length;c--;)f=m=(o=Le.exec(t[c])||[])[1],p=(o[2]||"").split(".").sort(),f&&(d=T.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=T.event.special[f]||{},u=T.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:p.join(".")},a),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(f,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,u):h.push(u),T.event.global[f]=!0)},remove:function(e,t,n,r,i){var a,s,o,l,c,u,d,h,f,p,m,g=oe.hasData(e)&&oe.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(V)||[""]).length;c--;)if(f=m=(o=Le.exec(t[c])||[])[1],p=(o[2]||"").split(".").sort(),f){for(d=T.event.special[f]||{},h=l[f=(r?d.delegateType:d.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=h.length;a--;)u=h[a],!i&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(h.splice(a,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||T.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)T.event.remove(e,f+t[c],n,r,!0);T.isEmptyObject(l)&&oe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,a,s,o=new Array(arguments.length),l=T.event.fix(e),c=(oe.get(this,"events")||Object.create(null))[l.type]||[],u=T.event.special[l.type]||{};for(o[0]=l,t=1;t<arguments.length;t++)o[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=T.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(r=((T.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,o))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,a,s,o=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?T(i,this).index(c)>-1:T.find(i,this,null,[c]).length),s[i]&&a.push(r);a.length&&o.push({elem:c,handlers:a})}return c=this,l<t.length&&o.push({elem:c,handlers:t.slice(l)}),o},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&k(t,"input")&&De(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&k(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&k(t,"input")&&oe.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(b.documentMode){var n=oe.get(this,"handle"),r=T.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else T.event.simulate(t,e.target,T.event.fix(e))}T.event.special[e]={setup:function(){var r;if(De(this,e,!0),!b.documentMode)return!1;(r=oe.get(this,t))||this.addEventListener(t,n),oe.set(this,t,(r||0)+1)},trigger:function(){return De(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=oe.get(this,t)-1)?oe.set(this,t,e):(this.removeEventListener(t,n),oe.remove(this,t))},_default:function(t){return oe.get(t.target,e)},delegateType:t},T.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,a=oe.get(i,t);a||(b.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),oe.set(i,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,a=oe.get(i,t)-1;a?oe.set(i,t,a):(b.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),oe.remove(i,t))}}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||T.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),T.fn.extend({on:function(e,t,n,r){return Ie(this,e,t,n,r)},one:function(e,t,n,r){return Ie(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,T(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each((function(){T.event.remove(this,e,n,t)}))}});var Oe=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function $e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ge(e,t){var n,r,i,a,s,o;if(1===t.nodeType){if(oe.hasData(e)&&(o=oe.get(e).events))for(i in oe.remove(t,"handle events"),o)for(n=0,r=o[i].length;n<r;n++)T.event.add(t,i,o[i][n]);le.hasData(e)&&(a=le.access(e),s=T.extend({},a),le.set(t,s))}}function He(e,t){var n=t.nodeName.toLowerCase();"input"===n&&we.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function ze(e,t,n,r){t=l(t);var i,a,s,o,c,u,d=0,h=e.length,f=h-1,p=t[0],m=v(p);if(m||h>1&&"string"===typeof p&&!g.checkClone&&Me.test(p))return e.each((function(i){var a=e.eq(i);m&&(t[0]=p.call(this,i,a.html())),ze(a,t,n,r)}));if(h&&(a=(i=Ne(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(o=(s=T.map(ke(i,"script"),$e)).length;d<h;d++)c=i,d!==f&&(c=T.clone(c,!0,!0),o&&T.merge(s,ke(c,"script"))),n.call(e[d],c,d);if(o)for(u=s[s.length-1].ownerDocument,T.map(s,Be),d=0;d<o;d++)c=s[d],Te.test(c.type||"")&&!oe.access(c,"globalEval")&&T.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):S(c.textContent.replace(Fe,""),c,u))}return e}function Ye(e,t,n){for(var r,i=t?T.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||T.cleanData(ke(r)),r.parentNode&&(n&&ge(r)&&Ae(ke(r,"script")),r.parentNode.removeChild(r));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,a,s,o=e.cloneNode(!0),l=ge(e);if(!g.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!T.isXMLDoc(e))for(s=ke(o),r=0,i=(a=ke(e)).length;r<i;r++)He(a[r],s[r]);if(t)if(n)for(a=a||ke(e),s=s||ke(o),r=0,i=a.length;r<i;r++)Ge(a[r],s[r]);else Ge(e,o);return(s=ke(o,"script")).length>0&&Ae(s,!l&&ke(e,"script")),o},cleanData:function(e){for(var t,n,r,i=T.event.special,a=0;void 0!==(n=e[a]);a++)if(ae(n)){if(t=n[oe.expando]){if(t.events)for(r in t.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,t.handle);n[oe.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),T.fn.extend({detach:function(e){return Ye(this,e,!0)},remove:function(e){return Ye(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ze(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return ze(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(ke(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return T.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Oe.test(e)&&!Ce[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(T.cleanData(ke(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,arguments,(function(t){var n=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(ke(this)),n&&n.replaceChild(t,this))}),e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){T.fn[e]=function(e){for(var n,r=[],i=T(e),a=i.length-1,s=0;s<=a;s++)n=s===a?this:this.clone(!0),T(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var We=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),Ve=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},qe=function(e,t,n){var r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=a[i];return r},Xe=new RegExp(pe.join("|"),"i");function Ze(e,t,n){var r,i,a,s,o=Ve.test(t),l=e.style;return(n=n||Ke(e))&&(s=n.getPropertyValue(t)||n[t],o&&s&&(s=s.replace(R,"$1")||void 0),""!==s||ge(e)||(s=T.style(e,t)),!g.pixelBoxStyles()&&We.test(s)&&Xe.test(t)&&(r=l.width,i=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=a)),void 0!==s?s+"":s}function Qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",a=12===t(u.offsetWidth/3),me.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,a,s,o,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),a},reliableTrDimensions:function(){var e,t,n,i;return null==o&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),o=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),o}}))}();var Je=["Webkit","Moz","ms"],et=b.createElement("div").style,tt={};function nt(e){var t=T.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Je.length;n--;)if((e=Je[n]+t)in et)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ot(e,t,n,r,i,a){var s="width"===t?1:0,o=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=T.css(e,n+pe[s],!0,i)),r?("content"===n&&(l-=T.css(e,"padding"+pe[s],!0,i)),"margin"!==n&&(l-=T.css(e,"border"+pe[s]+"Width",!0,i))):(l+=T.css(e,"padding"+pe[s],!0,i),"padding"!==n?l+=T.css(e,"border"+pe[s]+"Width",!0,i):o+=T.css(e,"border"+pe[s]+"Width",!0,i));return!r&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-o-.5))||0),l+c}function lt(e,t,n){var r=Ke(e),i=(!g.boxSizingReliable()||n)&&"border-box"===T.css(e,"boxSizing",!1,r),a=i,s=Ze(e,t,r),o="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&k(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===T.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===T.css(e,"boxSizing",!1,r),(a=o in e)&&(s=e[o])),(s=parseFloat(s)||0)+ot(e,t,n||(i?"border":"content"),a,r,s)+"px"}function ct(e,t,n,r,i){return new ct.prototype.init(e,t,n,r,i)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,s,o=ie(t),l=Ve.test(t),c=e.style;if(l||(t=nt(o)),s=T.cssHooks[t]||T.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(a=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=be(e,t,i),a="number"),null!=n&&n===n&&("number"!==a||l||(n+=i&&i[3]||(T.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,a,s,o=ie(t);return Ve.test(t)||(t=nt(o)),(s=T.cssHooks[t]||T.cssHooks[o])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Ze(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),T.each(["height","width"],(function(e,t){T.cssHooks[t]={get:function(e,n,r){if(n)return!rt.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,r):qe(e,it,(function(){return lt(e,t,r)}))},set:function(e,n,r){var i,a=Ke(e),s=!g.scrollboxSize()&&"absolute"===a.position,o=(s||r)&&"border-box"===T.css(e,"boxSizing",!1,a),l=r?ot(e,t,r,o,a):0;return o&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-ot(e,t,"border",!1,a)-.5)),l&&(i=fe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=T.css(e,t)),st(0,n,l)}}})),T.cssHooks.marginLeft=Qe(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(e,t){T.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+pe[r]+t]=a[r]||a[r-2]||a[0];return i}},"margin"!==e&&(T.cssHooks[e+t].set=st)})),T.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,a={},s=0;if(Array.isArray(t)){for(r=Ke(e),i=t.length;s<i;s++)a[t[s]]=T.css(e,t[s],!1,r);return a}return void 0!==n?T.style(e,t,n):T.css(e,t)}),e,t,arguments.length>1)}}),T.Tween=ct,ct.prototype={constructor:ct,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(T.cssNumber[n]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||!T.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=ct.prototype.init,T.fx.step={};var ut,dt,ht=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function pt(){dt&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(pt):r.setTimeout(pt,T.fx.interval),T.fx.tick())}function mt(){return r.setTimeout((function(){ut=void 0})),ut=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=pe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),a=0,s=i.length;a<s;a++)if(r=i[a].call(n,t,e))return r}function yt(e,t,n){var r,i,a=0,s=yt.prefilters.length,o=T.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ut||mt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),a=0,s=c.tweens.length;a<s;a++)c.tweens[a].run(r);return o.notifyWith(e,[c,r,n]),r<1&&s?n:(s||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=T.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,a,s;for(n in e)if(i=t[r=ie(n)],a=e[n],Array.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(s=T.cssHooks[r])&&"expand"in s)for(n in a=s.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);a<s;a++)if(r=yt.prefilters[a].call(c,e,u,c.opts))return v(r.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return T.map(u,vt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(V);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,a,s,o,l,c,u,d="width"in t||"height"in t,h=this,f={},p=e.style,m=e.nodeType&&ye(e),g=oe.get(e,"fxshow");for(r in n.queue||(null==(s=T._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,T.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],ht.test(i)){if(delete t[r],a=a||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||T.style(e,r)}if((l=!T.isEmptyObject(t))||!T.isEmptyObject(f))for(r in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=oe.get(e,"display")),"none"===(u=T.css(e,"display"))&&(c?u=c:(_e([e],!0),c=e.style.display||c,u=T.css(e,"display"),_e([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===T.css(e,"float")&&(l||(h.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=oe.access(e,"fxshow",{display:c}),a&&(g.hidden=!m),m&&_e([e],!0),h.done((function(){for(r in m||_e([e]),oe.remove(e,"fxshow"),f)T.style(e,r,f[r])}))),l=vt(m?g[r]:0,r,h),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),T.speed=function(e,t,n){var r=e&&"object"===typeof e?T.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return T.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=T.isEmptyObject(e),a=T.speed(t,n,r),s=function(){var t=yt(this,T.extend({},e),a);(i||oe.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===a.queue?this.each(s):this.queue(a.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",a=T.timers,s=oe.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ft.test(i)&&r(s[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));!t&&n||T.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=oe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=T.timers,s=r?r.length:0;for(n.finish=!0,T.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(e,t){var n=T.fn[t];T.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}})),T.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){T.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),T.timers=[],T.fx.tick=function(){var e,t=0,n=T.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||T.fx.stop(),ut=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){dt||(dt=!0,pt())},T.fx.stop=function(){dt=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var bt,xt=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return ee(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){T.removeAttr(this,e)}))}}),T.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"===typeof e.getAttribute?T.prop(e,t,n):(1===a&&T.isXMLDoc(e)||(i=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void T.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=T.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(V);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?T.removeAttr(e,n):e.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=xt[t]||T.find.attr;xt[t]=function(e,t,r){var i,a,s=t.toLowerCase();return r||(a=xt[s],xt[s]=i,i=null!=n(e,t,r)?s:null,xt[s]=a),i}}));var St=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function wt(e){return(e.match(V)||[]).join(" ")}function Et(e){return e.getAttribute&&e.getAttribute("class")||""}function Tt(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(V)||[]}T.fn.extend({prop:function(e,t){return ee(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[T.propFix[e]||e]}))}}),T.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&T.isXMLDoc(e)||(t=T.propFix[t]||t,i=T.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(e){var t,n,r,i,a,s;return v(e)?this.each((function(t){T(this).addClass(e.call(this,t,Et(this)))})):(t=Tt(e)).length?this.each((function(){if(r=Et(this),n=1===this.nodeType&&" "+wt(r)+" "){for(a=0;a<t.length;a++)i=t[a],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=wt(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,i,a,s;return v(e)?this.each((function(t){T(this).removeClass(e.call(this,t,Et(this)))})):arguments.length?(t=Tt(e)).length?this.each((function(){if(r=Et(this),n=1===this.nodeType&&" "+wt(r)+" "){for(a=0;a<t.length;a++)for(i=t[a];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=wt(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,a,s=typeof e,o="string"===s||Array.isArray(e);return v(e)?this.each((function(n){T(this).toggleClass(e.call(this,n,Et(this),t),t)})):"boolean"===typeof t&&o?t?this.addClass(e):this.removeClass(e):(n=Tt(e),this.each((function(){if(o)for(a=T(this),i=0;i<n.length;i++)r=n[i],a.hasClass(r)?a.removeClass(r):a.addClass(r);else void 0!==e&&"boolean"!==s||((r=Et(this))&&oe.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":oe.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+wt(Et(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;T.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,T(this).val()):e)?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=T.map(i,(function(e){return null==e?"":e+""}))),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(Ct,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:wt(T.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,o=s?null:[],l=s?a+1:i.length;for(r=a<0?l:s?a:0;r<l;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=T(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,a=T.makeArray(t),s=i.length;s--;)((r=i[s]).selected=T.inArray(T.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},g.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var kt=r.location,At={guid:Date.now()},jt=/\?/;T.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||T.error("Invalid XML: "+(n?T.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Nt=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,n,i){var a,s,o,l,c,u,d,h,p=[n||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(s=h=o=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!Nt.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[T.expando]?e:new T.Event(m,"object"===typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:T.makeArray(t,[e]),d=T.event.special[m]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!y(n)){for(l=d.delegateType||m,Nt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),o=s;o===(n.ownerDocument||b)&&p.push(o.defaultView||o.parentWindow||r)}for(a=0;(s=p[a++])&&!e.isPropagationStopped();)h=s,e.type=a>1?l:d.bindType||m,(u=(oe.get(s,"events")||Object.create(null))[e.type]&&oe.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&ae(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!ae(n)||c&&v(n[m])&&!y(n)&&((o=n[c])&&(n[c]=null),T.event.triggered=m,e.isPropagationStopped()&&h.addEventListener(m,Lt),n[m](),e.isPropagationStopped()&&h.removeEventListener(m,Lt),T.event.triggered=void 0,o&&(n[c]=o)),e.result}},simulate:function(e,t,n){var r=T.extend(new T.Event,n,{type:e,isSimulated:!0});T.event.trigger(r,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each((function(){T.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return T.event.trigger(e,t,n,!0)}});var Rt=/\[\]$/,Pt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,r){var i;if(Array.isArray(t))T.each(t,(function(t,i){n||Rt.test(e)?r(e,i):Ot(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==_(t))r(e,t);else for(i in t)Ot(e+"["+i+"]",t[i],n,r)}T.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,(function(){i(this.name,this.value)}));else for(n in e)Ot(n,e[n],t,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&Dt.test(this.nodeName)&&!It.test(e)&&(this.checked||!we.test(e))})).map((function(e,t){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:n.replace(Pt,"\r\n")}})).get()}});var Mt=/%20/g,Ft=/#.*$/,Ut=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Gt=/^\/\//,Ht={},zt={},Yt="*/".concat("*"),Wt=b.createElement("a");function Vt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(V)||[];if(v(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Kt(e,t,n,r){var i={},a=e===zt;function s(o){var l;return i[o]=!0,T.each(e[o]||[],(function(e,o){var c=o(t,n,r);return"string"!==typeof c||a||i[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function qt(e,t){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&T.extend(!0,e,r),e}Wt.href=kt.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,T.ajaxSettings),t):qt(T.ajaxSettings,e)},ajaxPrefilter:Vt(Ht),ajaxTransport:Vt(zt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i,a,s,o,l,c,u,d,h,f=T.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?T(p):T.event,g=T.Deferred(),v=T.Callbacks("once memory"),y=f.statusCode||{},x={},S={},_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=$t.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)w.always(e[w.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),E(0,t),this}};if(g.promise(w),f.url=((e||f.url||kt.href)+"").replace(Gt,kt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(V)||[""],null==f.crossDomain){l=b.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Wt.protocol+"//"+Wt.host!==l.protocol+"//"+l.host}catch(C){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!==typeof f.data&&(f.data=T.param(f.data,f.traditional)),Kt(Ht,f,t,w),c)return w;for(d in(u=T.event&&f.global)&&0===T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bt.test(f.type),i=f.url.replace(Ft,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Mt,"+")):(h=f.url.slice(i.length),f.data&&(f.processData||"string"===typeof f.data)&&(i+=(jt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Ut,"$1"),h=(jt.test(i)?"&":"?")+"_="+At.guid+++h),f.url=i+h),f.ifModified&&(T.lastModified[i]&&w.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&w.setRequestHeader("If-None-Match",T.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Yt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,w,f)||c))return w.abort();if(_="abort",v.add(f.complete),w.done(f.success),w.fail(f.error),n=Kt(zt,f,t,w)){if(w.readyState=1,u&&m.trigger("ajaxSend",[w,f]),c)return w;f.async&&f.timeout>0&&(o=r.setTimeout((function(){w.abort("timeout")}),f.timeout));try{c=!1,n.send(x,E)}catch(C){if(c)throw C;E(-1,C)}}else E(-1,"No Transport");function E(e,t,s,l){var d,h,b,x,S,_=t;c||(c=!0,o&&r.clearTimeout(o),n=void 0,a=l||"",w.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(x=function(e,t,n){for(var r,i,a,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}s||(s=i)}a=a||s}if(a)return a!==l[0]&&l.unshift(a),n[a]}(f,w,s)),!d&&T.inArray("script",f.dataTypes)>-1&&T.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=function(e,t,n,r){var i,a,s,o,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(s=c[l+" "+a]||c["* "+a]))for(i in c)if((o=i.split(" "))[1]===a&&(s=c[l+" "+o[0]]||c["* "+o[0]])){!0===s?s=c[i]:!0!==c[i]&&(a=o[0],u.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(C){return{state:"parsererror",error:s?C:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(f,x,w,d),d?(f.ifModified&&((S=w.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=S),(S=w.getResponseHeader("etag"))&&(T.etag[i]=S)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=x.state,h=x.data,d=!(b=x.error))):(b=_,!e&&_||(_="error",e<0&&(e=0))),w.status=e,w.statusText=(t||_)+"",d?g.resolveWith(p,[h,_,w]):g.rejectWith(p,[w,_,b]),w.statusCode(y),y=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[w,f,d?h:b]),v.fireWith(p,[w,_]),u&&(m.trigger("ajaxComplete",[w,f]),--T.active||T.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return T.get(e,t,n,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],(function(e,t){T[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:e,type:t,dataType:i,data:n,success:r},T.isPlainObject(e)&&e))}})),T.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),T._evalUrl=function(e,t,n){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,n)}})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){T(this).wrapInner(e.call(this,t))})):this.each((function(){var t=T(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){T(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Zt=T.ajaxSettings.xhr();g.cors=!!Zt&&"withCredentials"in Zt,g.ajax=Zt=!!Zt,T.ajaxTransport((function(e){var t,n;if(g.cors||Zt&&!e.crossDomain)return{send:function(i,a){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];for(s in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)o.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!==typeof o.status?a(0,"error"):a(o.status,o.statusText):a(Xt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!==typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),T.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),T.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=T("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Qt=[],Jt=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||T.expando+"_"+At.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",(function(e,t,n){var i,a,s,o=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Jt,"$1"+i):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||T.error(i+" was not called"),s[0]},e.dataTypes[0]="json",a=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===a?T(r).removeProp(i):r[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(i)),s&&v(a)&&a(s[0]),s=a=void 0})),"script"})),g.createHTMLDocument=function(){var e=b.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),T.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),a=!n&&[],(i=$.exec(e))?[t.createElement(i[1])]:(i=Ne([e],t,a),a&&a.length&&T(a).remove(),T.merge([],i.childNodes)));var r,i,a},T.fn.load=function(e,t,n){var r,i,a,s=this,o=e.indexOf(" ");return o>-1&&(r=wt(e.slice(o)),e=e.slice(0,o)),v(t)?(n=t,t=void 0):t&&"object"===typeof t&&(i="POST"),s.length>0&&T.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){a=arguments,s.html(r?T("<div>").append(T.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,a||[e.responseText,t,e])}))}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,(function(t){return e===t.elem})).length},T.offset={setOffset:function(e,t,n){var r,i,a,s,o,l,c=T.css(e,"position"),u=T(e),d={};"static"===c&&(e.style.position="relative"),o=u.offset(),a=T.css(e,"top"),l=T.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(a)||0,i=parseFloat(l)||0),v(t)&&(t=t.call(e,n,T.extend({},o))),null!=t.top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+i),"using"in t?t.using.call(e,d):u.css(d)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){T.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),i.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-T.css(r,"marginTop",!0),left:t.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||me}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;T.fn[e]=function(r){return ee(this,(function(e,r,i){var a;if(y(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[r]=i}),e,r,arguments.length)}})),T.each(["top","left"],(function(e,t){T.cssHooks[t]=Qe(g.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),We.test(n)?T(e).position()[t]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){T.fn[r]=function(i,a){var s=arguments.length&&(n||"boolean"!==typeof i),o=n||(!0===i||!0===a?"margin":"border");return ee(this,(function(t,n,i){var a;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?T.css(t,n,o):T.style(t,n,i,o)}),t,s?i:void 0,s)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){T.fn[t]=function(e){return this.on(t,e)}})),T.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){T.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),v(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||T.guid++,i},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=k,T.isFunction=v,T.isWindow=y,T.camelCase=ie,T.type=_,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},T.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},void 0===(n=function(){return T}.apply(t,[]))||(e.exports=n);var tn=r.jQuery,nn=r.$;return T.noConflict=function(e){return r.$===T&&(r.$=nn),e&&r.jQuery===T&&(r.jQuery=tn),T},"undefined"===typeof i&&(r.jQuery=r.$=T),T}))},536:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",s="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",S="[object Date]",_="[object Error]",w="[object Function]",E="[object GeneratorFunction]",T="[object Map]",C="[object Number]",k="[object Object]",A="[object Promise]",j="[object RegExp]",N="[object Set]",L="[object String]",R="[object Symbol]",P="[object WeakMap]",I="[object ArrayBuffer]",D="[object DataView]",O="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",$="[object Int32Array]",B="[object Uint8Array]",G="[object Uint8ClampedArray]",H="[object Uint16Array]",z="[object Uint32Array]",Y=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,X=RegExp(K.source),Z=RegExp(q.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),se=/^\s+/,oe=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",je="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Le="['\u2019]",Re="["+Ee+"]",Pe="["+Ne+"]",Ie="["+Te+"]",De="\\d+",Oe="["+Ce+"]",Me="["+ke+"]",Fe="[^"+Ee+Ne+De+Ce+ke+Ae+"]",Ue="\\ud83c[\\udffb-\\udfff]",$e="[^"+Ee+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ae+"]",ze="\\u200d",Ye="(?:"+Me+"|"+Fe+")",We="(?:"+He+"|"+Fe+")",Ve="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Ie+"|"+Ue+")"+"?",Xe="["+je+"]?",Ze=Xe+qe+("(?:"+ze+"(?:"+[$e,Be,Ge].join("|")+")"+Xe+qe+")*"),Qe="(?:"+[Oe,Be,Ge].join("|")+")"+Ze,Je="(?:"+[$e+Ie+"?",Ie,Be,Ge,Re].join("|")+")",et=RegExp(Le,"g"),tt=RegExp(Ie,"g"),nt=RegExp(Ue+"(?="+Ue+")|"+Je+Ze,"g"),rt=RegExp([He+"?"+Me+"+"+Ve+"(?="+[Pe,He,"$"].join("|")+")",We+"+"+Ke+"(?="+[Pe,He+Ye,"$"].join("|")+")",He+"?"+Ye+"+"+Ve,He+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Qe].join("|"),"g"),it=RegExp("["+ze+Ee+Te+je+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,lt={};lt[O]=lt[M]=lt[F]=lt[U]=lt[$]=lt[B]=lt[G]=lt[H]=lt[z]=!0,lt[y]=lt[b]=lt[I]=lt[x]=lt[D]=lt[S]=lt[_]=lt[w]=lt[T]=lt[C]=lt[k]=lt[j]=lt[N]=lt[L]=lt[P]=!1;var ct={};ct[y]=ct[b]=ct[I]=ct[D]=ct[x]=ct[S]=ct[O]=ct[M]=ct[F]=ct[U]=ct[$]=ct[T]=ct[C]=ct[k]=ct[j]=ct[N]=ct[L]=ct[R]=ct[B]=ct[G]=ct[H]=ct[z]=!0,ct[_]=ct[w]=ct[P]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&ft.process,xt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),St=xt&&xt.isArrayBuffer,_t=xt&&xt.isDate,wt=xt&&xt.isMap,Et=xt&&xt.isRegExp,Tt=xt&&xt.isSet,Ct=xt&&xt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var s=e[i];t(r,s,n(s),e)}return r}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}function Pt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Ot(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Mt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $t=Vt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Gt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ht(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Gt(e,Yt,n)}function zt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Yt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Vt(e){return function(t){return null==t?i:t[e]}}function Kt(e){return function(t){return null==e?i:e[t]}}function qt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Xt(e,t){for(var n,r=-1,a=e.length;++r<a;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Dt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var an=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):$t(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var vn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,st))).Array,r=t.Date,oe=t.Error,Ee=t.Function,Te=t.Math,Ce=t.Object,ke=t.RegExp,Ae=t.String,je=t.TypeError,Ne=n.prototype,Le=Ee.prototype,Re=Ce.prototype,Pe=t["__core-js_shared__"],Ie=Le.toString,De=Re.hasOwnProperty,Oe=0,Me=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Re.toString,Ue=Ie.call(Ce),$e=mt._,Be=ke("^"+Ie.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=yt?t.Buffer:i,He=t.Symbol,ze=t.Uint8Array,Ye=Ge?Ge.allocUnsafe:i,We=un(Ce.getPrototypeOf,Ce),Ve=Ce.create,Ke=Re.propertyIsEnumerable,qe=Ne.splice,Xe=He?He.isConcatSpreadable:i,Ze=He?He.iterator:i,Qe=He?He.toStringTag:i,Je=function(){try{var e=da(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,it=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=Te.ceil,pt=Te.floor,gt=Ce.getOwnPropertySymbols,vt=Ge?Ge.isBuffer:i,bt=t.isFinite,xt=Ne.join,$t=un(Ce.keys,Ce),Kt=Te.max,bn=Te.min,xn=r.now,Sn=t.parseInt,_n=Te.random,wn=Ne.reverse,En=da(t,"DataView"),Tn=da(t,"Map"),Cn=da(t,"Promise"),kn=da(t,"Set"),An=da(t,"WeakMap"),jn=da(Ce,"create"),Nn=An&&new An,Ln={},Rn=Ma(En),Pn=Ma(Tn),In=Ma(Cn),Dn=Ma(kn),On=Ma(An),Mn=He?He.prototype:i,Fn=Mn?Mn.valueOf:i,Un=Mn?Mn.toString:i;function $n(e){if(eo(e)&&!Hs(e)&&!(e instanceof zn)){if(e instanceof Hn)return e;if(De.call(e,"__wrapped__"))return Fa(e)}return new Hn(e)}var Bn=function(){function e(){}return function(t){if(!Js(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Gn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=Hs(e),r=!n&&Gs(e),i=!n&&!r&&Vs(e),a=!n&&!r&&!i&&lo(e),s=n||r||i||a,o=s?Zt(e.length,Ae):[],l=o.length;for(var c in e)!t&&!De.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ya(c,l))||o.push(c);return o}function Zn(e){var t=e.length;return t?e[Kr(0,t-1)]:i}function Qn(e,t){return Ia(ji(e),or(t,0,e.length))}function Jn(e){return Ia(ji(e))}function er(e,t,n){(n!==i&&!Us(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function tr(e,t,n){var r=e[t];De.call(e,t)&&Us(r,n)&&(n!==i||t in e)||ar(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Us(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&Ni(t,Lo(t),e)}function ar(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,a=t.length,s=n(a),o=null==e;++r<a;)s[r]=o?i:Co(e,t[r]);return s}function or(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,a,s){var o,l=1&t,c=2&t,u=4&t;if(n&&(o=a?n(e,r,a,s):n(e)),o!==i)return o;if(!Js(e))return e;var d=Hs(e);if(d){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return ji(e,o)}else{var h=pa(e),f=h==w||h==E;if(Vs(e))return wi(e,l);if(h==k||h==y||f&&!a){if(o=c||f?{}:ga(e),!l)return c?function(e,t){return Ni(e,fa(e),t)}(e,function(e,t){return e&&Ni(t,Ro(t),e)}(o,e)):function(e,t){return Ni(e,ha(e),t)}(e,ir(o,e))}else{if(!ct[h])return a?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case I:return Ei(e);case x:case S:return new r(+e);case D:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case O:case M:case F:case U:case $:case B:case G:case H:case z:return Ti(e,n);case T:return new r;case C:case L:return new r(e);case j:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case R:return i=e,Fn?Ce(Fn.call(i)):{}}var i}(e,h,l)}}s||(s=new qn);var p=s.get(e);if(p)return p;s.set(e,o),ao(e)?e.forEach((function(r){o.add(lr(r,t,n,r,e,s))})):to(e)&&e.forEach((function(r,i){o.set(i,lr(r,t,n,i,e,s))}));var m=d?i:(u?c?ia:ra:c?Ro:Lo)(e);return jt(m||e,(function(r,i){m&&(r=e[i=r]),tr(o,i,lr(r,t,n,i,e,s))})),o}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var a=n[r],s=t[a],o=e[a];if(o===i&&!(a in e)||!s(o))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new je(a);return Na((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,a=Pt,s=!0,o=e.length,l=[],c=t.length;if(!o)return l;n&&(t=Dt(t,Jt(n))),r?(a=It,s=!1):t.length>=200&&(a=tn,s=!1,t=new Kn(t));e:for(;++i<o;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else a(t,d,r)||l.push(u)}return l}$n.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:$n}},$n.prototype=Gn.prototype,$n.prototype.constructor=$n,Hn.prototype=Bn(Gn.prototype),Hn.prototype.constructor=Hn,zn.prototype=Bn(Gn.prototype),zn.prototype.constructor=zn,Yn.prototype.clear=function(){this.__data__=jn?jn(null):{},this.size=0},Yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Yn.prototype.get=function(e){var t=this.__data__;if(jn){var n=t[e];return n===s?i:n}return De.call(t,e)?t[e]:i},Yn.prototype.has=function(e){var t=this.__data__;return jn?t[e]!==i:De.call(t,e)},Yn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jn&&t===i?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():qe.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(Tn||Wn),string:new Yn}},Vn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Vn.prototype.get=function(e){return ca(this,e).get(e)},Vn.prototype.has=function(e){return ca(this,e).has(e)},Vn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,s),this},Kn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Wn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(e,t),this.size=n.size,this};var hr=Pi(xr),fr=Pi(Sr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var s=e[r],o=t(s);if(null!=o&&(l===i?o===o&&!oo(o):n(o,l)))var l=o,c=s}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=va),i||(i=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?vr(o,t-1,n,r,i):Ot(i,o):r||(i[i.length]=o)}return i}var yr=Ii(),br=Ii(!0);function xr(e,t){return e&&yr(e,t,Lo)}function Sr(e,t){return e&&br(e,t,Lo)}function _r(e,t){return Rt(t,(function(t){return Xs(e[t])}))}function wr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Oa(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Hs(e)?r:Ot(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Ce(e)?function(e){var t=De.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(s){}var a=Fe.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return a}(e):function(e){return Fe.call(e)}(e)}function Cr(e,t){return e>t}function kr(e,t){return null!=e&&De.call(e,t)}function Ar(e,t){return null!=e&&t in Ce(e)}function jr(e,t,r){for(var a=r?It:Pt,s=e[0].length,o=e.length,l=o,c=n(o),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Dt(h,Jt(t))),u=bn(h.length,u),c[l]=!r&&(t||s>=120&&h.length>=120)?new Kn(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&d.length<u;){var m=h[f],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,g):a(d,g,r))){for(l=o;--l;){var v=c[l];if(!(v?tn(v,g):a(e[l],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Nr(e,t,n){var r=null==(e=ka(e,t=bi(t,e)))?e:e[Oa(qa(t))];return null==r?i:kt(r,e,n)}function Lr(e){return eo(e)&&Tr(e)==y}function Rr(e,t,n,r,a){return e===t||(null==e||null==t||!eo(e)&&!eo(t)?e!==e&&t!==t:function(e,t,n,r,a,s){var o=Hs(e),l=Hs(t),c=o?b:pa(e),u=l?b:pa(t),d=(c=c==y?k:c)==k,h=(u=u==y?k:u)==k,f=c==u;if(f&&Vs(e)){if(!Vs(t))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new qn),o||lo(e)?ta(e,t,n,r,a,s):function(e,t,n,r,i,a,s){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!a(new ze(e),new ze(t)));case x:case S:case C:return Us(+e,+t);case _:return e.name==t.name&&e.message==t.message;case j:case L:return e==t+"";case T:var o=cn;case N:var l=1&r;if(o||(o=hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=ta(o(e),o(t),r,i,a,s);return s.delete(e),u;case R:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,n,r,a,s);if(!(1&n)){var p=d&&De.call(e,"__wrapped__"),m=h&&De.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return s||(s=new qn),a(g,v,n,r,s)}}if(!f)return!1;return s||(s=new qn),function(e,t,n,r,a,s){var o=1&n,l=ra(e),c=l.length,u=ra(t),d=u.length;if(c!=d&&!o)return!1;var h=c;for(;h--;){var f=l[h];if(!(o?f in t:De.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var v=o;for(;++h<c;){var y=e[f=l[h]],b=t[f];if(r)var x=o?r(b,y,f,t,e,s):r(y,b,f,e,t,s);if(!(x===i?y===b||a(y,b,n,r,s):x)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var S=e.constructor,_=t.constructor;S==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof _&&_ instanceof _||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,a,s)}(e,t,n,r,Rr,a))}function Pr(e,t,n,r){var a=n.length,s=a,o=!r;if(null==e)return!s;for(e=Ce(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var c=(l=n[a])[0],u=e[c],d=l[1];if(o&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new qn;if(r)var f=r(u,d,c,e,t,h);if(!(f===i?Rr(d,u,3,r,h):f))return!1}}return!0}function Ir(e){return!(!Js(e)||(t=e,Me&&Me in t))&&(Xs(e)?Be:ye).test(Ma(e));var t}function Dr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Hs(e)?Br(e[0],e[1]):$r(e):hl(e)}function Or(e){if(!wa(e))return $t(e);var t=[];for(var n in Ce(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!Js(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=wa(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Ur(e,t){var r=-1,i=Ys(e)?n(e.length):[];return hr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function $r(e){var t=ua(e);return 1==t.length&&t[0][2]?Ta(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Br(e,t){return xa(e)&&Ea(t)?Ta(Oa(e),t):function(n){var r=Co(n,e);return r===i&&r===t?ko(n,e):Rr(t,r,3)}}function Gr(e,t,n,r,a){e!==t&&yr(t,(function(s,o){if(a||(a=new qn),Js(s))!function(e,t,n,r,a,s,o){var l=Aa(e,n),c=Aa(t,n),u=o.get(c);if(u)return void er(e,n,u);var d=s?s(l,c,n+"",e,t,o):i,h=d===i;if(h){var f=Hs(c),p=!f&&Vs(c),m=!f&&!p&&lo(c);d=c,f||p||m?Hs(l)?d=l:Ws(l)?d=ji(l):p?(h=!1,d=wi(c,!0)):m?(h=!1,d=Ti(c,!0)):d=[]:ro(c)||Gs(c)?(d=l,Gs(l)?d=vo(l):Js(l)&&!Xs(l)||(d=ga(c))):h=!1}h&&(o.set(c,d),a(d,c,r,s,o),o.delete(c));er(e,n,d)}(e,t,o,n,Gr,r,a);else{var l=r?r(Aa(e,o),s,o+"",e,t,a):i;l===i&&(l=s),er(e,o,l)}}),Ro)}function Hr(e,t){var n=e.length;if(n)return ya(t+=t<0?n:0,n)?e[t]:i}function zr(e,t,n){t=t.length?Dt(t,(function(e){return Hs(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Dt(t,Jt(la()));var i=Ur(e,(function(e,n,i){var a=Dt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,s=i.length,o=n.length;for(;++r<s;){var l=Ci(i[r],a[r]);if(l)return r>=o?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Yr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var s=t[r],o=wr(e,s);n(o,s)&&Jr(a,bi(s,e),o)}return a}function Wr(e,t,n,r){var i=r?zt:Ht,a=-1,s=t.length,o=e;for(e===t&&(t=ji(t)),n&&(o=Dt(e,Jt(n)));++a<s;)for(var l=0,c=t[a],u=n?n(c):c;(l=i(o,u,l,r))>-1;)o!==e&&qe.call(o,l,1),qe.call(e,l,1);return e}function Vr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?qe.call(e,i,1):di(e,i)}}return e}function Kr(e,t){return e+pt(_n()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return La(Ca(e,t,rl),e+"")}function Zr(e){return Zn($o(e))}function Qr(e,t){var n=$o(e);return Ia(n,or(t,0,n.length))}function Jr(e,t,n,r){if(!Js(e))return e;for(var a=-1,s=(t=bi(t,e)).length,o=s-1,l=e;null!=l&&++a<s;){var c=Oa(t[a]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=o){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=Js(d)?d:ya(t[a+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=Nn?function(e,t){return Nn.set(e,t),e}:rl,ti=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Ia($o(e))}function ri(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=n(a);++i<a;)s[i]=e[i+t];return s}function ii(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,s=e[a];null!==s&&!oo(s)&&(n?s<=t:s<t)?r=a+1:i=a}return i}return si(e,t,rl,n)}function si(e,t,n,r){var a=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!==t,l=null===t,c=oo(t),u=t===i;a<s;){var d=pt((a+s)/2),h=n(e[d]),f=h!==i,p=null===h,m=h===h,g=oo(h);if(o)var v=r||m;else v=u?m&&(r||f):l?m&&f&&(r||!p):c?m&&f&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);v?a=d+1:s=d}return bn(s,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n],o=t?t(s):s;if(!n||!Us(o,l)){var l=o;a[i++]=0===s?0:s}}return a}function li(e){return"number"==typeof e?e:oo(e)?m:+e}function ci(e){if("string"==typeof e)return e;if(Hs(e))return Dt(e,ci)+"";if(oo(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Pt,a=e.length,s=!0,o=[],l=o;if(n)s=!1,i=It;else if(a>=200){var c=t?null:qi(e);if(c)return hn(c);s=!1,i=tn,l=new Kn}else l=t?[]:o;e:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}function di(e,t){return null==(e=ka(e,t=bi(t,e)))||delete e[Oa(qa(t))]}function hi(e,t,n,r){return Jr(e,t,n(wr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ri(e,r?0:a,r?a+1:i):ri(e,r?a+1:0,r?i:a)}function pi(e,t){var n=e;return n instanceof zn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var a=-1,s=n(i);++a<i;)for(var o=e[a],l=-1;++l<i;)l!=a&&(s[a]=dr(s[a]||o,e[l],t,r));return ui(vr(s,1),t,r)}function gi(e,t,n){for(var r=-1,a=e.length,s=t.length,o={};++r<a;){var l=r<s?t[r]:i;n(o,e[r],l)}return o}function vi(e){return Ws(e)?e:[]}function yi(e){return"function"==typeof e?e:rl}function bi(e,t){return Hs(e)?e:xa(e,t)?[e]:Da(yo(e))}var xi=Xr;function Si(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var _i=nt||function(e){return mt.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var n=e.length,r=Ye?Ye(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Ti(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,s=oo(e),o=t!==i,l=null===t,c=t===t,u=oo(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!s&&!u&&e<t||u&&n&&a&&!r&&!s||l&&n&&a||!o&&a||!c)return-1}return 0}function ki(e,t,r,i){for(var a=-1,s=e.length,o=r.length,l=-1,c=t.length,u=Kt(s-o,0),d=n(c+u),h=!i;++l<c;)d[l]=t[l];for(;++a<o;)(h||a<s)&&(d[r[a]]=e[a]);for(;u--;)d[l++]=e[a++];return d}function Ai(e,t,r,i){for(var a=-1,s=e.length,o=-1,l=r.length,c=-1,u=t.length,d=Kt(s-l,0),h=n(d+u),f=!i;++a<d;)h[a]=e[a];for(var p=a;++c<u;)h[p+c]=t[c];for(;++o<l;)(f||a<s)&&(h[p+r[o]]=e[a++]);return h}function ji(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ni(e,t,n,r){var a=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var l=t[s],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),a?ar(n,l,c):tr(n,l,c)}return n}function Li(e,t){return function(n,r){var i=Hs(n)?At:rr,a=t?t():{};return i(n,e,la(r,2),a)}}function Ri(e){return Xr((function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:i,o=a>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(a--,s):i,o&&ba(n[0],n[1],o)&&(s=a<3?i:s,a=1),t=Ce(t);++r<a;){var l=n[r];l&&e(t,l,r,s)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!Ys(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=Ce(n);(t?a--:++a<i)&&!1!==r(s[a],a,s););return n}}function Ii(e){return function(t,n,r){for(var i=-1,a=Ce(t),s=r(t),o=s.length;o--;){var l=s[e?o:++i];if(!1===n(a[l],l,a))break}return t}}function Di(e){return function(t){var n=ln(t=yo(t))?mn(t):i,r=n?n[0]:t.charAt(0),a=n?Si(n,1).join(""):t.slice(1);return r[e]()+a}}function Oi(e){return function(t){return Mt(Zo(Ho(t).replace(et,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return Js(r)?r:n}}function Fi(e){return function(t,n,r){var a=Ce(t);if(!Ys(t)){var s=la(n,3);t=Lo(t),n=function(e){return s(a[e],e,a)}}var o=e(t,n,r);return o>-1?a[s?t[o]:o]:i}}function Ui(e){return na((function(t){var n=t.length,r=n,s=Hn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new je(a);if(s&&!l&&"wrapper"==sa(o))var l=new Hn([],!0)}for(r=l?r:n;++r<n;){var c=sa(o=t[r]),u="wrapper"==c?aa(o):i;l=u&&Sa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[sa(u[0])].apply(l,u[3]):1==o.length&&Sa(o)?l[c]():l.thru(o)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Hs(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function $i(e,t,r,a,s,o,l,c,u,h){var f=t&d,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Mi(e);return function d(){for(var b=arguments.length,x=n(b),S=b;S--;)x[S]=arguments[S];if(g)var _=oa(d),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(x,_);if(a&&(x=ki(x,a,s,g)),o&&(x=Ai(x,o,l,g)),b-=w,g&&b<h){var E=dn(x,_);return Vi(e,t,$i,d.placeholder,r,x,E,c,u,h-b)}var T=p?r:this,C=m?T[e]:e;return b=x.length,c?x=function(e,t){var n=e.length,r=bn(t.length,n),a=ji(e);for(;r--;){var s=t[r];e[r]=ya(s,n)?a[s]:i}return e}(x,c):v&&b>1&&x.reverse(),f&&u<b&&(x.length=u),this&&this!==mt&&this instanceof d&&(C=y||Mi(C)),C.apply(T,x)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Gi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),a=e(n,r)}return a}}function Hi(e){return na((function(t){return t=Dt(t,Jt(la())),Xr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function zi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,ft(e/pn(t)));return ln(t)?Si(mn(r),0,e).join(""):r.slice(0,e)}function Yi(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=fo(t),r===i?(r=t,t=0):r=fo(r),function(e,t,r,i){for(var a=-1,s=Kt(ft((t-e)/(r||1)),0),o=n(s);s--;)o[i?s:++a]=e,e+=r;return o}(t,r,a=a===i?t<r?1:-1:fo(a),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=go(t),n=go(n)),e(t,n)}}function Vi(e,t,n,r,a,s,o,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,a,f?s:i,f?o:i,f?i:s,f?i:o,l,d,h],m=n.apply(i,p);return Sa(e)&&ja(m,p),m.placeholder=r,Ra(m,e,t)}function Ki(e){var t=Te[e];return function(e,n){if(e=go(e),(n=null==n?0:bn(po(n),292))&&bt(e)){var r=(yo(e)+"e").split("e");return+((r=(yo(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=kn&&1/hn(new kn([,-0]))[1]==f?function(e){return new kn(e)}:ll;function Xi(e){return function(t){var n=pa(t);return n==T?cn(t):n==N?fn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,r,s,f,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new je(a);var y=s?s.length:0;if(y||(t&=-97,s=f=i),m=m===i?m:Kt(po(m),0),g=g===i?g:po(g),y-=f?f.length:0,t&u){var b=s,x=f;s=f=i}var S=v?i:aa(e),_=[e,t,r,s,f,b,x,p,m,g];if(S&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?ki(c,l,t[4]):l,e[4]=c?dn(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ai(c,l,t[6]):l,e[6]=c?dn(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,S),e=_[0],t=_[1],r=_[2],s=_[3],f=_[4],!(g=_[9]=_[9]===i?v?0:e.length:Kt(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==l?function(e,t,r){var a=Mi(e);return function s(){for(var o=arguments.length,l=n(o),c=o,u=oa(s);c--;)l[c]=arguments[c];var d=o<3&&l[0]!==u&&l[o-1]!==u?[]:dn(l,u);return(o-=d.length)<r?Vi(e,t,$i,s.placeholder,i,l,d,i,i,r-o):kt(this&&this!==mt&&this instanceof s?a:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?$i.apply(i,_):function(e,t,r,i){var a=1&t,s=Mi(e);return function t(){for(var o=-1,l=arguments.length,c=-1,u=i.length,d=n(u+l),h=this&&this!==mt&&this instanceof t?s:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++o];return kt(h,a?r:this,d)}}(e,t,r,s);else var w=function(e,t,n){var r=1&t,i=Mi(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ra((S?ei:ja)(w,_),e,t)}function Qi(e,t,n,r){return e===i||Us(e,Re[n])&&!De.call(r,n)?t:e}function Ji(e,t,n,r,a,s){return Js(e)&&Js(t)&&(s.set(t,e),Gr(e,t,i,Ji,s),s.delete(t)),e}function ea(e){return ro(e)?i:e}function ta(e,t,n,r,a,s){var o=1&n,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new Kn:i;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=o?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tn(p,t)&&(m===e||a(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!a(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function na(e){return La(Ca(e,i,za),e+"")}function ra(e){return Er(e,Lo,ha)}function ia(e){return Er(e,Ro,fa)}var aa=Nn?function(e){return Nn.get(e)}:ll;function sa(e){for(var t=e.name+"",n=Ln[t],r=De.call(Ln,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function oa(e){return(De.call($n,"placeholder")?$n:e).placeholder}function la(){var e=$n.iteratee||il;return e=e===il?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ua(e){for(var t=Lo(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ea(i)]}return t}function da(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ir(n)?n:i}var ha=gt?function(e){return null==e?[]:(e=Ce(e),Rt(gt(e),(function(t){return Ke.call(e,t)})))}:ml,fa=gt?function(e){for(var t=[];e;)Ot(t,ha(e)),e=We(e);return t}:ml,pa=Tr;function ma(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var s=Oa(t[r]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Qs(i)&&ya(s,i)&&(Hs(e)||Gs(e))}function ga(e){return"function"!=typeof e.constructor||wa(e)?{}:Bn(We(e))}function va(e){return Hs(e)||Gs(e)||!!(Xe&&e&&e[Xe])}function ya(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!Js(n))return!1;var r=typeof t;return!!("number"==r?Ys(n)&&ya(t,n.length):"string"==r&&t in n)&&Us(n[t],e)}function xa(e,t){if(Hs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oo(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function Sa(e){var t=sa(e),n=$n[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=aa(n);return!!r&&e===r[0]}(En&&pa(new En(new ArrayBuffer(1)))!=D||Tn&&pa(new Tn)!=T||Cn&&pa(Cn.resolve())!=A||kn&&pa(new kn)!=N||An&&pa(new An)!=P)&&(pa=function(e){var t=Tr(e),n=t==k?e.constructor:i,r=n?Ma(n):"";if(r)switch(r){case Rn:return D;case Pn:return T;case In:return A;case Dn:return N;case On:return P}return t});var _a=Pe?Xs:gl;function wa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Ea(e){return e===e&&!Js(e)}function Ta(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ce(n)))}}function Ca(e,t,r){return t=Kt(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=Kt(i.length-t,0),o=n(s);++a<s;)o[a]=i[t+a];a=-1;for(var l=n(t+1);++a<t;)l[a]=i[a];return l[t]=r(o),kt(e,this,l)}}function ka(e,t){return t.length<2?e:wr(e,ri(t,0,-1))}function Aa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ja=Pa(ei),Na=ut||function(e,t){return mt.setTimeout(e,t)},La=Pa(ti);function Ra(e,t,n){var r=t+"";return La(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return jt(v,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Pa(e){var t=0,n=0;return function(){var r=xn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ia(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var s=Kr(n,a),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Da=function(e){var t=Ps(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Oa(e){if("string"==typeof e||oo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ma(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fa(e){if(e instanceof zn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=ji(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ua=Xr((function(e,t){return Ws(e)?dr(e,vr(t,1,Ws,!0)):[]})),$a=Xr((function(e,t){var n=qa(t);return Ws(n)&&(n=i),Ws(e)?dr(e,vr(t,1,Ws,!0),la(n,2)):[]})),Ba=Xr((function(e,t){var n=qa(t);return Ws(n)&&(n=i),Ws(e)?dr(e,vr(t,1,Ws,!0),i,n):[]}));function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:po(n);return i<0&&(i=Kt(r+i,0)),Gt(e,la(t,3),i)}function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=po(n),a=n<0?Kt(r+a,0):bn(a,r-1)),Gt(e,la(t,3),a,!0)}function za(e){return(null==e?0:e.length)?vr(e,1):[]}function Ya(e){return e&&e.length?e[0]:i}var Wa=Xr((function(e){var t=Dt(e,vi);return t.length&&t[0]===e[0]?jr(t):[]})),Va=Xr((function(e){var t=qa(e),n=Dt(e,vi);return t===qa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?jr(n,la(t,2)):[]})),Ka=Xr((function(e){var t=qa(e),n=Dt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?jr(n,i,t):[]}));function qa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xa=Xr(Za);function Za(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Qa=na((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Vr(e,Dt(t,(function(e){return ya(e,n)?+e:e})).sort(Ci)),r}));function Ja(e){return null==e?e:wn.call(e)}var es=Xr((function(e){return ui(vr(e,1,Ws,!0))})),ts=Xr((function(e){var t=qa(e);return Ws(t)&&(t=i),ui(vr(e,1,Ws,!0),la(t,2))})),ns=Xr((function(e){var t=qa(e);return t="function"==typeof t?t:i,ui(vr(e,1,Ws,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Ws(e))return t=Kt(e.length,t),!0})),Zt(t,(function(t){return Dt(e,Vt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Dt(n,(function(e){return kt(t,i,e)}))}var as=Xr((function(e,t){return Ws(e)?dr(e,t):[]})),ss=Xr((function(e){return mi(Rt(e,Ws))})),os=Xr((function(e){var t=qa(e);return Ws(t)&&(t=i),mi(Rt(e,Ws),la(t,2))})),ls=Xr((function(e){var t=qa(e);return t="function"==typeof t?t:i,mi(Rt(e,Ws),i,t)})),cs=Xr(rs);var us=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function ds(e){var t=$n(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var fs=na((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&ya(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:hs,args:[a],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var ps=Li((function(e,t,n){De.call(e,n)?++e[n]:ar(e,n,1)}));var ms=Fi(Ga),gs=Fi(Ha);function vs(e,t){return(Hs(e)?jt:hr)(e,la(t,3))}function ys(e,t){return(Hs(e)?Nt:fr)(e,la(t,3))}var bs=Li((function(e,t,n){De.call(e,n)?e[n].push(t):ar(e,n,[t])}));var xs=Xr((function(e,t,r){var i=-1,a="function"==typeof t,s=Ys(e)?n(e.length):[];return hr(e,(function(e){s[++i]=a?kt(t,e,r):Nr(e,t,r)})),s})),Ss=Li((function(e,t,n){ar(e,n,t)}));function _s(e,t){return(Hs(e)?Dt:Ur)(e,la(t,3))}var ws=Li((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Es=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,vr(t,1),[])})),Ts=it||function(){return mt.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zi(e,d,i,i,i,i,t)}function ks(e,t){var n;if("function"!=typeof t)throw new je(a);return e=po(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var As=Xr((function(e,t,n){var r=1;if(n.length){var i=dn(n,oa(As));r|=c}return Zi(e,r,t,n,i)})),js=Xr((function(e,t,n){var r=3;if(n.length){var i=dn(n,oa(js));r|=c}return Zi(t,r,e,n,i)}));function Ns(e,t,n){var r,s,o,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new je(a);function m(t){var n=r,a=s;return r=s=i,d=t,l=e.apply(a,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=o}function v(){var e=Ts();if(g(e))return y(e);c=Na(v,function(e){var n=t-(e-u);return f?bn(n,o-(e-d)):n}(e))}function y(e){return c=i,p&&r?m(e):(r=s=i,l)}function b(){var e=Ts(),n=g(e);if(r=arguments,s=this,u=e,n){if(c===i)return function(e){return d=e,c=Na(v,t),h?m(e):l}(u);if(f)return _i(c),c=Na(v,t),m(u)}return c===i&&(c=Na(v,t)),l}return t=go(t)||0,Js(n)&&(h=!!n.leading,o=(f="maxWait"in n)?Kt(go(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&_i(c),d=0,r=u=s=c=i},b.flush=function(){return c===i?l:y(Ts())},b}var Ls=Xr((function(e,t){return ur(e,1,t)})),Rs=Xr((function(e,t,n){return ur(e,go(t)||0,n)}));function Ps(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new je(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(Ps.Cache||Vn),n}function Is(e){if("function"!=typeof e)throw new je(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ps.Cache=Vn;var Ds=xi((function(e,t){var n=(t=1==t.length&&Hs(t[0])?Dt(t[0],Jt(la())):Dt(vr(t,1),Jt(la()))).length;return Xr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Os=Xr((function(e,t){var n=dn(t,oa(Os));return Zi(e,c,i,t,n)})),Ms=Xr((function(e,t){var n=dn(t,oa(Ms));return Zi(e,u,i,t,n)})),Fs=na((function(e,t){return Zi(e,h,i,i,i,t)}));function Us(e,t){return e===t||e!==e&&t!==t}var $s=Wi(Cr),Bs=Wi((function(e,t){return e>=t})),Gs=Lr(function(){return arguments}())?Lr:function(e){return eo(e)&&De.call(e,"callee")&&!Ke.call(e,"callee")},Hs=n.isArray,zs=St?Jt(St):function(e){return eo(e)&&Tr(e)==I};function Ys(e){return null!=e&&Qs(e.length)&&!Xs(e)}function Ws(e){return eo(e)&&Ys(e)}var Vs=vt||gl,Ks=_t?Jt(_t):function(e){return eo(e)&&Tr(e)==S};function qs(e){if(!eo(e))return!1;var t=Tr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ro(e)}function Xs(e){if(!Js(e))return!1;var t=Tr(e);return t==w||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==po(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function Js(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eo(e){return null!=e&&"object"==typeof e}var to=wt?Jt(wt):function(e){return eo(e)&&pa(e)==T};function no(e){return"number"==typeof e||eo(e)&&Tr(e)==C}function ro(e){if(!eo(e)||Tr(e)!=k)return!1;var t=We(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==Ue}var io=Et?Jt(Et):function(e){return eo(e)&&Tr(e)==j};var ao=Tt?Jt(Tt):function(e){return eo(e)&&pa(e)==N};function so(e){return"string"==typeof e||!Hs(e)&&eo(e)&&Tr(e)==L}function oo(e){return"symbol"==typeof e||eo(e)&&Tr(e)==R}var lo=Ct?Jt(Ct):function(e){return eo(e)&&Qs(e.length)&&!!lt[Tr(e)]};var co=Wi(Fr),uo=Wi((function(e,t){return e<=t}));function ho(e){if(!e)return[];if(Ys(e))return so(e)?mn(e):ji(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=pa(e);return(t==T?cn:t==N?hn:$o)(e)}function fo(e){return e?(e=go(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function po(e){var t=fo(e),n=t%1;return t===t?n?t-n:t:0}function mo(e){return e?or(po(e),0,g):0}function go(e){if("number"==typeof e)return e;if(oo(e))return m;if(Js(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Js(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function vo(e){return Ni(e,Ro(e))}function yo(e){return null==e?"":ci(e)}var bo=Ri((function(e,t){if(wa(t)||Ys(t))Ni(t,Lo(t),e);else for(var n in t)De.call(t,n)&&tr(e,n,t[n])})),xo=Ri((function(e,t){Ni(t,Ro(t),e)})),So=Ri((function(e,t,n,r){Ni(t,Ro(t),e,r)})),_o=Ri((function(e,t,n,r){Ni(t,Lo(t),e,r)})),wo=na(sr);var Eo=Xr((function(e,t){e=Ce(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var s=t[n],o=Ro(s),l=-1,c=o.length;++l<c;){var u=o[l],d=e[u];(d===i||Us(d,Re[u])&&!De.call(e,u))&&(e[u]=s[u])}return e})),To=Xr((function(e){return e.push(i,Ji),kt(Io,i,e)}));function Co(e,t,n){var r=null==e?i:wr(e,t);return r===i?n:r}function ko(e,t){return null!=e&&ma(e,t,Ar)}var Ao=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),el(rl)),jo=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),la),No=Xr(Nr);function Lo(e){return Ys(e)?Xn(e):Or(e)}function Ro(e){return Ys(e)?Xn(e,!0):Mr(e)}var Po=Ri((function(e,t,n){Gr(e,t,n)})),Io=Ri((function(e,t,n,r){Gr(e,t,n,r)})),Do=na((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ni(e,ia(e),n),r&&(n=lr(n,7,ea));for(var i=t.length;i--;)di(n,t[i]);return n}));var Oo=na((function(e,t){return null==e?{}:function(e,t){return Yr(e,t,(function(t,n){return ko(e,n)}))}(e,t)}));function Mo(e,t){if(null==e)return{};var n=Dt(ia(e),(function(e){return[e]}));return t=la(t),Yr(e,n,(function(e,n){return t(e,n[0])}))}var Fo=Xi(Lo),Uo=Xi(Ro);function $o(e){return null==e?[]:en(e,Lo(e))}var Bo=Oi((function(e,t,n){return t=t.toLowerCase(),e+(n?Go(t):t)}));function Go(e){return Xo(yo(e).toLowerCase())}function Ho(e){return(e=yo(e))&&e.replace(Se,an).replace(tt,"")}var zo=Oi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Yo=Oi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wo=Di("toLowerCase");var Vo=Oi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ko=Oi((function(e,t,n){return e+(n?" ":"")+Xo(t)}));var qo=Oi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xo=Di("toUpperCase");function Zo(e,t,n){return e=yo(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qo=Xr((function(e,t){try{return kt(e,i,t)}catch(n){return qs(n)?n:new oe(n)}})),Jo=na((function(e,t){return jt(t,(function(t){t=Oa(t),ar(e,t,As(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Ui(),nl=Ui(!0);function rl(e){return e}function il(e){return Dr("function"==typeof e?e:lr(e,1))}var al=Xr((function(e,t){return function(n){return Nr(n,e,t)}})),sl=Xr((function(e,t){return function(n){return Nr(e,n,t)}}));function ol(e,t,n){var r=Lo(t),i=_r(t,r);null!=n||Js(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Lo(t)));var a=!(Js(n)&&"chain"in n)||!!n.chain,s=Xs(e);return jt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=ji(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ot([this.value()],arguments))})})),e}function ll(){}var cl=Hi(Dt),ul=Hi(Lt),dl=Hi(Ut);function hl(e){return xa(e)?Vt(Oa(e)):function(e){return function(t){return wr(t,e)}}(e)}var fl=Yi(),pl=Yi(!0);function ml(){return[]}function gl(){return!1}var vl=Gi((function(e,t){return e+t}),0),yl=Ki("ceil"),bl=Gi((function(e,t){return e/t}),1),xl=Ki("floor");var Sl=Gi((function(e,t){return e*t}),1),_l=Ki("round"),wl=Gi((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new je(a);return e=po(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=Cs,$n.assign=bo,$n.assignIn=xo,$n.assignInWith=So,$n.assignWith=_o,$n.at=wo,$n.before=ks,$n.bind=As,$n.bindAll=Jo,$n.bindKey=js,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hs(e)?e:[e]},$n.chain=ds,$n.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:Kt(po(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var s=0,o=0,l=n(ft(a/t));s<a;)l[o++]=ri(e,s,s+=t);return l},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ot(Hs(r)?ji(r):[r],vr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=la();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new je(a);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Lo(e);return function(n){return cr(n,e,t)}}(lr(e,1))},$n.constant=el,$n.countBy=ps,$n.create=function(e,t){var n=Bn(e);return null==t?n:ir(n,t)},$n.curry=function e(t,n,r){var a=Zi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},$n.curryRight=function e(t,n,r){var a=Zi(t,l,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},$n.debounce=Ns,$n.defaults=Eo,$n.defaultsDeep=To,$n.defer=Ls,$n.delay=Rs,$n.difference=Ua,$n.differenceBy=$a,$n.differenceWith=Ba,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:po(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:po(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!0):[]},$n.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=po(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:po(r))<0&&(r+=a),r=n>r?0:mo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Hs(e)?Rt:gr)(e,la(t,3))},$n.flatMap=function(e,t){return vr(_s(e,t),1)},$n.flatMapDeep=function(e,t){return vr(_s(e,t),f)},$n.flatMapDepth=function(e,t,n){return n=n===i?1:po(n),vr(_s(e,t),n)},$n.flatten=za,$n.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:po(t)):[]},$n.flip=function(e){return Zi(e,512)},$n.flow=tl,$n.flowRight=nl,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},$n.functions=function(e){return null==e?[]:_r(e,Lo(e))},$n.functionsIn=function(e){return null==e?[]:_r(e,Ro(e))},$n.groupBy=bs,$n.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},$n.intersection=Wa,$n.intersectionBy=Va,$n.intersectionWith=Ka,$n.invert=Ao,$n.invertBy=jo,$n.invokeMap=xs,$n.iteratee=il,$n.keyBy=Ss,$n.keys=Lo,$n.keysIn=Ro,$n.map=_s,$n.mapKeys=function(e,t){var n={};return t=la(t,3),xr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},$n.mapValues=function(e,t){var n={};return t=la(t,3),xr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},$n.matches=function(e){return $r(lr(e,1))},$n.matchesProperty=function(e,t){return Br(e,lr(t,1))},$n.memoize=Ps,$n.merge=Po,$n.mergeWith=Io,$n.method=al,$n.methodOf=sl,$n.mixin=ol,$n.negate=Is,$n.nthArg=function(e){return e=po(e),Xr((function(t){return Hr(t,e)}))},$n.omit=Do,$n.omitBy=function(e,t){return Mo(e,Is(la(t)))},$n.once=function(e){return ks(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Hs(t)||(t=null==t?[]:[t]),Hs(n=r?i:n)||(n=null==n?[]:[n]),zr(e,t,n))},$n.over=cl,$n.overArgs=Ds,$n.overEvery=ul,$n.overSome=dl,$n.partial=Os,$n.partialRight=Ms,$n.partition=ws,$n.pick=Oo,$n.pickBy=Mo,$n.property=hl,$n.propertyOf=function(e){return function(t){return null==e?i:wr(e,t)}},$n.pull=Xa,$n.pullAll=Za,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,la(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},$n.pullAt=Qa,$n.range=fl,$n.rangeRight=pl,$n.rearg=Fs,$n.reject=function(e,t){return(Hs(e)?Rt:gr)(e,Is(la(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=la(t,3);++r<a;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Vr(e,i),n},$n.rest=function(e,t){if("function"!=typeof e)throw new je(a);return Xr(e,t=t===i?t:po(t))},$n.reverse=Ja,$n.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:po(t),(Hs(e)?Qn:Qr)(e,t)},$n.set=function(e,t,n){return null==e?e:Jr(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Jr(e,t,n,r)},$n.shuffle=function(e){return(Hs(e)?Jn:ni)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:po(t),n=n===i?r:po(n)),ri(e,t,n)):[]},$n.sortBy=Es,$n.sortedUniq=function(e){return e&&e.length?oi(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?oi(e,la(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=yo(e))&&("string"==typeof t||null!=t&&!io(t))&&!(t=ci(t))&&ln(e)?Si(mn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new je(a);return t=null==t?0:Kt(po(t),0),Xr((function(n){var r=n[t],i=Si(n,0,t);return r&&Ot(i,r),kt(e,this,i)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:po(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:po(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?fi(e,la(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new je(a);return Js(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ns(e,t,{leading:r,maxWait:t,trailing:i})},$n.thru=hs,$n.toArray=ho,$n.toPairs=Fo,$n.toPairsIn=Uo,$n.toPath=function(e){return Hs(e)?Dt(e,Oa):oo(e)?[e]:ji(Da(yo(e)))},$n.toPlainObject=vo,$n.transform=function(e,t,n){var r=Hs(e),i=r||Vs(e)||lo(e);if(t=la(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Js(e)&&Xs(a)?Bn(We(e)):{}}return(i?jt:xr)(e,(function(e,r,i){return t(n,e,r,i)})),n},$n.unary=function(e){return Cs(e,1)},$n.union=es,$n.unionBy=ts,$n.unionWith=ns,$n.uniq=function(e){return e&&e.length?ui(e):[]},$n.uniqBy=function(e,t){return e&&e.length?ui(e,la(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},$n.unset=function(e,t){return null==e||di(e,t)},$n.unzip=rs,$n.unzipWith=is,$n.update=function(e,t,n){return null==e?e:hi(e,t,yi(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,yi(n),r)},$n.values=$o,$n.valuesIn=function(e){return null==e?[]:en(e,Ro(e))},$n.without=as,$n.words=Zo,$n.wrap=function(e,t){return Os(yi(t),e)},$n.xor=ss,$n.xorBy=os,$n.xorWith=ls,$n.zip=cs,$n.zipObject=function(e,t){return gi(e||[],t||[],tr)},$n.zipObjectDeep=function(e,t){return gi(e||[],t||[],Jr)},$n.zipWith=us,$n.entries=Fo,$n.entriesIn=Uo,$n.extend=xo,$n.extendWith=So,ol($n,$n),$n.add=vl,$n.attempt=Qo,$n.camelCase=Bo,$n.capitalize=Go,$n.ceil=yl,$n.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=go(n))===n?n:0),t!==i&&(t=(t=go(t))===t?t:0),or(go(e),t,n)},$n.clone=function(e){return lr(e,4)},$n.cloneDeep=function(e){return lr(e,5)},$n.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},$n.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},$n.conformsTo=function(e,t){return null==t||cr(e,t,Lo(t))},$n.deburr=Ho,$n.defaultTo=function(e,t){return null==e||e!==e?t:e},$n.divide=bl,$n.endsWith=function(e,t,n){e=yo(e),t=ci(t);var r=e.length,a=n=n===i?r:or(po(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},$n.eq=Us,$n.escape=function(e){return(e=yo(e))&&Z.test(e)?e.replace(q,sn):e},$n.escapeRegExp=function(e){return(e=yo(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},$n.every=function(e,t,n){var r=Hs(e)?Lt:pr;return n&&ba(e,t,n)&&(t=i),r(e,la(t,3))},$n.find=ms,$n.findIndex=Ga,$n.findKey=function(e,t){return Bt(e,la(t,3),xr)},$n.findLast=gs,$n.findLastIndex=Ha,$n.findLastKey=function(e,t){return Bt(e,la(t,3),Sr)},$n.floor=xl,$n.forEach=vs,$n.forEachRight=ys,$n.forIn=function(e,t){return null==e?e:yr(e,la(t,3),Ro)},$n.forInRight=function(e,t){return null==e?e:br(e,la(t,3),Ro)},$n.forOwn=function(e,t){return e&&xr(e,la(t,3))},$n.forOwnRight=function(e,t){return e&&Sr(e,la(t,3))},$n.get=Co,$n.gt=$s,$n.gte=Bs,$n.has=function(e,t){return null!=e&&ma(e,t,kr)},$n.hasIn=ko,$n.head=Ya,$n.identity=rl,$n.includes=function(e,t,n,r){e=Ys(e)?e:$o(e),n=n&&!r?po(n):0;var i=e.length;return n<0&&(n=Kt(i+n,0)),so(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ht(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:po(n);return i<0&&(i=Kt(r+i,0)),Ht(e,t,i)},$n.inRange=function(e,t,n){return t=fo(t),n===i?(n=t,t=0):n=fo(n),function(e,t,n){return e>=bn(t,n)&&e<Kt(t,n)}(e=go(e),t,n)},$n.invoke=No,$n.isArguments=Gs,$n.isArray=Hs,$n.isArrayBuffer=zs,$n.isArrayLike=Ys,$n.isArrayLikeObject=Ws,$n.isBoolean=function(e){return!0===e||!1===e||eo(e)&&Tr(e)==x},$n.isBuffer=Vs,$n.isDate=Ks,$n.isElement=function(e){return eo(e)&&1===e.nodeType&&!ro(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(Hs(e)||"string"==typeof e||"function"==typeof e.splice||Vs(e)||lo(e)||Gs(e)))return!e.length;var t=pa(e);if(t==T||t==N)return!e.size;if(wa(e))return!Or(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Rr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},$n.isError=qs,$n.isFinite=function(e){return"number"==typeof e&&bt(e)},$n.isFunction=Xs,$n.isInteger=Zs,$n.isLength=Qs,$n.isMap=to,$n.isMatch=function(e,t){return e===t||Pr(e,t,ua(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,ua(t),n)},$n.isNaN=function(e){return no(e)&&e!=+e},$n.isNative=function(e){if(_a(e))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=no,$n.isObject=Js,$n.isObjectLike=eo,$n.isPlainObject=ro,$n.isRegExp=io,$n.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=p},$n.isSet=ao,$n.isString=so,$n.isSymbol=oo,$n.isTypedArray=lo,$n.isUndefined=function(e){return e===i},$n.isWeakMap=function(e){return eo(e)&&pa(e)==P},$n.isWeakSet=function(e){return eo(e)&&"[object WeakSet]"==Tr(e)},$n.join=function(e,t){return null==e?"":xt.call(e,t)},$n.kebabCase=zo,$n.last=qa,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=po(n))<0?Kt(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Gt(e,Yt,a,!0)},$n.lowerCase=Yo,$n.lowerFirst=Wo,$n.lt=co,$n.lte=uo,$n.max=function(e){return e&&e.length?mr(e,rl,Cr):i},$n.maxBy=function(e,t){return e&&e.length?mr(e,la(t,2),Cr):i},$n.mean=function(e){return Wt(e,rl)},$n.meanBy=function(e,t){return Wt(e,la(t,2))},$n.min=function(e){return e&&e.length?mr(e,rl,Fr):i},$n.minBy=function(e,t){return e&&e.length?mr(e,la(t,2),Fr):i},$n.stubArray=ml,$n.stubFalse=gl,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=Sl,$n.nth=function(e,t){return e&&e.length?Hr(e,po(t)):i},$n.noConflict=function(){return mt._===this&&(mt._=$e),this},$n.noop=ll,$n.now=Ts,$n.pad=function(e,t,n){e=yo(e);var r=(t=po(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return zi(pt(i),n)+e+zi(ft(i),n)},$n.padEnd=function(e,t,n){e=yo(e);var r=(t=po(t))?pn(e):0;return t&&r<t?e+zi(t-r,n):e},$n.padStart=function(e,t,n){e=yo(e);var r=(t=po(t))?pn(e):0;return t&&r<t?zi(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(yo(e).replace(se,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fo(e),t===i?(t=e,e=0):t=fo(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=_n();return bn(e+a*(t-e+dt("1e-"+((a+"").length-1))),t)}return Kr(e,t)},$n.reduce=function(e,t,n){var r=Hs(e)?Mt:qt,i=arguments.length<3;return r(e,la(t,4),n,i,hr)},$n.reduceRight=function(e,t,n){var r=Hs(e)?Ft:qt,i=arguments.length<3;return r(e,la(t,4),n,i,fr)},$n.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:po(t),qr(yo(e),t)},$n.replace=function(){var e=arguments,t=yo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var s=null==e?i:e[Oa(t[r])];s===i&&(r=a,s=n),e=Xs(s)?s.call(e):s}return e},$n.round=_l,$n.runInContext=e,$n.sample=function(e){return(Hs(e)?Zn:Zr)(e)},$n.size=function(e){if(null==e)return 0;if(Ys(e))return so(e)?pn(e):e.length;var t=pa(e);return t==T||t==N?e.size:Or(e).length},$n.snakeCase=Vo,$n.some=function(e,t,n){var r=Hs(e)?Ut:ii;return n&&ba(e,t,n)&&(t=i),r(e,la(t,3))},$n.sortedIndex=function(e,t){return ai(e,t)},$n.sortedIndexBy=function(e,t,n){return si(e,t,la(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Us(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return ai(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return si(e,t,la(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Us(e[n],t))return n}return-1},$n.startCase=Ko,$n.startsWith=function(e,t,n){return e=yo(e),n=null==n?0:or(po(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},$n.subtract=wl,$n.sum=function(e){return e&&e.length?Xt(e,rl):0},$n.sumBy=function(e,t){return e&&e.length?Xt(e,la(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&ba(e,t,n)&&(t=i),e=yo(e),t=So({},t,r,Qi);var a,s,o=So({},t.imports,r.imports,Qi),l=Lo(o),c=en(o,l),u=0,d=t.interpolate||_e,h="__p += '",f=ke((t.escape||_e).source+"|"+d.source+"|"+(d===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(f,(function(t,n,r,i,o,l){return r||(r=i),h+=e.slice(u,l).replace(we,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=De.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new oe("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(Y,""):h).replace(W,"$1").replace(V,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qo((function(){return Ee(l,p+"return "+h).apply(i,c)}));if(g.source=h,qs(g))throw g;return g},$n.times=function(e,t){if((e=po(e))<1||e>p)return[];var n=g,r=bn(e,g);t=la(t),e-=g;for(var i=Zt(r,t);++n<e;)t(n);return i},$n.toFinite=fo,$n.toInteger=po,$n.toLength=mo,$n.toLower=function(e){return yo(e).toLowerCase()},$n.toNumber=go,$n.toSafeInteger=function(e){return e?or(po(e),-9007199254740991,p):0===e?e:0},$n.toString=yo,$n.toUpper=function(e){return yo(e).toUpperCase()},$n.trim=function(e,t,n){if((e=yo(e))&&(n||t===i))return Qt(e);if(!e||!(t=ci(t)))return e;var r=mn(e),a=mn(t);return Si(r,nn(r,a),rn(r,a)+1).join("")},$n.trimEnd=function(e,t,n){if((e=yo(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=mn(e);return Si(r,0,rn(r,mn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=yo(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var r=mn(e);return Si(r,nn(r,mn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(Js(t)){var a="separator"in t?t.separator:a;n="length"in t?po(t.length):n,r="omission"in t?ci(t.omission):r}var s=(e=yo(e)).length;if(ln(e)){var o=mn(e);s=o.length}if(n>=s)return e;var l=n-pn(r);if(l<1)return r;var c=o?Si(o,0,l).join(""):e.slice(0,l);if(a===i)return c+r;if(o&&(l+=c.length-l),io(a)){if(e.slice(l).search(a)){var u,d=c;for(a.global||(a=ke(a.source,yo(me.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ci(a),l)!=l){var f=c.lastIndexOf(a);f>-1&&(c=c.slice(0,f))}return c+r},$n.unescape=function(e){return(e=yo(e))&&X.test(e)?e.replace(K,vn):e},$n.uniqueId=function(e){var t=++Oe;return yo(e)+t},$n.upperCase=qo,$n.upperFirst=Xo,$n.each=vs,$n.eachRight=ys,$n.first=Ya,ol($n,function(){var e={};return xr($n,(function(t,n){De.call($n.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),$n.VERSION="4.17.21",jt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),jt(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===i?1:Kt(po(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),jt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:la(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),jt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),jt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(rl)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Nr(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Is(la(e)))},zn.prototype.slice=function(e,t){e=po(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=po(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(g)},xr(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=$n[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);a&&($n.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,l=t instanceof zn,c=o[0],u=l||Hs(t),d=function(e){var t=a.apply($n,Ot([e],o));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=l&&!f;if(!s&&u){t=m?t:new zn(this);var g=e.apply(t,o);return g.__actions__.push({func:hs,args:[d],thisArg:i}),new Hn(g,h)}return p&&m?e.apply(this,o):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),jt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Hs(i)?i:[],e)}return this[n]((function(n){return t.apply(Hs(n)?n:[],e)}))}})),xr(zn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";De.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:t,func:n})}})),Ln[$i(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=ji(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ji(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ji(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Hs(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=Kt(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=a.start,o=a.end,l=o-s,c=r?o:s-1,u=this.__iteratees__,d=u.length,h=0,f=bn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,x=y(g);if(2==b)g=x;else if(!x){if(1==b)continue e;break e}}p[h++]=g}return p},$n.prototype.at=fs,$n.prototype.chain=function(){return ds(this)},$n.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===i&&(this.__values__=ho(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof Gn;){var r=Fa(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:hs,args:[Ja],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(Ja)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Ze&&($n.prototype[Ze]=function(){return this}),$n}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,s,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(o[c]=a[c]);if(t){s=t(a);for(var u=0;u<s.length;u++)r.call(a,s[u])&&(o[s[u]]=a[s[u]])}}return o}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},360:function(e,t,n){!function(e,t){"use strict";var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var s=function(){return i(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/countriesminified.json").then((function(e){return e.json()}))];case 1:return[2,e.sent()]}}))}))},o=function(){return i(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/languagesminified.json").then((function(e){return e.json()}))];case 1:return[2,e.sent()]}}))}))},l=function(e){return i(void 0,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/statesminified.json").then((function(e){return e.json()}))];case 1:return t=r.sent(),[2,(n=t.find((function(t){return t.id===e})))&&n.states?n.states:[]]}}))}))},c=function(e,t){return i(void 0,void 0,void 0,(function(){var n,r,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/citiesminified.json").then((function(e){return e.json()}))];case 1:return n=a.sent(),(r=n.find((function(t){return t.id===e})))?(i=r&&r.states?r.states:[],[2,(s=i.find((function(e){return e.id===t})))&&s.cities?s.cities:[]]):[2,[]]}}))}))},u=function(){return t.createElement("svg",{height:"20",width:"20",viewBox:"0 0 20 20"},t.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},d=function(e){var i=e.placeHolder,a=e.options,s=e.onChange,o=e.inputClassName,l=e.onTextChange,c=e.defaultValue,d=e.showFlag,h=void 0===d||d,f=r(e,["placeHolder","options","onChange","inputClassName","onTextChange","defaultValue","showFlag"]),p=t.useState(!1),m=p[0],g=p[1],v=t.useState(),y=v[0],b=v[1],x=t.useState(""),S=x[0],_=x[1],w=t.useRef(null),E=t.useRef(null);t.useEffect((function(){c&&b(c)}),[c]),t.useEffect((function(){_(""),m&&w.current&&w.current.focus()}),[m]),t.useEffect((function(){var e=function(e){E.current&&!E.current.contains(e.target)&&g(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}));var T=function(e){return!!y&&y.id===e.id};return t.createElement("div",{className:"stdropdown-container"},t.createElement("div",{ref:E,onClick:function(){g(!0)},className:"stdropdown-input stsearch-box"},t.createElement("input",n({},f,{className:o,onChange:function(e){_(e.target.value),b(void 0),l&&l(e)},value:y?"".concat(h&&"emoji"in y?y.emoji:""," ").concat(y.name):S||"",placeholder:i,ref:w})),t.createElement("div",{className:"stdropdown-tools"},t.createElement("div",{className:"stdropdown-tool"},t.createElement(u,null)))),m&&t.createElement("div",{className:"stdropdown-menu"},(S?a.filter((function(e){return e.name.toLowerCase().indexOf(S.toLowerCase())>=0})):a).map((function(e){return t.createElement("div",{onClick:function(){return function(e){b(e),s(e)}(e)},key:e.id,className:"".concat("stdropdown-item"," ").concat(T(e)&&"selected")},h&&t.createElement("span",null,"emoji"in e?e.emoji:""),e.name)}))))},h=function(){return t.createElement("svg",{height:"20",width:"20",viewBox:"0 0 20 20"},t.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},f=function(e){var i=e.placeHolder,a=e.options,s=e.onChange,o=e.inputClassName,l=e.onTextChange,c=e.defaultValue,u=e.displayNative,d=r(e,["placeHolder","options","onChange","inputClassName","onTextChange","defaultValue","displayNative"]),f=t.useState(!1),p=f[0],m=f[1],g=t.useState(),v=g[0],y=g[1],b=t.useState(""),x=b[0],S=b[1],_=t.useRef(null),w=t.useRef(null);t.useEffect((function(){c&&y(c)}),[c]),t.useEffect((function(){S(""),p&&_.current&&_.current.focus()}),[p]),t.useEffect((function(){var e=function(e){w.current&&!w.current.contains(e.target)&&m(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}));var E=function(e){return!!v&&v.code===e.code};return t.createElement("div",{className:"stdropdown-container"},t.createElement("div",{ref:w,onClick:function(){m(!0)},className:"stdropdown-input stsearch-box"},t.createElement("input",n({},d,{className:o,onChange:function(e){S(e.target.value),y(void 0),l&&l(e)},value:v?"".concat(u?v.native:v.name):x||"",placeholder:i,ref:_})),t.createElement("div",{className:"stdropdown-tools"},t.createElement("div",{className:"stdropdown-tool"},t.createElement(h,null)))),p&&t.createElement("div",{className:"stdropdown-menu"},(x?a.filter((function(e){return e.name.toLowerCase().indexOf(x.toLowerCase())>=0})):a).map((function(e){return t.createElement("div",{onClick:function(){return function(e){y(e),s(e)}(e)},key:e.code,className:"".concat("stdropdown-item"," ").concat(E(e)&&"selected")},u?e.native:e.name)}))))};e.CitySelect=function(e){var i=e.containerClassName,a=e.inputClassName,s=e.onTextChange,o=e.defaultValue,l=e.onChange,u=e.countryid,h=e.stateid,f=e.placeHolder,p=r(e,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","countryid","stateid","placeHolder"]),m=t.useState([]),g=m[0],v=m[1];return t.useEffect((function(){u&&c(u,h).then((function(e){v(e)}))}),[u,h]),t.createElement(t.Fragment,null,t.createElement("div",{className:i,style:{position:"relative"}},t.createElement(d,n({},p,{placeHolder:f,options:g,onChange:function(e){l&&l(e)},onTextChange:s,defaultValue:o,inputClassName:a}))))},e.CountrySelect=function(e){var i=e.containerClassName,a=e.inputClassName,o=e.onTextChange,l=e.defaultValue,c=e.onChange,u=e.placeHolder,h=e.showFlag,f=r(e,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","placeHolder","showFlag"]),p=t.useState([]),m=p[0],g=p[1];return t.useEffect((function(){s().then((function(e){g(e)}))}),[]),t.createElement(t.Fragment,null,t.createElement("div",{className:i,style:{position:"relative"}},t.createElement(d,n({},f,{placeHolder:u,options:m,onChange:function(e){c&&c(e)},showFlag:h,onTextChange:o,defaultValue:l,inputClassName:a}))))},e.GetCity=c,e.GetCountries=s,e.GetLanguages=o,e.GetState=l,e.LanguageSelect=function(e){var i=e.containerClassName,a=e.inputClassName,s=e.onTextChange,l=e.defaultValue,c=e.onChange,u=e.placeHolder,d=e.displayNative,h=r(e,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","placeHolder","displayNative"]),p=t.useState([]),m=p[0],g=p[1];return t.useEffect((function(){o().then((function(e){g(e)}))}),[]),t.createElement(t.Fragment,null,t.createElement("div",{className:i,style:{position:"relative"}},t.createElement(f,n({},h,{placeHolder:u,options:m,onChange:function(e){c&&c(e)},displayNative:d,onTextChange:s,defaultValue:l,inputClassName:a}))))},e.StateSelect=function(e){var i=e.containerClassName,a=e.inputClassName,s=e.onTextChange,o=e.defaultValue,c=e.onChange,u=e.countryid,h=e.placeHolder,f=r(e,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","countryid","placeHolder"]),p=t.useState([]),m=p[0],g=p[1];return t.useEffect((function(){u&&l(u).then((function(e){g(e)}))}),[u]),t.createElement(t.Fragment,null,t.createElement("div",{className:i,style:{position:"relative"}},t.createElement(d,n({},f,{placeHolder:h,options:m,onChange:function(e){c&&c(e)},onTextChange:s,defaultValue:o,inputClassName:a}))))}}(t,n(43))},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O,M=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function $(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case _:return"Portal";case T:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,we=null,Ee=null;function Te(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=Si(t),_e(e.stateNode,e.type,t))}}function Ce(e){we?Ee?Ee.push(e):Ee=[e]:we=e}function ke(){if(we){var e=we,t=Ee;if(Ee=we=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function je(){}var Ne=!1;function Le(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==we||null!==Ee)&&(je(),ke())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Pe=!1}function De(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Me=null,Fe=!1,Ue=null,$e={onError:function(e){Oe=!0,Me=e}};function Be(e,t,n,r,i,a,s,o,l){Oe=!1,Me=null,De.apply($e,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ge(e)!==e)throw Error(a(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ze(i),e;if(s===r)return ze(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,_t,wt,Et,Tt,Ct=!1,kt=[],At=null,jt=null,Nt=null,Lt=new Map,Rt=new Map,Pt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Tt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function $t(){Ct=!1,null!==At&&Ft(At)&&(At=null),null!==jt&&Ft(jt)&&(jt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Lt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$t)))}function Gt(e){function t(t){return Bt(t,e)}if(0<kt.length){Bt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==jt&&Bt(jt,e),null!==Nt&&Bt(Nt,e),Lt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Ht=x.ReactCurrentBatchConfig,zt=!0;function Yt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Vt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Wt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Vt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Vt(e,t,n,r){if(zt){var i=qt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ot(At,e,t,n,r,i),!0;case"dragenter":return jt=Ot(jt,e,t,n,r,i),!0;case"mouseover":return Nt=Ot(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Lt.set(a,Ot(Lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Ot(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&St(a),null===(a=qt(e,t,n,r))&&zr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=Se(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),hn=an(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(M({},fn,{dataTransfer:0})),gn=an(M({},dn,{relatedTarget:0})),vn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(M({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Tn(){return En}var Cn=M({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Cn),An=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Ln),Pn=[9,13,27,32],In=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var On=u&&"TextEvent"in window&&!Dn,Mn=u&&(!In||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function $n(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Yn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Vn=null;function Kn(e){Fr(e,0)}function qn(e){if(V(xi(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Vn=Wn=null)}function nr(e){if("value"===e.propertyName&&qn(Vn)){var t=[];Yn(t,Vn,e,Se(e)),Le(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Vn)}function ar(e,t){if("click"===e)return qn(t)}function sr(e,t){if("input"===e||"change"===e)return qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},wr={},Er={};function Tr(e){if(wr[e])return wr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return wr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Tr("animationend"),kr=Tr("animationiteration"),Ar=Tr("animationstart"),jr=Tr("transitionend"),Nr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Lr.length;Pr++){var Ir=Lr[Pr];Rr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(kr,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var u=Me;Oe=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Mr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Mr(i,o,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,$r("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Yt;break;case 4:i=Wt;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Le((function(){var r=a,i=Se(n),s=[];e:{var o=Nr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Cr:case kr:case Ar:l=vn;break;case jr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Yr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Vr(f))p++;for(f=0,m=h;m;m=Vr(m))f++;for(;0<p-f;)u=Vr(u),p--;for(;0<f-p;)h=Vr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vr(u),h=Vr(h)}u=null}else u=null;null!==l&&Kr(s,o,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(zn(o))if(Zn)g=sr;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Yn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,Gn=!0)),0<(v=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!In&&$n(e,t)?(e=en(),Jt=Qt=Zt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)}))}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Yr(e,a,i)),null!=(a=Re(e,t))&&r.push(Yr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,a))&&s.unshift(Yr(n,l,o)):i||null!=(l=Re(n,a))&&s.push(Yr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Si(e){return e[fi]||null}var _i=[],wi=-1;function Ei(e){return{current:e}}function Ti(e){0>wi||(e.current=_i[wi],_i[wi]=null,wi--)}function Ci(e,t){wi++,_i[wi]=e.current,e.current=t}var ki={},Ai=Ei(ki),ji=Ei(!1),Ni=ki;function Li(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(ji),Ti(Ai)}function Ii(e,t,n){if(Ai.current!==ki)throw Error(a(168));Ci(Ai,t),Ci(ji,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ni=Ai.current,Ci(Ai,e),Ci(ji,ji.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ti(ji),Ti(Ai),Ci(Ai,e)):Ti(ji),Ci(ji,n)}var Fi=null,Ui=!1,$i=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Gi(){if(!$i&&null!==Fi){$i=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ve(Je,Gi),i}finally{bt=t,$i=!1}}return null}var Hi=[],zi=0,Yi=null,Wi=0,Vi=[],Ki=0,qi=null,Xi=1,Zi="";function Qi(e,t){Hi[zi++]=Wi,Hi[zi++]=Yi,Yi=e,Wi=t}function Ji(e,t,n){Vi[Ki++]=Xi,Vi[Ki++]=Zi,Vi[Ki++]=qi,qi=e;var r=Xi;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Zi=a+e}else Xi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function ta(e){for(;e===Yi;)Yi=Hi[--zi],Hi[zi]=null,Wi=Hi[--zi],Hi[zi]=null;for(;e===qi;)qi=Vi[--Ki],Vi[Ki]=null,Zi=Vi[--Ki],Vi[Ki]=null,Xi=Vi[--Ki],Vi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&ya(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function m(i,a,o,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),ia&&Qi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(a=s(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Qi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),ia&&Qi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return ia&&Qi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case S:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===w){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ya(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=ga(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===w?((a=Dc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Ic(s.type,s.key,s.props,null,r.mode,l)).ref=ga(r,a,s),l.return=r,r=l)}return o(r);case _:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(s,r.mode,l)).return=r,r=a}return o(r);case R:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(D(s))return g(r,a,s,l);va(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Mc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var xa=ba(!0),Sa=ba(!1),_a=Ei(null),wa=null,Ea=null,Ta=null;function Ca(){Ta=Ea=wa=null}function ka(e){var t=_a.current;Ti(_a),e._currentValue=t}function Aa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t){wa=e,Ta=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===wa)throw Error(a(308));Ea=e,wa.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var La=null;function Ra(e){null===La?La=[e]:La.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function $a(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Da=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za={},Ya=Ei(za),Wa=Ei(za),Va=Ei(za);function Ka(e){if(e===za)throw Error(a(174));return e}function qa(e,t){switch(Ci(Va,t),Ci(Wa,e),Ci(Ya,za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ya),Ci(Ya,t)}function Xa(){Ti(Ya),Ti(Wa),Ti(Va)}function Za(e){Ka(Va.current);var t=Ka(Ya.current),n=le(t,e.type);t!==n&&(Ci(Wa,e),Ci(Ya,n))}function Qa(e){Wa.current===e&&(Ti(Ya),Ti(Wa))}var Ja=Ei(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=x.ReactCurrentDispatcher,is=x.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function fs(){throw Error(a(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Qs:Js,e=n(r,i),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,i)}while(us)}if(rs.current=Zs,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,cs=!1,t)throw Error(a(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=os,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ss.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Ol|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function ws(e,t){var n=ss,r=ys(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,bo=!0),r=r.queue,Ds(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ns(9,Ts.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(a(349));0!==(30&as)||Es(n,t,i)}return i}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,ks(t)&&As(e)}function Cs(e,t,n){return n((function(){ks(t)&&As(e)}))}function ks(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function As(e){var t=Ia(e,1);null!==t&&nc(t,e,1,-1)}function js(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Vs.bind(null,ss,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ls(){return ys().memoizedState}function Rs(e,t,n,r){var i=vs();ss.flags|=e,i.memoizedState=Ns(1|t,n,void 0,void 0===r?null:r)}function Ps(e,t,n,r){var i=ys();r=void 0===r?null:r;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==r&&ps(r,s.deps))return void(i.memoizedState=Ns(t,n,a,r))}ss.flags|=e,i.memoizedState=Ns(1|t,n,a,r)}function Is(e,t){return Rs(8390656,8,e,t)}function Ds(e,t){return Ps(2048,8,e,t)}function Os(e,t){return Ps(4,2,e,t)}function Ms(e,t){return Ps(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4,4,Fs.bind(null,t,e),n)}function $s(){}function Bs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Ol|=n,e.baseState=!0),t)}function zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Ys(){return ys().memoizedState}function Ws(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))qs(t,n);else if(null!==(n=Pa(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Vs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))qs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Ra(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Pa(e,t,i,r))&&(nc(n,e,r,i=ec()),Xs(n,t,r))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function qs(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Na,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Qs={readContext:Na,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:Is,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:js,useDebugValue:$s,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=zs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,i=vs();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===jl)throw Error(a(349));0!==(30&as)||Es(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Is(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Ns(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=jl.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Na,useCallback:Bs,useContext:Na,useEffect:Ds,useImperativeHandle:Us,useInsertionEffect:Os,useLayoutEffect:Ms,useMemo:Gs,useReducer:xs,useRef:Ls,useState:function(){return xs(bs)},useDebugValue:$s,useDeferredValue:function(e){return Hs(ys(),os.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ws,useId:Ys,unstable_isNewReconciler:!1},eo={readContext:Na,useCallback:Bs,useContext:Na,useEffect:Ds,useImperativeHandle:Us,useInsertionEffect:Os,useLayoutEffect:Ms,useMemo:Gs,useReducer:Ss,useRef:Ls,useState:function(){return Ss(bs)},useDebugValue:$s,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Hs(t,os.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ws,useId:Ys,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),$a(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),$a(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ua(e,i,r))&&(nc(t,e,r,n),$a(t,e,r))}};function io(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ao(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"===typeof a&&null!==a?a=Na(a):(i=Ri(t)?Ni:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Na(a):(a=Ri(t)?Ni:Ai.current,i.context=Li(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Ga(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,Yl=r),uo(0,t)},n}function po(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):xa(t,e.child,n,r)}function So(e,t,n,r,i){n=n.render;var a=t.ref;return ja(t,i),r=ms(e,t,n,r,a,i),n=gs(),null===e||bo?(ia&&n&&ea(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wo(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return zo(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Pl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Pl,Rl),Rl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Pl,Rl),Rl|=r;return xo(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var a=Ri(n)?Ni:Ai.current;return a=Li(t,a),ja(t,i),n=ms(e,t,n,r,a,i),r=gs(),null===e||bo?(ia&&r&&ea(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zo(e,t,i))}function ko(e,t,n,r,i){if(Ri(n)){var a=!0;Oi(t)}else a=!1;if(ja(t,i),null===t.stateNode)Ho(e,t),ao(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Na(c):c=Li(t,c=Ri(n)?Ni:Ai.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Da=!1;var h=t.memoizedState;s.state=h,Ga(t,r,s,i),l=t.memoizedState,o!==r||h!==l||ji.current||Da?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Da||io(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ma(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Na(l):l=Li(t,l=Ri(n)?Ni:Ai.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Da=!1,h=t.memoizedState,s.state=h,Ga(t,r,s,i);var p=t.memoizedState;o!==d||h!==p||ji.current||Da?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Da||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,a,i)}function Ao(e,t,n,r,i,a){To(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Mi(t,n,!1),zo(e,t,a);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,o,a)):xo(e,t,o,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),qa(e,t.containerInfo)}function No(e,t,n,r,i){return fa(),pa(i),t.flags|=256,xo(e,t,n,r),t.child}var Lo,Ro,Po,Io,Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,s=Ja.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ci(Ja,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Do,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(s=Dc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Do,s);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=jl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ia(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Vi[Ki++]=Xi,Vi[Ki++]=Zi,Vi[Ki++]=qi,Xi=e.id,Zi=e.overflow,qi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Pc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Pc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&pa(r),xa(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $o(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Aa(e.return,t,n)}function Bo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Ja.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n,t);else if(19===e.tag)$o(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Ja,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Wo(t),null;case 3:return r=t.stateNode,Xa(),Ti(ji),Ti(Ai),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ro(e,t),Wo(t),null;case 5:Qa(t);var i=Ka(Va.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wo(t),null}if(e=Ka(Ya.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),J(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Va.current),Ka(Ya.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ti(Ja),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),s=!1}else null!==aa&&(sc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ja.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Xa(),Ro(e,t),null===e&&Gr(t.stateNode.containerInfo),Wo(t),null;case 10:return ka(t.type._context),Wo(t),null;case 19:if(Ti(Ja),null===(s=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Yo(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Yo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Gl&&(t.flags|=128,r=!0,Yo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Wo(t),null}else 2*Ze()-s.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Yo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=Ja.current,Ci(Ja,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),Ti(ji),Ti(Ai),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(Ti(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Ja),null;case 4:return Xa(),null;case 10:return ka(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Po=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ka(Ya.current);var a,s=null;switch(n){case"input":i=q(e,i),r=q(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var qo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Jo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Gt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hl(e,t,n),Xo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(s,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(i,s),be(l,o);var u=be(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Q(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,ml(t,e),Xo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qo=e,d=e.child;null!==d;){for(h=Qo=d;null!==Qo;){switch(p=(f=Qo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Jo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Qo=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var i=Qo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||qo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=qo;var c=Xo;if(qo=s,(Xo=l)&&!c)for(Qo=i;null!==Qo;)l=(s=Qo).child,22===s.tag&&null!==s.memoizedState?_l(i):null!==l?(l.return=s,Qo=l):_l(i);for(;null!==a;)Qo=a,bl(a,t,n),a=a.sibling;Qo=i,qo=o,Xo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qo=a):xl(e)}}function xl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ha(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(a(163))}Xo||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function Sl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function _l(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var wl,El=Math.ceil,Tl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,kl=x.ReactCurrentBatchConfig,Al=0,jl=null,Nl=null,Ll=0,Rl=0,Pl=Ei(0),Il=0,Dl=null,Ol=0,Ml=0,Fl=0,Ul=null,$l=null,Bl=0,Gl=1/0,Hl=null,zl=!1,Yl=null,Wl=null,Vl=!1,Kl=null,ql=0,Xl=0,Zl=null,Ql=-1,Jl=0;function ec(){return 0!==(6&Al)?Ze():-1!==Ql?Ql:Ql=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ll?Ll&-Ll:null!==ma.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(a(185));vt(e,n,r),0!==(2&Al)&&e===jl||(e===jl&&(0===(2&Al)&&(Ml|=n),4===Il&&oc(e,Ll)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Gl=Ze()+500,Ui&&Gi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===jl?Ll:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),si((function(){0===(6&Al)&&Gi()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Jl=0,0!==(6&Al))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Al;Al|=2;var s=pc();for(jl===e&&Ll===t||(Hl=null,Gl=Ze()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ca(),Tl.current=s,Al=i,null!==Nl?t=0:(jl=null,Ll=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Dl,hc(e,0),oc(e,r),rc(e,Ze()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t))throw n=Dl,hc(e,0),oc(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sc(e,$l,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,$l,Hl),t);break}Sc(e,$l,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,$l,Hl),r);break}Sc(e,$l,Hl);break;default:throw Error(a(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=$l,$l=n,null!==t&&sc(t)),e}function sc(e){null===$l?$l=e:$l.push.apply($l,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),rc(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,$l,Hl),rc(e,Ze()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Gl=Ze()+500,Ui&&Gi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Al)&&_c();var t=Al;Al|=1;var n=kl.transition,r=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=r,kl.transition=n,0===(6&(Al=t))&&Gi()}}function dc(){Rl=Pl.current,Ti(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xa(),Ti(ji),Ti(Ai),ns();break;case 5:Qa(r);break;case 4:Xa();break;case 13:case 19:Ti(Ja);break;case 10:ka(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Nl=e=Pc(e.current,null),Ll=Rl=t,Il=0,Dl=null,Fl=Ml=Ol=0,$l=Ul=null,null!==La){for(t=0;t<La.length;t++)if(null!==(r=(n=La[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}La=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(Ca(),rs.current=Zs,cs){for(var r=ss.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(as=0,ls=os=ss=null,us=!1,ds=0,Cl.current=null,null===n||null===n.return){Il=1,Dl=t,Nl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pa(lo(c,l));break e}}s=c=lo(c,l),4!==Il&&(Il=2),null===Ul?Ul=[s]:Ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,fo(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,po(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Zs,null===e?Zs:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===jl||0===(268435455&Ol)&&0===(268435455&Ml)||oc(jl,Ll)}function gc(e,t){var n=Al;Al|=2;var r=pc();for(jl===e&&Ll===t||(Hl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Ca(),Al=n,Tl.current=r,null!==Nl)throw Error(a(261));return jl=null,Ll=0,Il}function vc(){for(;null!==Nl;)bc(Nl)}function yc(){for(;null!==Nl&&!qe();)bc(Nl)}function bc(e){var t=wl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Nl=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vo(n,t,Rl)))return void(Nl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Il=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Il&&(Il=5)}function Sc(e,t,n){var r=bt,i=kl.transition;try{kl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Kl);if(0!==(6&Al))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===jl&&(Nl=jl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vl||(Vl=!0,jc(tt,(function(){return _c(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=kl.transition,kl.transition=null;var o=bt;bt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(ei=zt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(S){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(S){Ec(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Al=l,bt=o,kl.transition=s}else e.current=n;if(Vl&&(Vl=!1,Kl=e,ql=i),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=Yl,Yl=null,e;0!==(1&ql)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Gi()}(e,t,n,r)}finally{kl.transition=i,bt=r}return null}function _c(){if(null!==Kl){var e=xt(ql),t=kl.transition,n=bt;try{if(kl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,ql=0,0!==(6&Al))throw Error(a(331));var i=Al;for(Al|=4,Qo=e.current;null!==Qo;){var s=Qo,o=s.child;if(0!==(16&Qo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qo=u;null!==Qo;){var d=Qo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Qo=h;else for(;null!==Qo;){var f=(d=Qo).sibling,p=d.return;if(al(d),d===u){Qo=null;break}if(null!==f){f.return=p,Qo=f;break}Qo=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(s=Qo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Qo=y;break e}Qo=s.return}}var b=e.current;for(Qo=b;null!==Qo;){var x=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Qo=x;else e:for(o=b;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===o){Qo=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Qo=S;break e}Qo=l.return}}if(Al=i,Gi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,kl.transition=t}}return!1}function wc(e,t,n){e=Ua(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ua(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Ll&n)===n&&(4===Il||3===Il&&(130023424&Ll)===Ll&&500>Ze()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ia(e,t))&&(vt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function jc(e,t){return Ve(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Dc(n.children,i,s,t);case E:o=8,i|=8;break;case T:return(e=Lc(12,n,t,2|i)).elementType=T,e.lanes=s,e;case j:return(e=Lc(13,n,t,i)).elementType=j,e.lanes=s,e;case N:return(e=Lc(19,n,t,i)).elementType=N,e.lanes=s,e;case P:return Oc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case k:o=9;break e;case A:o=11;break e;case L:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Dc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,i,a,s,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Lc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e){if(!e)return ki;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function Gc(e,t,n,r,i,a,s,o,l){return(e=$c(n,r,!0,e,0,a,0,o,l)).context=Bc(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),s=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(i,t,s))&&(nc(e,i,s,a),$a(e,i,s)),s}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:jo(t),fa();break;case 5:Za(t);break;case 1:Ri(t.type)&&Oi(t);break;case 4:qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_a,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Ja,1&Ja.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ci(Ja,1&Ja.current),null!==(e=zo(e,t,n))?e.sibling:null);Ci(Ja,1&Ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Ja,Ja.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return zo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Li(t,Ai.current);ja(t,n),i=ms(null,t,r,e,i,n);var s=gs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Oi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Ao(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===L)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=ko(null,t,r,e,n);break e;case 11:t=So(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(jo(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ma(e,t),Ga(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=No(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=No(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=zo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),To(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mo(e,t,n);case 4:return qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ci(_a,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!ji.current){t=zo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fa(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Aa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Aa(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ja(t,n),r=r(i=Na(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Ri(r)?(e=!0,Oi(t)):e=!1,ja(t,n),ao(t,r,i),oo(t,r,i,n),Ao(null,t,r,!0,e,n);case 19:return Go(e,t,n);case 22:return Eo(e,t,n)}throw Error(a(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Jc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=zc(s);o.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=zc(s);a.call(e)}}var s=Gc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[pi]=s.current,Gr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=zc(l);o.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pi]=l.current,Gr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return zc(s)}qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),0===(6&Al)&&(Gl=Ze()+500,Gi()))}break;case 13:uc((function(){var t=Ia(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Ia(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(a(90));V(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,Si,Ce,ke,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Vc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,s,o),e[pi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},484:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,o=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?o="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==o){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>s}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(43),s=p(a),o=p(n(950)),l=p(n(173)),c=p(n(439)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(619)),d=n(821),h=p(d),f=n(484);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",y=d.canUseDOM&&void 0!==o.default.createPortal,b=function(e){return document.createElement(e)},x=function(){return y?o.default.createPortal:o.default.unstable_renderSubtreeIntoContainer};function S(e){return e()}var _=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.removePortal=function(){!y&&o.default.unmountComponentAtNode(i.node);var e=S(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=x()(i,s.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},m(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(y||(this.node=b("div")),this.node.className=this.props.portalClassName,S(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:S(e.parentSelector),nextParent:S(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,i=r.isOpen,a=r.portalClassName;e.portalClassName!==a&&(this.node.className=a);var s=n.prevParent,o=n.nextParent;o!==s&&(s.removeChild(this.node),o.appendChild(this.node)),(e.isOpen||i)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&y?(!this.node&&y&&(this.node=b("div")),x()(s.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(a.Component);_.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(h.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(h.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},_.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return s.default.createElement("div",e,t)},contentElement:function(e,t){return s.default.createElement("div",e,t)}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(_),t.default=_},439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(43),o=g(n(173)),l=m(n(774)),c=g(n(206)),u=m(n(619)),d=m(n(841)),h=n(821),f=g(h),p=g(n(959));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(62);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,a=e.bodyOpenClassName,s=e.parentSelector,o=s&&s().ownerDocument||document;a&&d.remove(o.body,a),i&&d.remove(o.getElementsByTagName("html")[0],i),r&&y>0&&0===(y-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},a=r.base;return n.state.afterOpen&&(a=a+" "+r.afterOpen),n.state.beforeClose&&(a=a+" "+r.beforeClose),"string"===typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,a=e.parentSelector,s=a&&a().ownerDocument||document;i&&d.add(s.body,i),r&&d.add(s.getElementsByTagName("html")[0],r),n&&(y+=1,u.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,a=e.defaultStyles,s=e.children,o=n?{}:a.content,l=i?{}:a.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},o,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,s);return this.props.overlayElement(c,d)}}]),t}(s.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:o.default.bool.isRequired,defaultStyles:o.default.shape({content:o.default.object,overlay:o.default.object}),style:o.default.shape({content:o.default.object,overlay:o.default.object}),className:o.default.oneOfType([o.default.string,o.default.object]),overlayClassName:o.default.oneOfType([o.default.string,o.default.object]),parentSelector:o.default.func,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,ariaHideApp:o.default.bool,appElement:o.default.oneOfType([o.default.instanceOf(f.default),o.default.instanceOf(h.SafeHTMLCollection),o.default.instanceOf(h.SafeNodeList),o.default.arrayOf(o.default.instanceOf(f.default))]),onAfterOpen:o.default.func,onAfterClose:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,role:o.default.string,contentLabel:o.default.string,aria:o.default.object,data:o.default.object,children:o.default.node,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func,testId:o.default.string},t.default=b,e.exports=t.default},619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):null!=o.length?o.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(o).forEach((function(e){return e.removeAttribute("aria-hidden")})));o=null},t.log=function(){0},t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&s.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return o=t||o},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=c(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(s){n=!0,r=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=c(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(s){n=!0,r=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){o=null};var r,i=n(440),a=(r=i)&&r.__esModule?r:{default:r},s=n(821);var o=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||o;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},62:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[s,o],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}s=o=null,l=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(l.length);for(var e=[s,o],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(959),a=(r=i)&&r.__esModule?r:{default:r};var s=void 0,o=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}a.default.subscribe((function(e,t){s||o||((s=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),s.style.position="absolute",s.style.opacity="0",s.setAttribute("tabindex","0"),s.addEventListener("focus",c),(o=s.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==s&&document.body.insertBefore(s,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(s.parentElement&&s.parentElement.removeChild(s),o.parentElement&&o.parentElement.removeChild(o))}))},841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)i(e,n[t]);var a=document.body;for(var s in r)i(a,r[s]);n={},r={}},t.log=function(){0};var n={},r={};function i(e,t){e.classList.remove(t)}t.add=function(e,t){return i=e.classList,a="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),i.add(e)}));var i,a},t.remove=function(e,t){return i=e.classList,a="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&i.remove(e)}));var i,a}},774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s=[]},t.log=function(){0},t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){s.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==s.length&&(t=s.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){s.length>0&&s.pop()},t.setupScopedFocus=function(e){o=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){o=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var r,i=n(682),a=(r=i)&&r.__esModule?r:{default:r};var s=[],o=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!o)return;setTimeout((function(){o.contains(document.activeElement)||((0,a.default)(o)[0]||o).focus()}),0)}}},959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(396);var a=((r=i)&&r.__esModule?r:{default:r}).default,s=a.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=a.canUseDOM?window.NodeList:{},t.canUseDOM=a.canUseDOM;t.default=s},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,o=n[0],l=n[n.length-1],c=s();if(e===c){if(!i)return;r=l}l!==c||i||(r=o);o===c&&i&&(r=l);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var d=n.indexOf(c);d>-1&&(d+=i?-1:1);if("undefined"===typeof(r=n[d]))return t.preventDefault(),void(r=i?l:o).focus();t.preventDefault(),r.focus()};var r,i=n(682),a=(r=i)&&r.__esModule?r:{default:r};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?s(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(o)};var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function a(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var i=window.getComputedStyle(e),a=i.getPropertyValue("display");return t?a!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,i):a===n}catch(s){return console.warn("Failed to inspect element style"),!1}}function s(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),a(t))return!1;t=t.parentNode}return!0}(e)}function o(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&s(e,!n)}e.exports=t.default},963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(765),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},847:(e,t,n)=>{"use strict";var r=n(123),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function S(){}function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=x.prototype;var w=_.prototype=new S;w.constructor=_,r(w,x.prototype),w.isPureReactComponent=!0;var E={current:null},T=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:s,ref:o,props:i,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var j=/\/+/g,N=[];function L(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case a:case s:o=!0}}if(o)return n(r,e,""===t?"."+D(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+D(i=e[l],l);o+=P(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(i=e.next()).done;)o+=P(i=i.value,c=t+D(i,l++),n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}function I(e,t,n){return null==e?0:P(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function O(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(j,"$&/")+"/"),I(e,M,t=L(t,a,r,i)),R(t)}var U={current:null};function $(){var e=U.current;if(null===e)throw Error(v(321));return e}var B={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;I(e,O,t=L(null,null,t,n)),R(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(v(143));return e}},t.Component=x,t.Fragment=o,t.Profiler=c,t.PureComponent=_,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)T.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:a,type:e.type,key:s,ref:o,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return $().useCallback(e,t)},t.useContext=function(e,t){return $().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return $().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return $().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return $().useLayoutEffect(e,t)},t.useMemo=function(e,t){return $().useMemo(e,t)},t.useReducer=function(e,t,n){return $().useReducer(e,t,n)},t.useRef=function(e){return $().useRef(e)},t.useState=function(e){return $().useState(e)},t.version="16.14.0"},892:(e,t,n)=>{"use strict";e.exports=n(847)},768:function(e,t,n){e.exports=function(e){"use strict";var t="default"in e?e.default:e,n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function r(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(function(e,t,n,r){function i(t,n){this.settings=null,this.options=e.extend({},i.Defaults,n),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy((function(t,n){this._handlers[n]=e.proxy(this[n],this)}),this)),e.each(i.Plugins,e.proxy((function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)}),this)),e.each(i.Workers,e.proxy((function(t,n){this._pipe.push({filter:n.filter,run:e.proxy(n.run,this)})}),this)),this.setup(),this.initialize()}i.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},i.Width={Default:"default",Inner:"inner",Outer:"outer"},i.Type={Event:"event",State:"state"},i.Plugins={},i.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",n=!this.settings.autoWidth,r=this.settings.rtl,i={width:"auto","margin-left":r?t:"","margin-right":r?"":t};!n&&this.$stage.children().css(i),e.css=i}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,r=this._items.length,i=!this.settings.autoWidth,a=[];for(e.items={merge:!1,width:t};r--;)n=this._mergers[r],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,e.items.merge=n>1||e.items.merge,a[r]=i?t*n:this._items[r].width();this._widths=a}},{filter:["items","settings"],run:function(){var t=[],n=this._items,r=this.settings,i=Math.max(2*r.items,4),a=2*Math.ceil(n.length/2),s=r.loop&&n.length?r.rewind?i:Math.max(i,a):0,o="",l="";for(s/=2;s>0;)t.push(this.normalize(t.length/2,!0)),o+=n[t[t.length-1]][0].outerHTML,t.push(this.normalize(n.length-1-(t.length-1)/2,!0)),l=n[t[t.length-1]][0].outerHTML+l,s-=1;this._clones=t,e(o).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,n=-1,r=0,i=0,a=[];++n<t;)r=a[n-1]||0,i=this._widths[this.relative(n)]+this.settings.margin,a.push(r+i*e);this._coordinates=a}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,n={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,n=!this.settings.autoWidth,r=this.$stage.children();if(n&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],r.eq(t).css(e.css);else n&&(e.css.width=e.items.width,r.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,n,r,i=this.settings.rtl?1:-1,a=2*this.settings.stagePadding,s=this.coordinates(this.current())+a,o=s+this.width()*i,l=[];for(n=0,r=this._coordinates.length;n<r;n++)e=this._coordinates[n-1]||0,t=Math.abs(this._coordinates[n])+a*i,(this.op(e,"<=",s)&&this.op(e,">",o)||this.op(t,"<",s)&&this.op(t,">",o))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],i.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(e("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},i.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map((function(t){return e(t)})),this._mergers=this._items.map((function(){return 1})),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},i.prototype.initialize=function(){var e,t,n;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(e=this.$element.find("img"),t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,n=this.$element.children(t).width(),e.length&&n<=0&&this.preloadAutoWidthImages(e)),this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},i.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},i.prototype.setup=function(){var t=this.viewport(),n=this.options.responsive,r=-1,i=null;n?(e.each(n,(function(e){e<=t&&e>r&&(r=Number(e))})),"function"===typeof(i=e.extend({},this.options,n[r])).stagePadding&&(i.stagePadding=i.stagePadding()),delete i.responsive,i.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+r))):i=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=r,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},i.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},i.prototype.prepare=function(t){var n=this.trigger("prepare",{content:t});return n.data||(n.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:n.data}),n.data},i.prototype.update=function(){for(var t=0,n=this._pipe.length,r=e.proxy((function(e){return this[e]}),this._invalidated),i={};t<n;)(this._invalidated.all||e.grep(this._pipe[t].filter,r).length>0)&&this._pipe[t].run(i),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},i.prototype.width=function(e){switch(e=e||i.Width.Default){case i.Width.Inner:case i.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},i.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},i.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},i.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},i.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",(function(){return!1}))),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},i.prototype.onDragStart=function(t){var r=null;3!==t.which&&(e.support.transform?r={x:(r=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===r.length?12:4],y:r[16===r.length?13:5]}:(r=this.$stage.position(),r={x:this.settings.rtl?r.left+this.$stage.width()-this.width()+this.settings.margin:r.left,y:r.top}),this.is("animating")&&(e.support.transform?this.animate(r.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this.pointer(t),e(n).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(n).one("mousemove.owl.core touchmove.owl.core",e.proxy((function(t){var r=this.difference(this._drag.pointer,this.pointer(t));e(n).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(r.x)<Math.abs(r.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))}),this)))},i.prototype.onDragMove=function(e){var t=null,n=null,r=null,i=this.difference(this._drag.pointer,this.pointer(e)),a=this.difference(this._drag.stage.start,i);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-t,a.x=((a.x-t)%n+n)%n+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),r=this.settings.pullDrag?-1*i.x/5:0,a.x=Math.max(Math.min(a.x,t+r),n+r)),this._drag.stage.current=a,this.animate(a.x))},i.prototype.onDragEnd=function(t){var r=this.difference(this._drag.pointer,this.pointer(t)),i=this._drag.stage.current,a=r.x>0^this.settings.rtl?"left":"right";e(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==r.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(i.x,0!==r.x?a:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=a,(Math.abs(r.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",(function(){return!1}))),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},i.prototype.closest=function(t,n){var i=-1,a=30,s=this.width(),o=this.coordinates();return this.settings.freeDrag||e.each(o,e.proxy((function(e,l){return"left"===n&&t>l-a&&t<l+a?i=e:"right"===n&&t>l-s-a&&t<l-s+a?i=e+1:this.op(t,"<",l)&&this.op(t,">",o[e+1]!==r?o[e+1]:l-s)&&(i="left"===n?e+1:e),-1===i}),this)),this.settings.loop||(this.op(t,">",o[this.minimum()])?i=t=this.minimum():this.op(t,"<",o[this.maximum()])&&(i=t=this.maximum())),i},i.prototype.animate=function(t){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):n?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},i.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},i.prototype.current=function(e){if(e===r)return this._current;if(0===this._items.length)return r;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==r&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},i.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,(function(e,t){return t}))},i.prototype.reset=function(e){(e=this.normalize(e))!==r&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},i.prototype.normalize=function(e,t){var n=this._items.length,i=t?0:this._clones.length;return!this.isNumeric(e)||n<1?e=r:(e<0||e>=n+i)&&(e=((e-i/2)%n+n)%n+i/2),e},i.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},i.prototype.maximum=function(e){var t,n,r,i=this.settings,a=this._coordinates.length;if(i.loop)a=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){if(t=this._items.length)for(n=this._items[--t].width(),r=this.$element.width();t--&&!((n+=this._items[t].width()+this.settings.margin)>r););a=t+1}else a=i.center?this._items.length-1:this._items.length-i.items;return e&&(a-=this._clones.length/2),Math.max(a,0)},i.prototype.minimum=function(e){return e?0:this._clones.length/2},i.prototype.items=function(e){return e===r?this._items.slice():(e=this.normalize(e,!0),this._items[e])},i.prototype.mergers=function(e){return e===r?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},i.prototype.clones=function(t){var n=this._clones.length/2,i=n+this._items.length,a=function(e){return e%2===0?i+e/2:n-(e+1)/2};return t===r?e.map(this._clones,(function(e,t){return a(t)})):e.map(this._clones,(function(e,n){return e===t?a(n):null}))},i.prototype.speed=function(e){return e!==r&&(this._speed=e),this._speed},i.prototype.coordinates=function(t){var n,i=1,a=t-1;return t===r?e.map(this._coordinates,e.proxy((function(e,t){return this.coordinates(t)}),this)):(this.settings.center?(this.settings.rtl&&(i=-1,a=t+1),n=this._coordinates[t],n+=(this.width()-n+(this._coordinates[a]||0))/2*i):n=this._coordinates[a]||0,n=Math.ceil(n))},i.prototype.duration=function(e,t,n){return 0===n?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(n||this.settings.smartSpeed)},i.prototype.to=function(e,t){var n=this.current(),r=null,i=e-this.relative(n),a=(i>0)-(i<0),s=this._items.length,o=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(i)>s/2&&(i+=-1*a*s),(r=(((e=n+i)-o)%s+s)%s+o)!==e&&r-i<=l&&r-i>0&&(n=r-i,e=r,this.reset(n))):e=this.settings.rewind?(e%(l+=1)+l)%l:Math.max(o,Math.min(l,e)),this.speed(this.duration(n,e,t)),this.current(e),this.isVisible()&&this.update()},i.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},i.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},i.prototype.onTransitionEnd=function(e){if(e!==r&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},i.prototype.viewport=function(){var r;return this.options.responsiveBaseElement!==t?r=e(this.options.responsiveBaseElement).width():t.innerWidth?r=t.innerWidth:n.documentElement&&n.documentElement.clientWidth?r=n.documentElement.clientWidth:console.warn("Can not detect viewport width."),r},i.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter((function(){return 1===this.nodeType})).each(e.proxy((function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)}),this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},i.prototype.add=function(t,n){var i=this.relative(this._current);n=n===r?this._items.length:this.normalize(n,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:n}),t=this.prepare(t),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[n-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(t),this._items.splice(n,0,t),this._mergers.splice(n,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:n})},i.prototype.remove=function(e){(e=this.normalize(e,!0))!==r&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},i.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy((function(t,n){this.enter("pre-loading"),n=e(n),e(new Image).one("load",e.proxy((function(e){n.attr("src",e.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()}),this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))}),this))},i.prototype.destroy=function(){for(var r in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(n).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[r].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},i.prototype.op=function(e,t,n){var r=this.settings.rtl;switch(t){case"<":return r?e>n:e<n;case">":return r?e<n:e>n;case">=":return r?e<=n:e>=n;case"<=":return r?e>=n:e<=n}},i.prototype.on=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},i.prototype.off=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)},i.prototype.trigger=function(t,n,r,a,s){var o={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,r],(function(e){return e})).join("-").toLowerCase()),c=e.Event([t,"owl",r||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},o,n));return this._supress[t]||(e.each(this._plugins,(function(e,t){t.onTrigger&&t.onTrigger(c)})),this.register({type:i.Type.Event,name:t}),this.$element.trigger(c),this.settings&&"function"===typeof this.settings[l]&&this.settings[l].call(this,c)),c},i.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){this._states.current[t]===r&&(this._states.current[t]=0),this._states.current[t]++}),this))},i.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){this._states.current[t]--}),this))},i.prototype.register=function(t){if(t.type===i.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var n=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!n||!n.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:n.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===i.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy((function(n,r){return e.inArray(n,this._states.tags[t.name])===r}),this)))},i.prototype.suppress=function(t){e.each(t,e.proxy((function(e,t){this._supress[t]=!0}),this))},i.prototype.release=function(t){e.each(t,e.proxy((function(e,t){delete this._supress[t]}),this))},i.prototype.pointer=function(e){var n={x:null,y:null};return(e=(e=e.originalEvent||e||t.event).touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n},i.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},i.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=e(this),a=r.data("owl.carousel");a||(a=new i(this,"object"==typeof t&&t),r.data("owl.carousel",a),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],(function(t,n){a.register({type:i.Type.Event,name:n}),a.$element.on(n+".owl.carousel.core",e.proxy((function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([n]),a[n].apply(this,[].slice.call(arguments,1)),this.release([n]))}),a))}))),"string"==typeof t&&"_"!==t.charAt(0)&&a[t].apply(a,n)}))},e.fn.owlCarousel.Constructor=i})(window.Zepto||window.jQuery,window,document),function(e,t){var n=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()}),this)},this._core.options=e.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var e,n;for(e in t.clearInterval(this._interval),this._handlers)this._core.$element.off(e,this._handlers[e]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy((function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,a=n.center&&-1*i||0,s=(t.property&&t.property.value!==r?t.property.value:this._core.current())+a,o=this._core.clones().length,l=e.proxy((function(e,t){this.load(t)}),this);for(n.lazyLoadEager>0&&(i+=n.lazyLoadEager,n.loop&&(s-=n.lazyLoadEager,i++));a++<i;)this.load(o/2+this._core.relative(s)),o&&e.each(this._core.clones(this._core.relative(s)),l),s++}}),this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1,lazyLoadEager:0},i.prototype.load=function(n){var r=this._core.$stage.children().eq(n),i=r&&r.find(".owl-lazy");!i||e.inArray(r.get(0),this._loaded)>-1||(i.each(e.proxy((function(n,r){var i,a=e(r),s=t.devicePixelRatio>1&&a.attr("data-src-retina")||a.attr("data-src")||a.attr("data-srcset");this._core.trigger("load",{element:a,url:s},"lazy"),a.is("img")?a.one("load.owl.lazy",e.proxy((function(){a.css("opacity",1),this._core.trigger("loaded",{element:a,url:s},"lazy")}),this)).attr("src",s):a.is("source")?a.one("load.owl.lazy",e.proxy((function(){this._core.trigger("loaded",{element:a,url:s},"lazy")}),this)).attr("srcset",s):((i=new Image).onload=e.proxy((function(){a.css({"background-image":'url("'+s+'")',opacity:"1"}),this._core.trigger("loaded",{element:a,url:s},"lazy")}),this),i.src=s)}),this)),this._loaded.push(r.get(0)))},i.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(e,t){var n=function(r){this._core=r,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&this.update()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&"position"===e.property.name&&this.update()}),this),"loaded.owl.lazy":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()}),this)},this._core.options=e.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var i=this;e(t).on("load",(function(){i._core.settings.autoHeight&&i.update()})),e(t).resize((function(){i._core.settings.autoHeight&&(null!=i._intervalId&&clearTimeout(i._intervalId),i._intervalId=setTimeout((function(){i.update()}),250))}))};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var t=this._core._current,n=t+this._core.settings.items,r=this._core.settings.lazyLoad,i=this._core.$stage.children().toArray().slice(t,n),a=[],s=0;e.each(i,(function(t,n){a.push(e(n).height())})),(s=Math.max.apply(null,a))<=1&&r&&this._previousHeight&&(s=this._previousHeight),this._previousHeight=s,this._core.$stage.parent().height(s).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!==typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(e,t,n){var r=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})}),this),"resize.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var n=e(t.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,e(t.content)))}}),this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy((function(e){this.play(e)}),this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1},r.prototype.fetch=function(e,t){var n=e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube",r=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),i=e.attr("data-width")||this._core.settings.videoWidth,a=e.attr("data-height")||this._core.settings.videoHeight,s=e.attr("href");if(!s)throw new Error("Missing video URL.");if((r=s.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)n="youtube";else if(r[3].indexOf("vimeo")>-1)n="vimeo";else{if(!(r[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");n="vzaar"}r=r[6],this._videos[s]={type:n,id:r,width:i,height:a},t.attr("data-video",s),this.thumbnail(e,this._videos[s])},r.prototype.thumbnail=function(t,n){var r,i,a,s=n.width&&n.height?"width:"+n.width+"px;height:"+n.height+"px;":"",o=t.find("img"),l="src",c="",u=this._core.settings,d=function(n){i='<div class="owl-video-play-icon"></div>',r=u.lazyLoad?e("<div/>",{class:"owl-video-tn "+c,srcType:n}):e("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+n+")"}),t.after(r),t.after(i)};if(t.wrap(e("<div/>",{class:"owl-video-wrapper",style:s})),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),o.length)return d(o.attr(l)),o.remove(),!1;"youtube"===n.type?(a="//img.youtube.com/vi/"+n.id+"/hqdefault.jpg",d(a)):"vimeo"===n.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){a=e[0].thumbnail_large,d(a)}}):"vzaar"===n.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){a=e.framegrab_url,d(a)}})},r.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},r.prototype.play=function(t){var n,r=e(t.target).closest("."+this._core.settings.itemClass),i=this._videos[r.attr("data-video")],a=i.width||"100%",s=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),r=this._core.items(this._core.relative(r.index())),this._core.reset(r.index()),(n=e('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",s),n.attr("width",a),"youtube"===i.type?n.attr("src","//www.youtube.com/embed/"+i.id+"?autoplay=1&rel=0&v="+i.id):"vimeo"===i.type?n.attr("src","//player.vimeo.com/video/"+i.id+"?autoplay=1"):"vzaar"===i.type&&n.attr("src","//view.vzaar.com/"+i.id+"/player?autoplay=true"),e(n).wrap('<div class="owl-video-frame" />').insertAfter(r.find(".owl-video")),this._playing=r.addClass("owl-video-playing"))},r.prototype.isInFullScreen=function(){var t=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},r.prototype.destroy=function(){var e,t;for(e in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this.core=t,this.core.options=e.extend({},i.Defaults,this.core.options),this.swapping=!0,this.previous=r,this.next=r,this.handlers={"change.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)}),this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy((function(e){e.namespace&&(this.swapping="translated"==e.type)}),this),"translate.owl.carousel":e.proxy((function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()}),this)},this.core.$element.on(this.handlers)};i.Defaults={animateOut:!1,animateIn:!1},i.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,n=e.proxy(this.clear,this),r=this.core.$stage.children().eq(this.previous),i=this.core.$stage.children().eq(this.next),a=this.core.settings.animateIn,s=this.core.settings.animateOut;this.core.current()!==this.previous&&(s&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),r.one(e.support.animation.end,n).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(s)),a&&i.one(e.support.animation.end,n).addClass("animated owl-animated-in").addClass(a))}},i.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},i.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=i}(window.Zepto||window.jQuery,window,document),function(e,t,n){var r=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy((function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._paused&&(this._time=0)}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoplay&&this.play()}),this),"play.owl.autoplay":e.proxy((function(e,t,n){e.namespace&&this.play(t,n)}),this),"stop.owl.autoplay":e.proxy((function(e){e.namespace&&this.stop()}),this),"mouseover.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"mouseleave.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()}),this),"touchstart.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"touchend.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this.play()}),this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},r.Defaults,this._core.options)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},r.prototype._next=function(r){this._call=t.setTimeout(e.proxy(this._next,this,r),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||n.hidden||this._core.next(r||this._core.settings.autoplaySpeed)},r.prototype.read=function(){return(new Date).getTime()-this._time},r.prototype.play=function(n,r){var i;this._core.is("rotating")||this._core.enter("rotating"),n=n||this._core.settings.autoplayTimeout,i=Math.min(this._time%(this._timeout||n),n),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%n-i,this._timeout=n,this._call=t.setTimeout(e.proxy(this._next,this,r),n-i)},r.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},r.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},r.prototype.destroy=function(){var e,t;for(e in this.stop(),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(e){var t=function(n){this._core=n,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy((function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")}),this),"added.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())}),this),"remove.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&this.draw()}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))}),this)},this._core.options=e.extend({},t.Defaults,this._core.options),this.$element.on(this._handlers)};t.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},t.prototype.initialize=function(){var t,n=this._core.settings;for(t in this._controls.$relative=(n.navContainer?e(n.navContainer):e("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy((function(e){this.prev(n.navSpeed)}),this)),this._controls.$next=e("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy((function(e){this.next(n.navSpeed)}),this)),n.dotsData||(this._templates=[e('<button role="button">').addClass(n.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?e(n.dotsContainer):e("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy((function(t){var r=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(r,n.dotsSpeed)}),this)),this._overrides)this._core[t]=e.proxy(this[t],this)},t.prototype.destroy=function(){var e,t,n,r,i;for(e in i=this._core.settings,this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)"$relative"===t&&i.navContainer?this._controls[t].html(""):this._controls[t].remove();for(r in this.overides)this._core[r]=this._overrides[r];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.prototype.update=function(){var e,t,n=this._core.clones().length/2,r=n+this._core.items().length,i=this._core.maximum(!0),a=this._core.settings,s=a.center||a.autoWidth||a.dotsData?1:a.dotsEach||a.items;if("page"!==a.slideBy&&(a.slideBy=Math.min(a.slideBy,a.items)),a.dots||"page"==a.slideBy)for(this._pages=[],e=n,t=0;e<r;e++){if(t>=s||0===t){if(this._pages.push({start:Math.min(i,e-n),end:e-n+s-1}),Math.min(i,e-n)===i)break;t=0}t+=this._core.mergers(this._core.relative(e))}},t.prototype.draw=function(){var t,n=this._core.settings,r=this._core.items().length<=n.items,i=this._core.relative(this._core.current()),a=n.loop||n.rewind;this._controls.$relative.toggleClass("disabled",!n.nav||r),n.nav&&(this._controls.$previous.toggleClass("disabled",!a&&i<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!a&&i>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!n.dots||r),n.dots&&(t=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},t.prototype.onTrigger=function(t){var n=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},t.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy((function(e,n){return e.start<=t&&e.end>=t}),this)).pop()},t.prototype.getPosition=function(t){var n,r,i=this._core.settings;return"page"==i.slideBy?(n=e.inArray(this.current(),this._pages),r=this._pages.length,t?++n:--n,n=this._pages[(n%r+r)%r].start):(n=this._core.relative(this._core.current()),r=this._core.items().length,t?n+=i.slideBy:n-=i.slideBy),n},t.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},t.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},t.prototype.to=function(t,n,r){var i;!r&&this._pages.length?(i=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%i+i)%i].start,n)):e.proxy(this._overrides.to,this._core)(t,n)},e.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy((function(n){n.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var n=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!n)return;this._hashes[n]=t.content}}),this),"changed.owl.carousel":e.proxy((function(n){if(n.namespace&&"position"===n.property.name){var r=this._core.items(this._core.relative(this._core.current())),i=e.map(this._hashes,(function(e,t){return e===r?t:null})).join();if(!i||t.location.hash.slice(1)===i)return;t.location.hash=i}}),this)},this._core.options=e.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy((function(e){var n=t.location.hash.substring(1),i=this._core.$stage.children(),a=this._hashes[n]&&i.index(this._hashes[n]);a!==r&&a!==this._core.current()&&this._core.to(this._core.relative(a),!1,!0)}),this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var n,r;for(n in e(t).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))"function"!=typeof this[r]&&(this[r]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=e("<support>").get(0).style,a="Webkit Moz O ms".split(" "),s={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},o={csstransforms:function(){return!!l("transform")},csstransforms3d:function(){return!!l("perspective")},csstransitions:function(){return!!l("transition")},cssanimations:function(){return!!l("animation")}};function l(t,n){var s=!1,o=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+a.join(o+" ")+o).split(" "),(function(e,t){if(i[t]!==r)return s=!n||t,!1})),s}function c(e){return l(e,!0)}o.csstransitions()&&(e.support.transition=new String(c("transition")),e.support.transition.end=s.transition.end[e.support.transition]),o.cssanimations()&&(e.support.animation=new String(c("animation")),e.support.animation.end=s.animation.end[e.support.animation]),o.csstransforms()&&(e.support.transform=new String(c("transform")),e.support.transform3d=o.csstransforms3d())}(window.Zepto||window.jQuery,window,document);var s=window.jQuery,o=function(e){function n(t){var n=e.call(this,t)||this;n.containerRef=function(e){n.container=e};var r=c(n.props),i=r[0],a=r[1];return n.options=i,n.propsWithoutOptions=a,n}return r(n,e),n.prototype.componentDidMount=function(){this.$ele=s(this.container),this.create()},n.prototype.UNSAFE_componentWillReceiveProps=function(){this.destory()},n.prototype.componentDidUpdate=function(){var e=c(this.props),t=e[0],n=e[1];this.options=t,this.propsWithoutOptions=n,this.create()},n.prototype.next=function(e){if(!this.$ele)throw new Error("OwlCarousel is not created");"number"===typeof e?this.$ele.trigger("next.owl.carousel",[e]):this.$ele.trigger("next.owl.carousel",e)},n.prototype.prev=function(e){if(!this.$ele)throw new Error("OwlCarousel is not created");"number"===typeof e?this.$ele.trigger("prev.owl.carousel",[e]):this.$ele.trigger("prev.owl.carousel",e)},n.prototype.to=function(e,t){if(!this.$ele)throw new Error("OwlCarousel is not created");"number"===typeof e&&"number"===typeof t?this.$ele.trigger("to.owl.carousel",[e,t]):this.$ele.trigger("to.owl.carousel")},n.prototype.create=function(e){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.owlCarousel(e||this.options)},n.prototype.destory=function(){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.trigger("destroy.owl.carousel")},n.prototype.play=function(e,t){if(!this.$ele)throw new Error("OwlCarousel is not created");"number"===typeof e&&"number"===typeof t?this.$ele.trigger("play.owl.autoplay",[e,t]):this.$ele.trigger("play.owl.autoplay")},n.prototype.stop=function(){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.trigger("stop.owl.autoplay")},n.prototype.render=function(){var e=this.propsWithoutOptions,n=e.className,r=a(e,["className"]);return t.createElement("div",i({className:"owl-carousel "+n,ref:this.containerRef},r))},n}(e.Component),l=new Set(["items","margin","loop","center","mouseDrag","touchDrag","pullDrag","freeDrag","stagePadding","merge","mergeFit","autoWidth","startPosition","URLhashListener","nav","rewind","navText","navElement","slideBy","dots","dotsEach","dotData","lazyLoad","lazyContent","autoplay","autoplayTimeout","autoplayHoverPause","smartSpeed","fluidSpeed","autoplaySpeed","navSpeed","dotsSpeed","dragEndSpeed","callbacks","responsive","responsiveRefreshRate","responsiveBaseElement","video","videoHeight","videoWidth","animateOut","animateIn","fallbackEasing","info","nestedItemSelector","itemElement","stageElement","navContainer","dotsContainer","refreshClass","loadingClass","loadedClass","rtlClass","dragClass","grabClass","stageClass","stageOuterClass","navContainerClass","navClass","controlsClass","dotClass","dotsClass","autoHeightClass","responsiveClass","onInitialize","onInitialized","onResize","onResized","onRefresh","onRefreshed","onDrag","onDragged","onTranslate","onTranslated","onChange","onChanged","onLoadLazy","onLoadedLazy","onStopVideo","onPlayVideo"]);function c(e){var t={},n={};return Object.keys(e).forEach((function(r){l.has(r)?t[r]=e[r]:n[r]=e[r]})),[t,n]}return o}(n(892))},195:(e,t,n)=>{e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=n(43)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var s=i.apply(null,r);s&&e.push(s)}else if("object"===a)for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,o="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),u=Object.prototype.toString,d=c.Symbol,h=d?d.prototype:void 0,f=h?h.toString:void 0;function p(e){if("string"==typeof e)return e;if(g(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}function v(e){return e?(e=function(e){if("number"==typeof e)return e;if(g(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var o=i.test(e);return o||a.test(e)?s(e.slice(2),o?2:8):r.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}e.exports=function(e,t,n){var r,i,a;return e=null==(r=e)?"":p(r),i=function(e){var t=v(e),n=t%1;return t==t?n?t-n:t:0}(n),a=e.length,i==i&&(void 0!==a&&(i=i<=a?i:a),i=i>=0?i:0),n=i,t=p(t),e.slice(n,n+t.length)==t}}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){var n,r=/^\[object .+?Constructor\]$/,i="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,s=i||a||Function("return this")(),o=Array.prototype,l=Function.prototype,c=Object.prototype,u=s["__core-js_shared__"],d=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=l.toString,f=c.hasOwnProperty,p=c.toString,m=RegExp("^"+h.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=o.splice,v=T(s,"Map"),y=T(Object,"create");function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function w(e){return!(!k(e)||(t=e,d&&d in t))&&(function(e){var t=k(e)?p.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?m:r).test(function(e){if(null!=e){try{return h.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function E(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function T(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return w(n)?n:void 0}function C(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s),s};return n.cache=new(C.Cache||S),n}function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}b.prototype.clear=function(){this.__data__=y?y(null):{}},b.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},b.prototype.get=function(e){var t=this.__data__;if(y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return f.call(t,e)?t[e]:void 0},b.prototype.has=function(e){var t=this.__data__;return y?void 0!==t[e]:f.call(t,e)},b.prototype.set=function(e,t){return this.__data__[e]=y&&void 0===t?"__lodash_hash_undefined__":t,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(e){var t=this.__data__,n=_(t,e);return!(n<0)&&(n==t.length-1?t.pop():g.call(t,n,1),!0)},x.prototype.get=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]},x.prototype.has=function(e){return _(this.__data__,e)>-1},x.prototype.set=function(e,t){var n=this.__data__,r=_(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},S.prototype.clear=function(){this.__data__={hash:new b,map:new(v||x),string:new b}},S.prototype.delete=function(e){return E(this,e).delete(e)},S.prototype.get=function(e){return E(this,e).get(e)},S.prototype.has=function(e){return E(this,e).has(e)},S.prototype.set=function(e,t){return E(this,e).set(e,t),this},C.Cache=S,e.exports=C}).call(this,n(3))},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,o="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,h=Math.min,f=function(){return c.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var o=i.test(e);return o||a.test(e)?s(e.slice(2),o?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,s,o,l,c=0,u=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=i;return r=i=void 0,c=t,s=e.apply(a,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-c>=a}function x(){var e=f();if(b(e))return S(e);o=setTimeout(x,function(e){var n=t-(e-l);return g?h(n,a-(e-c)):n}(e))}function S(e){return o=void 0,v&&r?y(e):(r=i=void 0,s)}function _(){var e=f(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===o)return function(e){return c=e,o=setTimeout(x,t),u?y(e):s}(l);if(g)return o=setTimeout(x,t),y(l)}return void 0===o&&(o=setTimeout(x,t)),s}return t=m(t)||0,p(n)&&(u=!!n.leading,a=(g="maxWait"in n)?d(m(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=l=i=o=void 0},_.flush=function(){return void 0===o?s:S(f())},_}}).call(this,n(3))},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",a="[object Object]",s="[object Set]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[r]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[i]=p["[object Number]"]=p[a]=p["[object RegExp]"]=p[s]=p["[object String]"]=p["[object WeakMap]"]=!1;var m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,v=m||g||Function("return this")(),y=t&&!t.nodeType&&t,b=y&&"object"==typeof n&&n&&!n.nodeType&&n,x=b&&b.exports===y&&m.process,S=function(){try{return x&&x.binding("util")}catch(e){}}(),_=S&&S.isTypedArray;function w(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function E(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function T(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function C(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function k(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,N,L,R=Array.prototype,P=Function.prototype,I=Object.prototype,D=v["__core-js_shared__"],O=(j=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",M=P.toString,F=I.hasOwnProperty,U=I.toString,$=RegExp("^"+M.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=v.Symbol,G=v.Uint8Array,H=I.propertyIsEnumerable,z=R.splice,Y=(N=Object.keys,L=Object,function(e){return N(L(e))}),W=Se(v,"DataView"),V=Se(v,"Map"),K=Se(v,"Promise"),q=Se(v,"Set"),X=Se(v,"WeakMap"),Z=Se(Object,"create"),Q=je(W),J=je(V),ee=je(K),te=je(q),ne=je(X),re=B?B.prototype:void 0,ie=re?re.valueOf:void 0,ae=re?re.toString:void 0;function se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function le(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ce(e){var t=-1,n=e?e.length:0;for(this.__data__=new le;++t<n;)this.add(e[t])}function ue(e){this.__data__=new oe(e)}function de(e,t){for(var n=e.length;n--;)if(Le(e[n][0],t))return n;return-1}se.prototype.clear=function(){this.__data__=Z?Z(null):{}},se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},se.prototype.get=function(e){var t=this.__data__;if(Z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return F.call(t,e)?t[e]:void 0},se.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:F.call(t,e)},se.prototype.set=function(e,t){return this.__data__[e]=Z&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=de(t,e);return!(n<0)&&(n==t.length-1?t.pop():z.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=de(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return de(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,r=de(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},le.prototype.clear=function(){this.__data__={hash:new se,map:new(V||oe),string:new se}},le.prototype.delete=function(e){return xe(this,e).delete(e)},le.prototype.get=function(e){return xe(this,e).get(e)},le.prototype.has=function(e){return xe(this,e).has(e)},le.prototype.set=function(e,t){return xe(this,e).set(e,t),this},ce.prototype.add=ce.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ce.prototype.has=function(e){return this.__data__.has(e)},ue.prototype.clear=function(){this.__data__=new oe},ue.prototype.delete=function(e){return this.__data__.delete(e)},ue.prototype.get=function(e){return this.__data__.get(e)},ue.prototype.has=function(e){return this.__data__.has(e)},ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!V||r.length<199)return r.push([e,t]),this;n=this.__data__=new le(r)}return n.set(e,t),this};var he,fe=(he=function(e,t){return e&&pe(e,t,Be)},function(e,t){if(null==e)return e;if(!Ie(e))return he(e,t);for(var n=e.length,r=-1,i=Object(e);++r<n&&!1!==t(i[r],r,i););return e}),pe=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),s=a.length;s--;){var o=a[++r];if(!1===t(i[o],o,i))break}return e};function me(e,t){for(var n=0,r=(t=Ee(t,e)?[t]:ye(t)).length;null!=e&&n<r;)e=e[Ae(t[n++])];return n&&n==r?e:void 0}function ge(e,t){return null!=e&&t in Object(e)}function ve(e,t,n,o,l){return e===t||(null==e||null==t||!Me(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,o,l,c){var u=Pe(e),d=Pe(t),h="[object Array]",f="[object Array]";u||(h=(h=_e(e))==r?a:h),d||(f=(f=_e(t))==r?a:f);var p=h==a&&!C(e),m=f==a&&!C(t),g=h==f;if(g&&!p)return c||(c=new ue),u||$e(e)?be(e,t,n,o,l,c):function(e,t,n,r,a,o,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new G(e),new G(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Le(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=k;case s:var u=2&o;if(c||(c=A),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;o|=1,l.set(e,t);var h=be(c(e),c(t),r,a,o,l);return l.delete(e),h;case"[object Symbol]":if(ie)return ie.call(e)==ie.call(t)}return!1}(e,t,h,n,o,l,c);if(!(2&l)){var v=p&&F.call(e,"__wrapped__"),y=m&&F.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,x=y?t.value():t;return c||(c=new ue),n(b,x,o,l,c)}}return!!g&&(c||(c=new ue),function(e,t,n,r,i,a){var s=2&i,o=Be(e),l=o.length;if(l!=Be(t).length&&!s)return!1;for(var c=l;c--;){var u=o[c];if(!(s?u in t:F.call(t,u)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);for(var f=s;++c<l;){var p=e[u=o[c]],m=t[u];if(r)var g=s?r(m,p,u,t,e,a):r(p,m,u,e,t,a);if(!(void 0===g?p===m||n(p,m,r,i,a):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,o,l,c))}(e,t,ve,n,o,l))}function ye(e){return Pe(e)?e:ke(e)}function be(e,t,n,r,i,a){var s=2&i,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var u=-1,d=!0,h=1&i?new ce:void 0;for(a.set(e,t),a.set(t,e);++u<o;){var f=e[u],p=t[u];if(r)var m=s?r(p,f,u,t,e,a):r(f,p,u,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!E(t,(function(e,t){if(!h.has(t)&&(f===e||n(f,e,r,i,a)))return h.add(t)}))){d=!1;break}}else if(f!==p&&!n(f,p,r,i,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function xe(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Me(e)||function(e){return!!O&&O in e}(e))&&(De(e)||C(e)?$:h).test(je(e))}(n)?n:void 0}var _e=function(e){return U.call(e)};function we(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e,t){if(Pe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ue(e))||l.test(e)||!o.test(e)||null!=t&&e in Object(t)}function Te(e){return e==e&&!Me(e)}function Ce(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}(W&&"[object DataView]"!=_e(new W(new ArrayBuffer(1)))||V&&_e(new V)!=i||K&&"[object Promise]"!=_e(K.resolve())||q&&_e(new q)!=s||X&&"[object WeakMap]"!=_e(new X))&&(_e=function(e){var t=U.call(e),n=t==a?e.constructor:void 0,r=n?je(n):void 0;if(r)switch(r){case Q:return"[object DataView]";case J:return i;case ee:return"[object Promise]";case te:return s;case ne:return"[object WeakMap]"}return t});var ke=Ne((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Ue(e))return ae?ae.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(u,(function(e,t,r,i){n.push(r?i.replace(d,"$1"):t||e)})),n}));function Ae(e){if("string"==typeof e||Ue(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function je(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ne(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s),s};return n.cache=new(Ne.Cache||le),n}function Le(e,t){return e===t||e!=e&&t!=t}function Re(e){return function(e){return Fe(e)&&Ie(e)}(e)&&F.call(e,"callee")&&(!H.call(e,"callee")||U.call(e)==r)}Ne.Cache=le;var Pe=Array.isArray;function Ie(e){return null!=e&&Oe(e.length)&&!De(e)}function De(e){var t=Me(e)?U.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Oe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Me(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fe(e){return!!e&&"object"==typeof e}function Ue(e){return"symbol"==typeof e||Fe(e)&&"[object Symbol]"==U.call(e)}var $e=_?function(e){return function(t){return e(t)}}(_):function(e){return Fe(e)&&Oe(e.length)&&!!p[U.call(e)]};function Be(e){return Ie(e)?function(e,t){var n=Pe(e)||Re(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!F.call(e,a)||i&&("length"==a||we(a,r))||n.push(a);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||I))return Y(e);var t,n,r=[];for(var i in Object(e))F.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e)}function Ge(e){return e}n.exports=function(e,t,n){var r=Pe(e)?w:T,i=arguments.length<3;return r(e,function(e){return"function"==typeof e?e:null==e?Ge:"object"==typeof e?Pe(e)?function(e,t){return Ee(e)&&Te(t)?Ce(Ae(e),t):function(n){var r=function(e,t){var n=null==e?void 0:me(e,t);return void 0===n?void 0:n}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){for(var r,i=-1,a=(t=Ee(t,e)?[t]:ye(t)).length;++i<a;){var s=Ae(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r||!!(a=e?e.length:0)&&Oe(a)&&we(s,a)&&(Pe(e)||Re(e))}(e,t,ge)}(n,e):ve(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Be(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Te(i)]}return t}(e);return 1==t.length&&t[0][2]?Ce(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,a=i;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var o=(s=n[i])[0],l=e[o],c=s[1];if(s[2]){if(void 0===l&&!(o in e))return!1}else{var u,d=new ue;if(!(void 0===u?ve(c,l,r,3,d):u))return!1}}return!0}(n,0,t)}}(e):Ee(t=e)?(n=Ae(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return me(t,e)}}(t);var t,n}(t),n,i,fe)}}).call(this,n(3),n(7)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){if(Array.isArray(e))return e}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t);var m=n(0),g=n.n(m),v=n(5),y=n.n(v),b=n(4),x=n.n(b),S=n(6),_=n.n(S),w=n(2),E=n.n(w),T=n(1),C=n.n(T);function k(e,t){return s(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}(e,t)||o()}n(8);var A=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["C\xf4te d\u2019Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Cura\xe7ao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["R\xe9union",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],j=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barth\xe9lemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function N(e,t,n,r,i){return!n||i?e+"".padEnd(t.length,".")+" "+r:e+"".padEnd(t.length,".")+" "+n}function L(e,t,n,i,s){var o,l,c=[];return l=!0===t,[(o=[]).concat.apply(o,a(e.map((function(e){var a={name:e[0],regions:e[1],iso2:e[2],countryCode:e[3],dialCode:e[3],format:N(n,e[3],e[4],i,s),priority:e[5]||0},o=[];return e[6]&&e[6].map((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},a);n.dialCode=e[3]+t,n.isAreaCode=!0,n.areaCodeLength=t.length,o.push(n)})),o.length>0?(a.mainCode=!0,l||"Array"===t.constructor.name&&t.includes(e[2])?(a.hasAreaCodes=!0,[a].concat(o)):(c=c.concat(o),[a])):[a]})))),c]}function R(e,t,n,r){if(null!==n){var i=Object.keys(n),a=Object.values(n);i.forEach((function(n,i){if(r)return e.push([n,a[i]]);var s=e.findIndex((function(e){return e[0]===n}));if(-1===s){var o=[n];o[t]=a[i],e.push(o)}else e[s][t]=a[i]}))}}function P(e,t){return 0===t.length?e:e.map((function(e){var n=t.findIndex((function(t){return t[0]===e[2]}));if(-1===n)return e;var r=t[n];return r[1]&&(e[4]=r[1]),r[3]&&(e[5]=r[3]),r[2]&&(e[6]=r[2]),e}))}var I=function e(t,n,r,i,s,o,c,u,d,h,f,p,m,g){l(this,e),this.filterRegions=function(e,t){if("string"==typeof e){var n=e;return t.filter((function(e){return e.regions.some((function(e){return e===n}))}))}return t.filter((function(t){return e.map((function(e){return t.regions.some((function(t){return t===e}))})).some((function(e){return e}))}))},this.sortTerritories=function(e,t){var n=[].concat(a(e),a(t));return n.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),n},this.getFilteredCountryList=function(e,t,n){return 0===e.length?t:n?e.map((function(e){var n=t.find((function(t){return t.iso2===e}));if(n)return n})).filter((function(e){return e})):t.filter((function(t){return e.some((function(e){return e===t.iso2}))}))},this.localizeCountries=function(e,t,n){for(var r=0;r<e.length;r++)void 0!==t[e[r].iso2]?e[r].localName=t[e[r].iso2]:void 0!==t[e[r].name]&&(e[r].localName=t[e[r].name]);return n||e.sort((function(e,t){return e.localName<t.localName?-1:e.localName>t.localName?1:0})),e},this.getCustomAreas=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=JSON.parse(JSON.stringify(e));i.dialCode+=t[r],n.push(i)}return n},this.excludeCountries=function(e,t){return 0===t.length?e:e.filter((function(e){return!t.includes(e.iso2)}))};var v=function(e,t,n){var r=[];return R(r,1,e,!0),R(r,3,t),R(r,2,n),r}(u,d,h),y=P(JSON.parse(JSON.stringify(A)),v),b=P(JSON.parse(JSON.stringify(j)),v),x=k(L(y,t,p,m,g),2),S=x[0],_=x[1];if(n){var w=k(L(b,t,p,m,g),2),E=w[0];w[1],S=this.sortTerritories(E,S)}r&&(S=this.filterRegions(r,S)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(i,S,c.includes("onlyCountries")),o),f,c.includes("onlyCountries")),this.preferredCountries=0===s.length?[]:this.localizeCountries(this.getFilteredCountryList(s,S,c.includes("preferredCountries")),f,c.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(i,_),o)},D=function(e){function t(e){var n;l(this,t),(n=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?h(e):t}(this,f(t).call(this,e))).getProbableCandidate=x()((function(e){return e&&0!==e.length?n.state.onlyCountries.filter((function(t){return E()(t.name.toLowerCase(),e.toLowerCase())}),h(h(n)))[0]:null})),n.guessSelectedCountry=x()((function(e,t,r,i){var a;if(!1===n.props.enableAreaCodes&&(i.some((function(t){if(E()(e,t.dialCode))return r.some((function(e){if(t.iso2===e.iso2&&e.mainCode)return a=e,!0})),!0})),a))return a;var s=r.find((function(e){return e.iso2==t}));if(""===e.trim())return s;var o=r.reduce((function(t,n){if(E()(e,n.dialCode)){if(n.dialCode.length>t.dialCode.length)return n;if(n.dialCode.length===t.dialCode.length&&n.priority<t.priority)return n}return t}),{dialCode:"",priority:10001},h(h(n)));return o.name?o:s})),n.updateCountry=function(e){var t,r=n.state.onlyCountries;(t=e.indexOf(0)>="0"&&e.indexOf(0)<="9"?r.find((function(t){return t.dialCode==+e})):r.find((function(t){return t.iso2==e})))&&t.dialCode&&n.setState({selectedCountry:t,formattedNumber:n.props.disableCountryCode?"":n.formatNumber(t.dialCode,t)})},n.scrollTo=function(e,t){if(e){var r=n.dropdownRef;if(r&&document.body){var i=r.offsetHeight,a=r.getBoundingClientRect().top+document.body.scrollTop,s=a+i,o=e,l=o.getBoundingClientRect(),c=o.offsetHeight,u=l.top+document.body.scrollTop,d=u+c,h=u-a+r.scrollTop,f=i/2-c/2;if(n.props.enableSearch?u<a+32:u<a)t&&(h-=f),r.scrollTop=h;else if(d>s){t&&(h+=f);var p=i-c;r.scrollTop=h-p}}}},n.scrollToTop=function(){var e=n.dropdownRef;e&&document.body&&(e.scrollTop=0)},n.formatNumber=function(e,t){if(!t)return e;var r,a=t.format,l=n.props,c=l.disableCountryCode,u=l.enableAreaCodeStretch,d=l.enableLongNumbers,h=l.autoFormat;if(c?((r=a.split(" ")).shift(),r=r.join(" ")):u&&t.isAreaCode?((r=a.split(" "))[1]=r[1].replace(/\.+/,"".padEnd(t.areaCodeLength,".")),r=r.join(" ")):r=a,!e||0===e.length)return c?"":n.props.prefix;if(e&&e.length<2||!r||!h)return c?e:n.props.prefix+e;var f,p=_()(r,(function(e,t){if(0===e.remainingText.length)return e;if("."!==t)return{formattedText:e.formattedText+t,remainingText:e.remainingText};var n,r=s(n=e.remainingText)||i(n)||o(),a=r[0],l=r.slice(1);return{formattedText:e.formattedText+a,remainingText:l}}),{formattedText:"",remainingText:e.split("")});return(f=d?p.formattedText+p.remainingText.join(""):p.formattedText).includes("(")&&!f.includes(")")&&(f+=")"),f},n.cursorToEnd=function(){var e=n.numberInputRef;if(document.activeElement===e){e.focus();var t=e.value.length;")"===e.value.charAt(t-1)&&(t-=1),e.setSelectionRange(t,t)}},n.getElement=function(e){return n["flag_no_".concat(e)]},n.getCountryData=function(){return n.state.selectedCountry?{name:n.state.selectedCountry.name||"",dialCode:n.state.selectedCountry.dialCode||"",countryCode:n.state.selectedCountry.iso2||"",format:n.state.selectedCountry.format||""}:{}},n.handleFlagDropdownClick=function(e){if(e.preventDefault(),n.state.showDropdown||!n.props.disabled){var t=n.state,r=t.preferredCountries,i=t.onlyCountries,a=t.selectedCountry,s=n.concatPreferredCountries(r,i).findIndex((function(e){return e.dialCode===a.dialCode&&e.iso2===a.iso2}));n.setState({showDropdown:!n.state.showDropdown,highlightCountryIndex:s},(function(){n.state.showDropdown&&n.scrollTo(n.getElement(n.state.highlightCountryIndex))}))}},n.handleInput=function(e){var t=e.target.value,r=n.props,i=r.prefix,a=r.onChange,s=n.props.disableCountryCode?"":i,o=n.state.selectedCountry,l=n.state.freezeSelection;if(!n.props.countryCodeEditable){var c=i+(o.hasAreaCodes?n.state.onlyCountries.find((function(e){return e.iso2===o.iso2&&e.mainCode})).dialCode:o.dialCode);if(t.slice(0,c.length)!==c)return}if(t===i)return a&&a("",n.getCountryData(),e,""),n.setState({formattedNumber:""});if(t.replace(/\D/g,"").length>15){if(!1===n.props.enableLongNumbers)return;if("number"==typeof n.props.enableLongNumbers&&t.replace(/\D/g,"").length>n.props.enableLongNumbers)return}if(t!==n.state.formattedNumber){e.preventDefault?e.preventDefault():e.returnValue=!1;var u=n.props.country,d=n.state,h=d.onlyCountries,f=d.selectedCountry,p=d.hiddenAreaCodes;if(a&&e.persist(),t.length>0){var m=t.replace(/\D/g,"");(!n.state.freezeSelection||f&&f.dialCode.length>m.length)&&(o=n.props.disableCountryGuess?f:n.guessSelectedCountry(m.substring(0,6),u,h,p)||f,l=!1),s=n.formatNumber(m,o),o=o.dialCode?o:f}var g=e.target.selectionStart,v=e.target.selectionStart,y=n.state.formattedNumber,b=s.length-y.length;n.setState({formattedNumber:s,freezeSelection:l,selectedCountry:o},(function(){b>0&&(v-=b),")"==s.charAt(s.length-1)?n.numberInputRef.setSelectionRange(s.length-1,s.length-1):v>0&&y.length>=s.length?n.numberInputRef.setSelectionRange(v,v):g<y.length&&n.numberInputRef.setSelectionRange(g,g),a&&a(s.replace(/[^0-9]+/g,""),n.getCountryData(),e,s)}))}},n.handleInputClick=function(e){n.setState({showDropdown:!1}),n.props.onClick&&n.props.onClick(e,n.getCountryData())},n.handleDoubleClick=function(e){var t=e.target.value.length;e.target.setSelectionRange(0,t)},n.handleFlagItemClick=function(e,t){var r=n.state.selectedCountry,i=n.state.onlyCountries.find((function(t){return t==e}));if(i){var a=n.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),s=a.length>1?a.replace(r.dialCode,i.dialCode):i.dialCode,o=n.formatNumber(s.replace(/\D/g,""),i);n.setState({showDropdown:!1,selectedCountry:i,freezeSelection:!0,formattedNumber:o,searchValue:""},(function(){n.cursorToEnd(),n.props.onChange&&n.props.onChange(o.replace(/[^0-9]+/g,""),n.getCountryData(),t,o)}))}},n.handleInputFocus=function(e){n.numberInputRef&&n.numberInputRef.value===n.props.prefix&&n.state.selectedCountry&&!n.props.disableCountryCode&&n.setState({formattedNumber:n.props.prefix+n.state.selectedCountry.dialCode},(function(){n.props.jumpCursorToEnd&&setTimeout(n.cursorToEnd,0)})),n.setState({placeholder:""}),n.props.onFocus&&n.props.onFocus(e,n.getCountryData()),n.props.jumpCursorToEnd&&setTimeout(n.cursorToEnd,0)},n.handleInputBlur=function(e){e.target.value||n.setState({placeholder:n.props.placeholder}),n.props.onBlur&&n.props.onBlur(e,n.getCountryData())},n.handleInputCopy=function(e){if(n.props.copyNumbersOnly){var t=window.getSelection().toString().replace(/[^0-9]+/g,"");e.clipboardData.setData("text/plain",t),e.preventDefault()}},n.getHighlightCountryIndex=function(e){var t=n.state.highlightCountryIndex+e;return t<0||t>=n.state.onlyCountries.length+n.state.preferredCountries.length?t-e:n.props.enableSearch&&t>n.getSearchFilteredCountries().length?0:t},n.searchCountry=function(){var e=n.getProbableCandidate(n.state.queryString)||n.state.onlyCountries[0],t=n.state.onlyCountries.findIndex((function(t){return t==e}))+n.state.preferredCountries.length;n.scrollTo(n.getElement(t),!0),n.setState({queryString:"",highlightCountryIndex:t})},n.handleKeydown=function(e){var t=n.props.keys,r=e.target.className;if(r.includes("selected-flag")&&e.which===t.ENTER&&!n.state.showDropdown)return n.handleFlagDropdownClick(e);if(r.includes("form-control")&&(e.which===t.ENTER||e.which===t.ESC))return e.target.blur();if(n.state.showDropdown&&!n.props.disabled&&(!r.includes("search-box")||e.which===t.UP||e.which===t.DOWN||e.which===t.ENTER||e.which===t.ESC&&""===e.target.value)){e.preventDefault?e.preventDefault():e.returnValue=!1;var i=function(e){n.setState({highlightCountryIndex:n.getHighlightCountryIndex(e)},(function(){n.scrollTo(n.getElement(n.state.highlightCountryIndex),!0)}))};switch(e.which){case t.DOWN:i(1);break;case t.UP:i(-1);break;case t.ENTER:n.props.enableSearch?n.handleFlagItemClick(n.getSearchFilteredCountries()[n.state.highlightCountryIndex]||n.getSearchFilteredCountries()[0],e):n.handleFlagItemClick([].concat(a(n.state.preferredCountries),a(n.state.onlyCountries))[n.state.highlightCountryIndex],e);break;case t.ESC:case t.TAB:n.setState({showDropdown:!1},n.cursorToEnd);break;default:(e.which>=t.A&&e.which<=t.Z||e.which===t.SPACE)&&n.setState({queryString:n.state.queryString+String.fromCharCode(e.which)},n.state.debouncedQueryStingSearcher)}}},n.handleInputKeyDown=function(e){var t=n.props,r=t.keys,i=t.onEnterKeyPress,a=t.onKeyDown;e.which===r.ENTER&&i&&i(e),a&&a(e)},n.handleClickOutside=function(e){n.dropdownRef&&!n.dropdownContainerRef.contains(e.target)&&n.state.showDropdown&&n.setState({showDropdown:!1})},n.handleSearchChange=function(e){var t=e.currentTarget.value,r=n.state,i=r.preferredCountries,a=r.selectedCountry,s=0;if(""===t&&a){var o=n.state.onlyCountries;s=n.concatPreferredCountries(i,o).findIndex((function(e){return e==a})),setTimeout((function(){return n.scrollTo(n.getElement(s))}),100)}n.setState({searchValue:t,highlightCountryIndex:s})},n.concatPreferredCountries=function(e,t){return e.length>0?a(new Set(e.concat(t))):t},n.getDropdownCountryName=function(e){return e.localName||e.name},n.getSearchFilteredCountries=function(){var e=n.state,t=e.preferredCountries,r=e.onlyCountries,i=e.searchValue,s=n.props.enableSearch,o=n.concatPreferredCountries(t,r),l=i.trim().toLowerCase().replace("+","");if(s&&l){if(/^\d+$/.test(l))return o.filter((function(e){var t=e.dialCode;return["".concat(t)].some((function(e){return e.toLowerCase().includes(l)}))}));var c=o.filter((function(e){var t=e.iso2;return["".concat(t)].some((function(e){return e.toLowerCase().includes(l)}))})),u=o.filter((function(e){var t=e.name,n=e.localName;return e.iso2,["".concat(t),"".concat(n||"")].some((function(e){return e.toLowerCase().includes(l)}))}));return n.scrollToTop(),a(new Set([].concat(c,u)))}return o},n.getCountryDropdownList=function(){var e=n.state,t=e.preferredCountries,i=e.highlightCountryIndex,a=e.showDropdown,s=e.searchValue,o=n.props,l=o.disableDropdown,c=o.prefix,u=n.props,d=u.enableSearch,h=u.searchNotFound,f=u.disableSearchIcon,p=u.searchClass,m=u.searchStyle,v=u.searchPlaceholder,y=u.autocompleteSearch,b=n.getSearchFilteredCountries().map((function(e,t){var r=i===t,a=C()({country:!0,preferred:"us"===e.iso2||"gb"===e.iso2,active:"us"===e.iso2,highlight:r}),s="flag ".concat(e.iso2);return g.a.createElement("li",Object.assign({ref:function(e){return n["flag_no_".concat(t)]=e},key:"flag_no_".concat(t),"data-flag-key":"flag_no_".concat(t),className:a,"data-dial-code":"1",tabIndex:l?"-1":"0","data-country-code":e.iso2,onClick:function(t){return n.handleFlagItemClick(e,t)},role:"option"},r?{"aria-selected":!0}:{}),g.a.createElement("div",{className:s}),g.a.createElement("span",{className:"country-name"},n.getDropdownCountryName(e)),g.a.createElement("span",{className:"dial-code"},e.format?n.formatNumber(e.dialCode,e):c+e.dialCode))})),x=g.a.createElement("li",{key:"dashes",className:"divider"});t.length>0&&(!d||d&&!s.trim())&&b.splice(t.length,0,x);var S=C()(r({"country-list":!0,hide:!a},n.props.dropdownClass,!0));return g.a.createElement("ul",{ref:function(e){return!d&&e&&e.focus(),n.dropdownRef=e},className:S,style:n.props.dropdownStyle,role:"listbox",tabIndex:"0"},d&&g.a.createElement("li",{className:C()(r({search:!0},p,p))},!f&&g.a.createElement("span",{className:C()(r({"search-emoji":!0},"".concat(p,"-emoji"),p)),role:"img","aria-label":"Magnifying glass"},"\ud83d\udd0e"),g.a.createElement("input",{className:C()(r({"search-box":!0},"".concat(p,"-box"),p)),style:m,type:"search",placeholder:v,autoFocus:!0,autoComplete:y?"on":"off",value:s,onChange:n.handleSearchChange})),b.length>0?b:g.a.createElement("li",{className:"no-entries-message"},g.a.createElement("span",null,h)))};var c,u=new I(e.enableAreaCodes,e.enableTerritories,e.regions,e.onlyCountries,e.preferredCountries,e.excludeCountries,e.preserveOrder,e.masks,e.priority,e.areaCodes,e.localization,e.prefix,e.defaultMask,e.alwaysDefaultMask),p=u.onlyCountries,m=u.preferredCountries,v=u.hiddenAreaCodes,b=e.value?e.value.replace(/\D/g,""):"";c=e.disableInitialCountryGuess?0:b.length>1?n.guessSelectedCountry(b.substring(0,6),e.country,p,v)||0:e.country&&p.find((function(t){return t.iso2==e.country}))||0;var S,w=b.length<2&&c&&!E()(b,c.dialCode)?c.dialCode:"";S=""===b&&0===c?"":n.formatNumber((e.disableCountryCode?"":w)+b,c.name?c:void 0);var T=p.findIndex((function(e){return e==c}));return n.state={showDropdown:e.showDropdown,formattedNumber:S,onlyCountries:p,preferredCountries:m,hiddenAreaCodes:v,selectedCountry:c,highlightCountryIndex:T,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:y()(n.searchCountry,250),searchValue:""},n}var n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(u=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e,t,n){e.country!==this.props.country?this.updateCountry(this.props.country):e.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(e){if(null===e)return this.setState({selectedCountry:0,formattedNumber:""});var t=this.state,n=t.onlyCountries,r=t.selectedCountry,i=t.hiddenAreaCodes,a=this.props,s=a.country,o=a.prefix;if(""===e)return this.setState({selectedCountry:r,formattedNumber:""});var l,c,u=e.replace(/\D/g,"");if(r&&E()(e,o+r.dialCode))c=this.formatNumber(u,r),this.setState({formattedNumber:c});else{var d=(l=this.props.disableCountryGuess?r:this.guessSelectedCountry(u.substring(0,6),s,n,i)||r)&&E()(u,o+l.dialCode)?l.dialCode:"";c=this.formatNumber((this.props.disableCountryCode?"":d)+u,l||void 0),this.setState({selectedCountry:l,formattedNumber:c})}}},{key:"render",value:function(){var e,t,n,i=this,a=this.state,s=a.onlyCountries,o=a.selectedCountry,l=a.showDropdown,c=a.formattedNumber,u=a.hiddenAreaCodes,d=this.props,h=d.disableDropdown,f=d.renderStringAsFlag,p=d.isValid,m=d.defaultErrorMessage,v=d.specialLabel;if("boolean"==typeof p)t=p;else{var y=p(c.replace(/\D/g,""),o,s,u);"boolean"==typeof y?!1===(t=y)&&(n=m):(t=!1,n=y)}var b=C()((r(e={},this.props.containerClass,!0),r(e,"react-tel-input",!0),e)),x=C()({arrow:!0,up:l}),S=C()(r({"form-control":!0,"invalid-number":!t,open:l},this.props.inputClass,!0)),_=C()({"selected-flag":!0,open:l}),w=C()(r({"flag-dropdown":!0,"invalid-number":!t,open:l},this.props.buttonClass,!0)),E="flag ".concat(o&&o.iso2);return g.a.createElement("div",{className:"".concat(b," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},v&&g.a.createElement("div",{className:"special-label"},v),n&&g.a.createElement("div",{className:"invalid-number-message"},n),g.a.createElement("input",Object.assign({className:S,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:c,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(e){i.numberInputRef=e,"function"==typeof i.props.inputProps.ref?i.props.inputProps.ref(e):"object"==typeof i.props.inputProps.ref&&(i.props.inputProps.ref.current=e)}})),g.a.createElement("div",{className:w,style:this.props.buttonStyle,ref:function(e){return i.dropdownContainerRef=e}},f?g.a.createElement("div",{className:_},f):g.a.createElement("div",{onClick:h?void 0:this.handleFlagDropdownClick,className:_,title:o?"".concat(o.localName||o.name,": + ").concat(o.dialCode):"",tabIndex:h?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!l||void 0},g.a.createElement("div",{className:E},!h&&g.a.createElement("div",{className:x}))),l&&this.getCountryDropdownList()))}}])&&c(n.prototype,u),t}(g.a.Component);D.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=D}])},475:(e,t,n)=>{"use strict";var r,i;n.d(t,{Kd:()=>f,N_:()=>g});var a=n(43),s=n(950),o=n(216),l=n(387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const d=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(b){}new Map;const h=(r||(r=n.t(a,2))).startTransition;(i||(i=n.t(s,2))).flushSync,(r||(r=n.t(a,2))).useId;function f(e){let{basename:t,children:n,future:r,window:i}=e,s=a.useRef();null==s.current&&(s.current=(0,l.zR)({window:i,v5Compat:!0}));let c=s.current,[u,d]=a.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},p=a.useCallback((e=>{f&&h?h((()=>d(e))):d(e)}),[d,f]);return a.useLayoutEffect((()=>c.listen(p)),[c,p]),a.createElement(o.Ix,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=a.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:h,state:f,target:g,to:v,preventScrollReset:y,unstable_viewTransition:x}=e,S=u(e,d),{basename:_}=a.useContext(o.jb),w=!1;if("string"===typeof v&&m.test(v)&&(n=v,p))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),n=(0,l.pb)(t.pathname,_);t.origin===e.origin&&null!=n?v=n+t.search+t.hash:w=!0}catch(b){}let E=(0,o.$P)(v,{relative:i}),T=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,unstable_viewTransition:u}=void 0===t?{}:t,d=(0,o.Zp)(),h=(0,o.zy)(),f=(0,o.x$)(e,{relative:c});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(h)===(0,l.AO)(f);d(e,{replace:n,state:i,preventScrollReset:s,relative:c,unstable_viewTransition:u})}}),[h,d,f,r,i,n,e,s,c,u])}(v,{replace:h,state:f,target:g,preventScrollReset:y,relative:i,unstable_viewTransition:x});return a.createElement("a",c({},S,{href:n||E,onClick:w||s?r:function(e){r&&r(e),e.defaultPrevented||T(e)},ref:t,target:g}))}));var v,y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v||(v={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(y||(y={}))},216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>f,BV:()=>M,C5:()=>P,Ix:()=>O,Zp:()=>v,g:()=>b,jb:()=>c,qh:()=>D,sv:()=>I,x$:()=>x,zy:()=>m});var i=n(43),a=n(387);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const o=i.createContext(null);const l=i.createContext(null);const c=i.createContext(null);const u=i.createContext(null);const d=i.createContext({outlet:null,matches:[],isDataRoute:!1});const h=i.createContext(null);function f(e,t){let{relative:n}=void 0===t?{}:t;p()||(0,a.Oi)(!1);let{basename:r,navigator:s}=i.useContext(c),{hash:o,pathname:l,search:u}=x(e,{relative:n}),d=l;return"/"!==r&&(d="/"===l?r:(0,a.HS)([r,l])),s.createHref({pathname:d,search:u,hash:o})}function p(){return null!=i.useContext(u)}function m(){return p()||(0,a.Oi)(!1),i.useContext(u).location}function g(e){i.useContext(c).static||i.useLayoutEffect(e)}function v(){let{isDataRoute:e}=i.useContext(d);return e?function(){let{router:e}=j(k.UseNavigateStable),t=L(A.UseNavigateStable),n=i.useRef(!1);return g((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,s({fromRouteId:t},i)))}),[e,t])}():function(){p()||(0,a.Oi)(!1);let e=i.useContext(o),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:s}=i.useContext(d),{pathname:l}=m(),u=JSON.stringify((0,a.yD)(s,n.v7_relativeSplatPath)),h=i.useRef(!1);return g((()=>{h.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!h.current)return;if("number"===typeof n)return void r.go(n);let s=(0,a.Gh)(n,JSON.parse(u),l,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,a.HS)([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,u,l,e])}()}const y=i.createContext(null);function b(){let{matches:e}=i.useContext(d),t=e[e.length-1];return t?t.params:{}}function x(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:s}=i.useContext(d),{pathname:o}=m(),l=JSON.stringify((0,a.yD)(s,r.v7_relativeSplatPath));return i.useMemo((()=>(0,a.Gh)(e,JSON.parse(l),o,"path"===n)),[e,l,o,n])}function S(e,t,n,r){p()||(0,a.Oi)(!1);let{navigator:o}=i.useContext(c),{matches:l}=i.useContext(d),h=l[l.length-1],f=h?h.params:{},g=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let v,y=m();if(t){var b;let e="string"===typeof t?(0,a.Rr)(t):t;"/"===g||(null==(b=e.pathname)?void 0:b.startsWith(g))||(0,a.Oi)(!1),v=e}else v=y;let x=v.pathname||"/",S=x;if("/"!==g){let e=g.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=(0,a.ue)(e,{pathname:S});let w=C(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:(0,a.HS)([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,a.HS)([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&w?i.createElement(u.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:a.rc.Pop}},w):w}function _(){let e=function(){var e;let t=i.useContext(h),n=N(A.UseRouteError),r=L(A.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,a.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const w=i.createElement(_,null);class E extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(d.Provider,{value:this.props.routeContext},i.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(o);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(d.Provider,{value:t},r)}function C(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,a.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,r,a)=>{let s,o=!1,h=null,f=null;var p;n&&(s=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||w,u&&(d<0&&0===a?(p="route-fallback",!1||R[p]||(R[p]=!0),o=!0,f=null):d===a&&(o=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,a+1)),g=()=>{let t;return t=s?h:o?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(T,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(E,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),A=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A||{});function j(e){let t=i.useContext(o);return t||(0,a.Oi)(!1),t}function N(e){let t=i.useContext(l);return t||(0,a.Oi)(!1),t}function L(e){let t=function(){let e=i.useContext(d);return e||(0,a.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,a.Oi)(!1),n.route.id}const R={};(r||(r=n.t(i,2))).startTransition;function P(e){let{to:t,replace:n,state:r,relative:s}=e;p()||(0,a.Oi)(!1);let{future:o,static:l}=i.useContext(c),{matches:u}=i.useContext(d),{pathname:h}=m(),f=v(),g=(0,a.Gh)(t,(0,a.yD)(u,o.v7_relativeSplatPath),h,"path"===s),y=JSON.stringify(g);return i.useEffect((()=>f(JSON.parse(y),{replace:n,state:r,relative:s})),[f,y,s,n,r]),null}function I(e){return function(e){let t=i.useContext(d).outlet;return t?i.createElement(y.Provider,{value:e},t):t}(e.context)}function D(e){(0,a.Oi)(!1)}function O(e){let{basename:t="/",children:n=null,location:r,navigationType:o=a.rc.Pop,navigator:l,static:d=!1,future:h}=e;p()&&(0,a.Oi)(!1);let f=t.replace(/^\/*/,"/"),m=i.useMemo((()=>({basename:f,navigator:l,static:d,future:s({v7_relativeSplatPath:!1},h)})),[f,h,l,d]);"string"===typeof r&&(r=(0,a.Rr)(r));let{pathname:g="/",search:v="",hash:y="",state:b=null,key:x="default"}=r,S=i.useMemo((()=>{let e=(0,a.pb)(g,f);return null==e?null:{location:{pathname:e,search:v,hash:y,state:b,key:x},navigationType:o}}),[f,g,v,y,b,x,o]);return null==S?null:i.createElement(c.Provider,{value:m},i.createElement(u.Provider,{children:n,value:S}))}function M(e){let{children:t,location:n}=e;return S(F(t),n)}new Promise((()=>{}));i.Component;function F(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,F(e.props.children,s));e.type!==D&&(0,a.Oi)(!1),e.props.index&&e.props.children&&(0,a.Oi)(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=F(e.props.children,s)),n.push(o)})),n}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray,_=Object.prototype.hasOwnProperty,w={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+A(l,0):a,S(s)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),j(s,t,i,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",S(e))for(var c=0;c<e.length;c++){var u=a+A(o=e[c],c);l+=j(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,i,u=a+A(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:w};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&I(S,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var a=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&I(S,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,E=!1,T=null,C=-1,k=5,A=-1;function j(){return!(t.unstable_now()-A<k)}function N(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?w():(E=!1,T=null)}}else E=!1}if("function"===typeof b)w=function(){b(N)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,R=L.port2;L.port1.onmessage=N,w=function(){R.postMessage(null)}}else w=function(){v(N,0)};function P(e){T=e,E||(E=!0,w())}function I(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,I(S,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},440:e=>{"use strict";var t=function(){};e.exports=t},33:()=>{},465:()=>{},420:()=>{},372:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(43);const i=r.createContext({}),a=!0;function s(e){let{baseColor:t,highlightColor:n,width:r,height:i,borderRadius:s,circle:o,direction:l,duration:c,enableAnimation:u=a}=e;const d={};return"rtl"===l&&(d["--animation-direction"]="reverse"),"number"===typeof c&&(d["--animation-duration"]=`${c}s`),u||(d["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(d.width=r),"string"!==typeof i&&"number"!==typeof i||(d.height=i),"string"!==typeof s&&"number"!==typeof s||(d.borderRadius=s),o&&(d.borderRadius="50%"),"undefined"!==typeof t&&(d["--base-color"]=t),"undefined"!==typeof n&&(d["--highlight-color"]=n),d}function o(e){let{count:t=1,wrapper:n,className:o,containerClassName:l,containerTestId:c,circle:u=!1,style:d,...h}=e;var f,p,m;const g=r.useContext(i),v={...h};for(const[r,i]of Object.entries(h))"undefined"===typeof i&&delete v[r];const y={...g,...v,circle:u},b={...d,...s(y)};let x="react-loading-skeleton";o&&(x+=` ${o}`);const S=null!==(f=y.inline)&&void 0!==f&&f,_=[],w=Math.ceil(t);for(let i=0;i<w;i++){let e=b;if(w>t&&i===w-1){const n=null!==(p=e.width)&&void 0!==p?p:"100%",r=t%1,i="number"===typeof n?n*r:`calc(${n} * ${r})`;e={...e,width:i}}const n=r.createElement("span",{className:x,style:e,key:i},"\u200c");S?_.push(n):_.push(r.createElement(r.Fragment,{key:i},n,r.createElement("br",null)))}return r.createElement("span",{className:l,"data-testid":c,"aria-live":"polite","aria-busy":null!==(m=y.enableAnimation)&&void 0!==m?m:a},n?_.map(((e,t)=>r.createElement(n,{key:t},e))):_)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{25:"01390c09",453:"cb384d6f",720:"2cd56ee2"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{25:"5973cd2b",720:"30128463"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="seashels_web:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,r)=>{var i=n.miniCssF(e),a=n.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var s;if((i=(s=a[r]).getAttribute("data-href"))===e||i===t)return s}})(i,a))return t();((e,t,r,i,a)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)i();else{var r=n&&n.type,o=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,s.parentNode&&s.parentNode.removeChild(s),a(l)}},s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s)})(e,a,null,t,r)})),t={792:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{25:1,720:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkseashels_web=self.webpackChunkseashels_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>le,hasStandardBrowserEnv:()=>ce,hasStandardBrowserWebWorkerEnv:()=>de,origin:()=>he});var t=n(43),r=n(391),i=n(475);n(420);function a(e,t){return function(){return e.apply(t,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:o}=Object,l=(c=Object.create(null),e=>{const t=s.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>l(t)===e),d=e=>t=>typeof t===e,{isArray:h}=Array,f=d("undefined");const p=u("ArrayBuffer");const m=d("string"),g=d("function"),v=d("number"),y=e=>null!==e&&"object"===typeof e,b=e=>{if("object"!==l(e))return!1;const t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},x=u("Date"),S=u("File"),_=u("Blob"),w=u("FileList"),E=u("URLSearchParams"),[T,C,k,A]=["ReadableStream","Request","Response","Headers"].map(u);function j(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),h(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}function N(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,R=e=>!f(e)&&e!==L;const P=(I="undefined"!==typeof Uint8Array&&o(Uint8Array),e=>I&&e instanceof I);var I;const D=u("HTMLFormElement"),O=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),M=u("RegExp"),F=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};j(n,((n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},U="abcdefghijklmnopqrstuvwxyz",$="0123456789",B={DIGIT:$,ALPHA:U,ALPHA_DIGIT:U+U.toUpperCase()+$};const G=u("AsyncFunction"),H={isArray:h,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=l(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:m,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:b,isReadableStream:T,isRequest:C,isResponse:k,isHeaders:A,isUndefined:f,isDate:x,isFile:S,isBlob:_,isRegExp:M,isFunction:g,isStream:e=>y(e)&&g(e.pipe),isURLSearchParams:E,isTypedArray:P,isFileList:w,forEach:j,merge:function e(){const{caseless:t}=R(this)&&this||{},n={},r=(r,i)=>{const a=t&&N(n,i)||i;b(n[a])&&b(r)?n[a]=e(n[a],r):b(r)?n[a]=e({},r):h(r)?n[a]=r.slice():n[a]=r};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&j(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return j(t,((t,r)=>{n&&g(t)?e[r]=a(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&o(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:l,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(h(e))return e;let t=e.length;if(!v(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:D,hasOwnProperty:O,hasOwnProp:O,reduceDescriptors:F,freezeMethods:e=>{F(e,((t,n)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];g(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return h(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:N,global:L,isContextDefined:R,ALPHABET:B,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=h(e)?[]:{};return j(e,((e,t)=>{const a=n(e,r+1);!f(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:G,isThenable:e=>e&&(y(e)||g(e))&&g(e.then)&&g(e.catch)};function z(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}H.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Y=z.prototype,W={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{W[e]={value:e}})),Object.defineProperties(z,W),Object.defineProperty(Y,"isAxiosError",{value:!0}),z.from=(e,t,n,r,i,a)=>{const s=Object.create(Y);return H.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),z.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const V=z;function K(e){return H.isPlainObject(e)||H.isArray(e)}function q(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function X(e,t,n){return e?e.concat(t).map((function(e,t){return e=q(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Z=H.toFlatObject(H,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Q=function(e,t,n){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!H.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(H.isDate(e))return e.toISOString();if(!o&&H.isBlob(e))throw new V("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(e)||H.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(H.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(H.isArray(e)&&function(e){return H.isArray(e)&&!e.some(K)}(e)||(H.isFileList(e)||H.endsWith(n,"[]"))&&(o=H.toArray(e)))return n=q(n),o.forEach((function(e,r){!H.isUndefined(e)&&null!==e&&t.append(!0===s?X([n],r,a):null===s?n:n+"[]",l(e))})),!1;return!!K(e)||(t.append(X(i,n,a),l(e)),!1)}const u=[],d=Object.assign(Z,{defaultVisitor:c,convertValue:l,isVisitable:K});if(!H.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!H.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),H.forEach(n,(function(n,a){!0===(!(H.isUndefined(n)||null===n)&&i.call(t,n,H.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function J(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ee(e,t){this._pairs=[],e&&Q(e,this,t)}const te=ee.prototype;te.append=function(e,t){this._pairs.push([e,t])},te.toString=function(e){const t=e?function(t){return e.call(this,t,J)}:J;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ne=ee;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ie(e,t,n){if(!t)return e;const r=n&&n.encode||re,i=n&&n.serialize;let a;if(a=i?i(t,n):H.isURLSearchParams(t)?t.toString():new ne(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const ae=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},se={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ne,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},le="undefined"!==typeof window&&"undefined"!==typeof document,ce=(ue="undefined"!==typeof navigator&&navigator.product,le&&["ReactNative","NativeScript","NS"].indexOf(ue)<0);var ue;const de="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,he=le&&window.location.href||"http://localhost",fe={...e,...oe};const pe=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&H.isArray(r)?r.length:a,o)return H.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&H.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&H.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(H.isFormData(e)&&H.isFunction(e.entries)){const n={};return H.forEachEntry(e,((e,r)=>{t(function(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const me={transitional:se,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=H.isObject(e);i&&H.isHTMLForm(e)&&(e=new FormData(e));if(H.isFormData(e))return r?JSON.stringify(pe(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Q(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return fe.isNode&&H.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=H.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Q(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(Vt){if("SyntaxError"!==Vt.name)throw Vt}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||me.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Vt){if(n){if("SyntaxError"===Vt.name)throw V.from(Vt,V.ERR_BAD_RESPONSE,this,null,this.response);throw Vt}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],(e=>{me.headers[e]={}}));const ge=me,ve=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ye=Symbol("internals");function be(e){return e&&String(e).trim().toLowerCase()}function xe(e){return!1===e||null==e?e:H.isArray(e)?e.map(xe):String(e)}function Se(e,t,n,r,i){return H.isFunction(r)?r.call(this,t,n):(i&&(t=n),H.isString(t)?H.isString(r)?-1!==t.indexOf(r):H.isRegExp(r)?r.test(t):void 0:void 0)}class _e{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=be(t);if(!i)throw new Error("header name must be a non-empty string");const a=H.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=xe(e))}const a=(e,t)=>H.forEach(e,((e,n)=>i(e,n,t)));if(H.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(H.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&ve[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(H.isHeaders(e))for(const[s,o]of e.entries())i(o,s,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=be(e)){const n=H.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(H.isFunction(t))return t.call(this,e,n);if(H.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=be(e)){const n=H.findKey(this,e);return!(!n||void 0===this[n]||t&&!Se(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=be(e)){const i=H.findKey(n,e);!i||t&&!Se(0,n[i],i,t)||(delete n[i],r=!0)}}return H.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Se(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return H.forEach(this,((r,i)=>{const a=H.findKey(n,i);if(a)return t[a]=xe(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=xe(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return H.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&H.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ye]=this[ye]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=be(e);t[r]||(!function(e,t){const n=H.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return H.isArray(e)?e.forEach(r):r(e),this}}_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),H.reduceDescriptors(_e.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),H.freezeMethods(_e);const we=_e;function Ee(e,t){const n=this||ge,r=t||n,i=we.from(r.headers);let a=r.data;return H.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Te(e){return!(!e||!e.__CANCEL__)}function Ce(e,t,n){V.call(this,null==e?"canceled":e,V.ERR_CANCELED,t,n),this.name="CanceledError"}H.inherits(Ce,V,{__CANCEL__:!0});const ke=Ce;function Ae(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const je=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];i||(i=l),n[a]=o,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Ne=function(e,t){let n=0;const r=1e3/t;let i=null;return function(){const t=!0===this,a=Date.now();if(t||a-n>r)return i&&(clearTimeout(i),i=null),n=a,e.apply(null,arguments);i||(i=setTimeout((()=>(i=null,n=Date.now(),e.apply(null,arguments))),r-(a-n)))}},Le=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=je(50,250);return Ne((n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-r,l=i(o);r=a;const c={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s};c[t?"download":"upload"]=!0,e(c)}),n)},Re=fe.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=H.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},Pe=fe.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];H.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),H.isString(r)&&s.push("path="+r),H.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ie(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const De=e=>e instanceof we?{...e}:e;function Oe(e,t){t=t||{};const n={};function r(e,t,n){return H.isPlainObject(e)&&H.isPlainObject(t)?H.merge.call({caseless:n},e,t):H.isPlainObject(t)?H.merge({},t):H.isArray(t)?t.slice():t}function i(e,t,n){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!H.isUndefined(t))return r(void 0,t)}function s(e,t){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>i(De(e),De(t),!0)};return H.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||i,s=a(e[r],t[r],r);H.isUndefined(s)&&a!==o||(n[r]=s)})),n}const Me=e=>{const t=Oe({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=we.from(o),t.url=ie(Ie(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),H.isFormData(r))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(i&&H.isFunction(i)&&(i=i(t)),i||!1!==i&&Re(t.url))){const e=a&&s&&Pe.read(s);e&&o.set(a,e)}return t},Fe="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Me(e);let i=r.data;const a=we.from(r.headers).normalize();let s,{responseType:o}=r;function l(){r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let c=new XMLHttpRequest;function u(){if(!c)return;const r=we.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());Ae((function(e){t(e),l()}),(function(e){n(e),l()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}c.open(r.method.toUpperCase(),r.url,!0),c.timeout=r.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new V("Request aborted",V.ECONNABORTED,r,c)),c=null)},c.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const t=r.transitional||se;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new V(e,t.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,r,c)),c=null},void 0===i&&a.setContentType(null),"setRequestHeader"in c&&H.forEach(a.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),H.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),o&&"json"!==o&&(c.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&c.addEventListener("progress",Le(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Le(r.onUploadProgress)),(r.cancelToken||r.signal)&&(s=t=>{c&&(n(!t||t.type?new ke(null,e,c):t),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);d&&-1===fe.protocols.indexOf(d)?n(new V("Unsupported protocol "+d+":",V.ERR_BAD_REQUEST,e)):c.send(i||null)}))},Ue=(e,t)=>{let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof V?t:new ke(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{i(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))}),t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:o}=r;return o.unsubscribe=s,[o,()=>{a&&clearTimeout(a),a=null}]},$e=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Be=(e,t,n,r,i)=>{const a=async function*(e,t,n){for await(const r of e)yield*$e(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,i);let s=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:i}=await a.next();if(t)return e.close(),void r();let o=i.byteLength;n&&n(s+=o),e.enqueue(new Uint8Array(i))},cancel:e=>(r(e),a.return())},{highWaterMark:2})},Ge=(e,t)=>{const n=null!=e;return r=>setTimeout((()=>t({lengthComputable:n,total:e,loaded:r})))},He="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ze=He&&"function"===typeof ReadableStream,Ye=He&&("function"===typeof TextEncoder?(We=new TextEncoder,e=>We.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var We;const Ve=ze&&(()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Ke=ze&&!!(()=>{try{return H.isReadableStream(new Response("").body)}catch(e){}})(),qe={stream:Ke&&(e=>e.body)};var Xe;He&&(Xe=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!qe[e]&&(qe[e]=H.isFunction(Xe[e])?t=>t[e]():(t,n)=>{throw new V(`Response type '${e}' is not supported`,V.ERR_NOT_SUPPORT,n)})})));const Ze=async(e,t)=>{const n=H.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:H.isBlob(e)?e.size:H.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:H.isArrayBufferView(e)?e.byteLength:(H.isURLSearchParams(e)&&(e+=""),H.isString(e)?(await Ye(e)).byteLength:void 0))(t):n},Qe={http:null,xhr:Fe,fetch:He&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Me(e);c=c?(c+"").toLowerCase():"text";let f,p,[m,g]=i||a||s?Ue([i,a],s):[];const v=()=>{!f&&setTimeout((()=>{m&&m.unsubscribe()})),f=!0};let y;try{if(l&&Ve&&"get"!==n&&"head"!==n&&0!==(y=await Ze(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});H.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body&&(r=Be(n.body,65536,Ge(y,Le(l)),null,Ye))}H.isString(d)||(d=d?"cors":"omit"),p=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let i=await fetch(p);const a=Ke&&("stream"===c||"response"===c);if(Ke&&(o||a)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=H.toFiniteNumber(i.headers.get("content-length"));i=new Response(Be(i.body,65536,o&&Ge(t,Le(o,!0)),a&&v,Ye),e)}c=c||"text";let s=await qe[H.findKey(qe,c)||"text"](i,e);return!a&&v(),g&&g(),await new Promise(((t,n)=>{Ae(t,n,{data:s,headers:we.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(b){if(v(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new V("Network Error",V.ERR_NETWORK,e,p),{cause:b.cause||b});throw V.from(b,b&&b.code,e,p)}})};H.forEach(Qe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Vt){}Object.defineProperty(e,"adapterName",{value:t})}}));const Je=e=>`- ${e}`,et=e=>H.isFunction(e)||null===e||!1===e,tt=e=>{e=H.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!et(n)&&(r=Qe[(t=String(n)).toLowerCase()],void 0===r))throw new V(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Je).join("\n"):" "+Je(e[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ke(null,e)}function rt(e){nt(e),e.headers=we.from(e.headers),e.data=Ee.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tt(e.adapter||ge.adapter)(e).then((function(t){return nt(e),t.data=Ee.call(e,e.transformResponse,t),t.headers=we.from(t.headers),t}),(function(t){return Te(t)||(nt(e),t&&t.response&&(t.response.data=Ee.call(e,e.transformResponse,t.response),t.response.headers=we.from(t.response.headers))),Promise.reject(t)}))}const it="1.7.2",at={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{at[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const st={};at.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new V(r(i," has been removed"+(t?" in "+t:"")),V.ERR_DEPRECATED);return t&&!st[i]&&(st[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};const ot={assertOptions:function(e,t,n){if("object"!==typeof e)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new V("option "+a+" must be "+n,V.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new V("Unknown option "+a,V.ERR_BAD_OPTION)}},validators:at},lt=ot.validators;class ct{constructor(e){this.defaults=e,this.interceptors={request:new ae,response:new ae}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Vt){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Oe(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&ot.assertOptions(n,{silentJSONParsing:lt.transitional(lt.boolean),forcedJSONParsing:lt.transitional(lt.boolean),clarifyTimeoutError:lt.transitional(lt.boolean)},!1),null!=r&&(H.isFunction(r)?t.paramsSerializer={serialize:r}:ot.assertOptions(r,{encode:lt.function,serialize:lt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&H.merge(i.common,i[t.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=we.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[rt.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=rt.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return ie(Ie((e=Oe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],(function(e){ct.prototype[e]=function(t,n){return this.request(Oe(n||{},{method:e,url:t,data:(n||{}).data}))}})),H.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Oe(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ct.prototype[e]=t(),ct.prototype[e+"Form"]=t(!0)}));const ut=ct;class dt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new ke(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new dt((function(t){e=t}));return{token:t,cancel:e}}}const ht=dt;const ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ft).forEach((e=>{let[t,n]=e;ft[n]=t}));const pt=ft;const mt=function e(t){const n=new ut(t),r=a(ut.prototype.request,n);return H.extend(r,ut.prototype,n,{allOwnKeys:!0}),H.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Oe(t,n))},r}(ge);mt.Axios=ut,mt.CanceledError=ke,mt.CancelToken=ht,mt.isCancel=Te,mt.VERSION=it,mt.toFormData=Q,mt.AxiosError=V,mt.Cancel=mt.CanceledError,mt.all=function(e){return Promise.all(e)},mt.spread=function(e){return function(t){return e.apply(null,t)}},mt.isAxiosError=function(e){return H.isObject(e)&&!0===e.isAxiosError},mt.mergeConfig=Oe,mt.AxiosHeaders=we,mt.formToJSON=e=>pe(H.isHTMLForm(e)?new FormData(e):e),mt.getAdapter=tt,mt.HttpStatusCode=pt,mt.default=mt;const gt=mt,vt=gt.create({baseURL:"https://global.seashels.com:7777/api",headers:{"Content-Type":"application/json","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}});vt.interceptors.request.use((e=>(console.log("Request:",e),e)),(e=>Promise.reject(e))),vt.interceptors.response.use((e=>(console.log("Response:",e),e)),(e=>Promise.reject(e)));const yt=vt;const bt={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var xt,St=new Uint8Array(16);function _t(){if(!xt&&!(xt="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xt(St)}for(var wt=[],Et=0;Et<256;++Et)wt.push((Et+256).toString(16).slice(1));function Tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(wt[e[t+0]]+wt[e[t+1]]+wt[e[t+2]]+wt[e[t+3]]+"-"+wt[e[t+4]]+wt[e[t+5]]+"-"+wt[e[t+6]]+wt[e[t+7]]+"-"+wt[e[t+8]]+wt[e[t+9]]+"-"+wt[e[t+10]]+wt[e[t+11]]+wt[e[t+12]]+wt[e[t+13]]+wt[e[t+14]]+wt[e[t+15]]).toLowerCase()}const Ct=function(e,t,n){if(bt.randomUUID&&!t&&!e)return bt.randomUUID();var r=(e=e||{}).random||(e.rng||_t)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Tt(r)},kt=async()=>{let e=localStorage.getItem("clientId");return e||(e=Ct(),localStorage.setItem("clientId",e)),e};var At=n(579);const jt=(0,t.createContext)(),Nt=()=>(0,t.useContext)(jt),Lt=e=>{let{children:n}=e;const[r,i]=(0,t.useState)((()=>{const e=localStorage.getItem("cartCount");return e?parseInt(e,10):0}));return(0,t.useEffect)((()=>{localStorage.setItem("cartCount",r)}),[r]),(0,At.jsx)(jt.Provider,{value:{cartCount:r,addItemToCart:()=>{i((e=>e+1))},removeItemFromCart:()=>{i((e=>e>0?e-1:0))},clearCart:()=>{i(0)},setCartCount:i},children:n})},Rt=(0,t.createContext)(),Pt=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),f=Nt(),{setCartCount:p}=f||{},m=(0,t.useCallback)((async()=>{let e=localStorage.getItem("clientId");return e||(e=await kt(),localStorage.setItem("clientId",e)),e}),[]);(0,t.useEffect)((()=>{(async()=>{u(!0);try{const e=localStorage.getItem("apiToken"),t=localStorage.getItem("userRole"),n=localStorage.getItem("currencyCode"),r=await m();if(n||(localStorage.setItem("currencyCode","USD"),localStorage.setItem("currencyId","2")),e&&"null"!==e)return i(e),s(t),l(r),void u(!1);const a=await yt.post("/guest/guest_login",{app_version:"1.0",country_code:"US",device_token:r||"",device_type:"web"});if(a.data&&a.data.api_token){const e=a.data.api_token;i(e),s("guest"),l(r),localStorage.setItem("apiToken",e),localStorage.setItem("userRole","guest");const t=await yt.post("/cart/create_cart",{api_token:e});if(t.data&&t.data.cart_data){const{cart_id:e,order_num:n,item_count:r}=t.data.cart_data;localStorage.setItem("cart_id",e),localStorage.setItem("order_num",n),localStorage.setItem("item_count",r),localStorage.setItem("cartCount",r),"number"!==typeof r||isNaN(r)?console.error("Invalid item_count:",r):p&&p(r)}else console.error("Cart data is missing:",t.data)}}catch(e){console.error("Initialization failed:",e),h("Initialization failed.")}finally{u(!1)}})()}),[m,p]);return(0,At.jsx)(Rt.Provider,{value:{apiToken:r,userRole:a,deviceToken:o,loading:c,error:d,login:(e,t)=>{i(e),s(t),localStorage.setItem("apiToken",e),localStorage.setItem("userRole",t)},logout:async()=>{i(null),s(null),localStorage.removeItem("apiToken"),localStorage.removeItem("userRole");try{const e=await m(),t=await yt.post("/guest/guest_login",{app_version:"1.0",country_code:"US",device_token:e||"",device_type:"web"});if(t.data&&t.data.api_token){const n=t.data.api_token;i(n),s("guest"),l(e),localStorage.setItem("apiToken",n),localStorage.setItem("userRole","guest");const r=await yt.post("/cart/create_cart",{api_token:n});if(r.data&&r.data.cart_data){const{cart_id:e,order_num:t,item_count:n}=r.data.cart_data;localStorage.setItem("cart_id",e),localStorage.setItem("order_num",t),localStorage.setItem("item_count",n),localStorage.setItem("cartCount",n),"number"!==typeof n||isNaN(n)?console.error("Invalid item_count:",n):p&&p(n)}else console.error("Cart data is missing:",r.data)}}catch(e){console.error("Guest login after logout failed:",e),h("Guest login after logout failed.")}}},children:n})},It=()=>t.useContext(Rt),Dt=Rt,Ot=(0,t.createContext)(),Mt=e=>{let{children:n}=e;const[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(""),{apiToken:d,userRole:h}=It();(0,t.useEffect)((()=>{(async()=>{if(d)try{let e=d;"guest"===h&&(e.startsWith("guest_")||(e="guest_"+e));const t=await yt.get("/currency/get_currency_list",{params:{api_token:e}});t&&t.data&&t.data.currency_list?i(t.data.currency_list):(console.error("Currency list is undefined in the response"),i([]));const n=localStorage.getItem("selectedCurrency");n?s(Number(n)):(s(r.length?r[1].currency_id:null),localStorage.setItem("currencyId",r.length?r[1].currency_id:2))}catch(e){console.error("Error fetching currency data:",e)}finally{l(!1)}})()}),[d,h]);return(0,At.jsx)(Ot.Provider,{value:{currencyList:r,selectedCurrency:a,selectedCurrencyCode:c,setSelectedCurrency:s,setCurrencyPreference:async e=>{try{localStorage.setItem("selectedCurrency",e),s(e);const t=r.find((t=>t.currency_id===e));t&&u(t.currency_code);const n=await yt.post("/currency/set_user_currency_preference",{currency_id:e,api_token:d});n&&n.data&&n.data.message?(localStorage.setItem("currencyId",e),localStorage.setItem("cartCount",0),window.location.reload()):console.error("Failed to set currency preference:",n.data.message)}catch(t){console.error("Error setting currency preference:",t)}},loading:o},children:n})},Ft=()=>{const e=(0,t.useContext)(Ot);if(void 0===e)throw new Error("useCurrency must be used within a CurrencyProvider");return e},Ut=(0,t.createContext)(),$t=e=>{let{children:n}=e;const{logout:r}=It(),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(0),[x,S]=(0,t.useState)(0),[_,w]=(0,t.useState)(0),[E,T]=(0,t.useState)(!1),C=localStorage.getItem("apiToken"),k=(localStorage.getItem("cart_id"),localStorage.getItem("order_num")),A=()=>C&&"null"!==C&&"undefined"!==C&&""!==C.trim(),j=async()=>{if(A())try{var e;const t=await yt.get(`/user/get_user_address_list?&api_token=${C}`);a(t.data);const n=t.data;if((null===n||void 0===n||null===(e=n.user_address)||void 0===e?void 0:e.length)>0){(n.user_address[0]||{}).address_id&&N()}else 401===t.status&&r()}catch(t){console.log(t,"address error")}},N=async()=>{if(A()&&k)try{const t=await yt.get(`/credits/calculate_credits?&api_token=${C}&order_num=${k}&coupon_id=0`);if(200===t.data.status){var e;const n=t.data;n.currency_code&&n.currency_code.length>0&&(o(n.currency_code),c(n.currency_symbol)),n.remaining&&n.remaining.length>0&&d(n.remaining),n.coupon_type&&n.coupon_type.length>0&&f(n.coupon_type),null!==(e=n.shipping)&&void 0!==e&&e.data&&n.shipping.data.length>0?(T(!0),m(n.shipping.data),v(n.shipping.internal_ship_ref),b(parseFloat(n.shipping.data[0].amount_local)),S(parseInt(n.total_cart_value,10))):(T(!1),S(parseInt(n.total_cart_value,10)));const r=parseInt(n.total_cart_value,10)+parseFloat(y);w(r)}}catch(t){console.log(t,"credits calculation error")}};return(0,t.useEffect)((()=>{A()&&j()}),[C]),(0,At.jsx)(Ut.Provider,{value:{existingAddress:i,addAddress:async e=>{if(!A())return;console.log(e,"data with address value");const t={api_token:C,type:"home",...e};try{await yt.post("/user/add_address",t);j()}catch(n){console.log(n,"address error")}},calculateCredit:N,currency:s,symbol:l,remaining:u,couponType:h,shippingData:p,shipObjectId:g,shipLocalAmount:y,totalAmount:x,totalIncludeShipping:_,showShipping:E},children:n})};var Bt=n(216),Gt=n(613),Ht=n.n(Gt);const zt=()=>{const{pathname:e}=(0,Bt.zy)();return(0,t.useEffect)((()=>{Ht()("html, body").scrollTop(0),Ht()("#root").scrollTop(0)}),[e]),null},Yt=()=>{const{category_id:e,gender_id:n,segment_id:r,sub_category_id:i}=(0,Bt.g)(),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),S=(0,Bt.zy)(),_=(0,t.useRef)(null),w=(0,Bt.Zp)();(0,t.useRef)({category_id:null,gender_id:null,segment_id:null,sub_category_id:null});(0,t.useEffect)((()=>{const t=localStorage.getItem("activeCategory"),n=localStorage.getItem("activeSubCategory");t&&!e&&h(t),n&&!i&&p(n)}),[]),(0,t.useEffect)((()=>{const e=localStorage.getItem("apiToken");null!=e&&(async()=>{try{const t=await yt.get("/website/get_nav_menu",{params:{api_token:e,gender_id:2,segment_id:1,menu_order:6}});if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);s(t.data.data||{})}catch(o){l(o.message)}finally{u(!1)}})()}),[]),(0,t.useEffect)((()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&(g(null),y(!1),x(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const E=()=>{g(null)},T=()=>{x(!1),y(!0)},C=()=>{y(!1),x(!0)},k=()=>{y(!1),x(!1)},A=(e,t,n)=>{const r=document.getElementById("clearButton");r&&r.click(),y(!1),x(!1),g(null),h(e),p(t),localStorage.setItem("activeCategory",e),localStorage.setItem("activeSubCategory",t),w(n,{state:{mainItem:e,subCategoryId:t}})};return(0,t.useEffect)((()=>{e&&(h(e),localStorage.setItem("activeCategory",e)),i&&(p(i),localStorage.setItem("activeSubCategory",i))}),[e,i]),(0,t.useEffect)((()=>{["/shop","/latest-arrivals","/deals","/stores"].some((e=>S.pathname.includes(e)))||(h(""),p(""))}),[S.pathname]),(0,At.jsx)("ul",{className:"nav-menu",children:Object.keys(a).sort(((e,t)=>a[e].menu_order-a[t].menu_order)).map((e=>{const t=a[e],n=e===d,r="Shop"===e&&v,i="Styles"===e&&b;return(0,At.jsxs)("li",{className:`menuItemClass ${e} ${n?"active":""}`,children:[(0,At.jsx)("a",{onClick:()=>A(e,"","category"===t.type?`/shop/${t.id}/${t.gender_id}/${t.segment_id}`:"deal"===t.type?"/deals":"livesocial"===t.type?"/live-social":"styles"===t.type?"#":"storelisting"===t.type?"/stores":"/"),onMouseEnter:()=>"Shop"===e?T():"Styles"===e?C():(e=>{"Shop"!==e&&"Styles"!==e&&g(e)})(e),children:e}),m===e&&t.sub_category_list&&(0,At.jsx)("div",{className:"mega-menu-trigger mega-menu",onMouseEnter:()=>g(e),onMouseLeave:E,children:(0,At.jsx)("div",{ref:_,className:"sub-category-menu",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("div",{className:"row",children:t.sub_category_list.map((t=>(0,At.jsx)("div",{className:"col-3 menuItemClassSub-data "+(f===t.sub_category_id?"active":""),children:(0,At.jsx)("a",{onClick:()=>A(e,t.sub_category_id,`/shop/${t.category_id}/${t.gender_id}/${t.segment_id}/${t.sub_category_id}`),children:t.sub_category_name})},t.sub_category_id)))})})})}),"Shop"===e&&r&&(0,At.jsx)("div",{className:"mega-menu-trigger mega-menu",onMouseEnter:T,onMouseLeave:k,children:(0,At.jsx)("div",{ref:_,className:"sub-category-menu",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("div",{className:"row",children:t.categories_list.map((t=>(0,At.jsx)("div",{className:"col-3 menuItemClassSub-data "+(f===t.category_id?"active":""),children:(0,At.jsx)("a",{onClick:()=>A(e,t.category_id,`/shop/${t.category_id}/${t.gender_id}/${t.segment_id}`),children:t.name})},t.category_id)))})})})}),"Styles"===e&&i&&(0,At.jsx)("div",{className:"mega-menu-trigger mega-menu",onMouseEnter:C,onMouseLeave:k,children:(0,At.jsx)("div",{ref:_,className:"sub-category-menu",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("div",{className:"row",children:t.sidebar.map((t=>(0,At.jsx)("div",{className:"col-3 menuItemClassSub-data "+(f===t.tag_id?"active":""),children:(0,At.jsx)("a",{onClick:()=>A(e,t.tag_id,`/latest-arrivals/${t.tag_id}/${t.type}`),children:t.name})},t.tag_id)))})})})})]},t.id)}))})},Wt=()=>{const{currencyList:e,selectedCurrency:n,setCurrencyPreference:r,isLoading:i,setSelectedCurrency:a}=Ft();(0,t.useEffect)((()=>{if(!n){const t=e.find((e=>"USD"===e.code));t&&(a(t.currency_id),localStorage.setItem("currencyCode",t.code))}}),[e,n,a]);return(0,At.jsx)("select",{value:n||"",onChange:async e=>{const t=e.target.value,n=e.target.options[e.target.selectedIndex].getAttribute("data-curcode");localStorage.setItem("currencyCode",n);try{await r(t)}catch(i){console.error("Error setting currency preference:",i)}},children:e.map((e=>(0,At.jsx)("option",{"data-curcode":e.code,value:e.currency_id,children:e.code},e.currency_id)))})};var Vt={AD:{name:"Andorra",native:"Andorra",phone:[376],continent:"EU",capital:"Andorra la Vella",currency:["EUR"],languages:["ca"]},AE:{name:"United Arab Emirates",native:"\u062f\u0648\u0644\u0629 \u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629",phone:[971],continent:"AS",capital:"Abu Dhabi",currency:["AED"],languages:["ar"]},AF:{name:"Afghanistan",native:"\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646",phone:[93],continent:"AS",capital:"Kabul",currency:["AFN"],languages:["ps","uz","tk"]},AG:{name:"Antigua and Barbuda",native:"Antigua and Barbuda",phone:[1268],continent:"NA",capital:"Saint John's",currency:["XCD"],languages:["en"]},AI:{name:"Anguilla",native:"Anguilla",phone:[1264],continent:"NA",capital:"The Valley",currency:["XCD"],languages:["en"]},AL:{name:"Albania",native:"Shqip\xebria",phone:[355],continent:"EU",capital:"Tirana",currency:["ALL"],languages:["sq"]},AM:{name:"Armenia",native:"\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576",phone:[374],continent:"AS",capital:"Yerevan",currency:["AMD"],languages:["hy","ru"]},AO:{name:"Angola",native:"Angola",phone:[244],continent:"AF",capital:"Luanda",currency:["AOA"],languages:["pt"]},AQ:{name:"Antarctica",native:"Antarctica",phone:[672],continent:"AN",capital:"",currency:[],languages:[]},AR:{name:"Argentina",native:"Argentina",phone:[54],continent:"SA",capital:"Buenos Aires",currency:["ARS"],languages:["es","gn"]},AS:{name:"American Samoa",native:"American Samoa",phone:[1684],continent:"OC",capital:"Pago Pago",currency:["USD"],languages:["en","sm"]},AT:{name:"Austria",native:"\xd6sterreich",phone:[43],continent:"EU",capital:"Vienna",currency:["EUR"],languages:["de"]},AU:{name:"Australia",native:"Australia",phone:[61],continent:"OC",capital:"Canberra",currency:["AUD"],languages:["en"]},AW:{name:"Aruba",native:"Aruba",phone:[297],continent:"NA",capital:"Oranjestad",currency:["AWG"],languages:["nl","pa"]},AX:{name:"Aland",native:"\xc5land",phone:[358],continent:"EU",capital:"Mariehamn",currency:["EUR"],languages:["sv"],partOf:"FI"},AZ:{name:"Azerbaijan",native:"Az\u0259rbaycan",phone:[994],continent:"AS",continents:["AS","EU"],capital:"Baku",currency:["AZN"],languages:["az"]},BA:{name:"Bosnia and Herzegovina",native:"Bosna i Hercegovina",phone:[387],continent:"EU",capital:"Sarajevo",currency:["BAM"],languages:["bs","hr","sr"]},BB:{name:"Barbados",native:"Barbados",phone:[1246],continent:"NA",capital:"Bridgetown",currency:["BBD"],languages:["en"]},BD:{name:"Bangladesh",native:"Bangladesh",phone:[880],continent:"AS",capital:"Dhaka",currency:["BDT"],languages:["bn"]},BE:{name:"Belgium",native:"Belgi\xeb",phone:[32],continent:"EU",capital:"Brussels",currency:["EUR"],languages:["nl","fr","de"]},BF:{name:"Burkina Faso",native:"Burkina Faso",phone:[226],continent:"AF",capital:"Ouagadougou",currency:["XOF"],languages:["fr","ff"]},BG:{name:"Bulgaria",native:"\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f",phone:[359],continent:"EU",capital:"Sofia",currency:["BGN"],languages:["bg"]},BH:{name:"Bahrain",native:"\u200f\u0627\u0644\u0628\u062d\u0631\u064a\u0646",phone:[973],continent:"AS",capital:"Manama",currency:["BHD"],languages:["ar"]},BI:{name:"Burundi",native:"Burundi",phone:[257],continent:"AF",capital:"Bujumbura",currency:["BIF"],languages:["fr","rn"]},BJ:{name:"Benin",native:"B\xe9nin",phone:[229],continent:"AF",capital:"Porto-Novo",currency:["XOF"],languages:["fr"]},BL:{name:"Saint Barthelemy",native:"Saint-Barth\xe9lemy",phone:[590],continent:"NA",capital:"Gustavia",currency:["EUR"],languages:["fr"]},BM:{name:"Bermuda",native:"Bermuda",phone:[1441],continent:"NA",capital:"Hamilton",currency:["BMD"],languages:["en"]},BN:{name:"Brunei",native:"Negara Brunei Darussalam",phone:[673],continent:"AS",capital:"Bandar Seri Begawan",currency:["BND"],languages:["ms"]},BO:{name:"Bolivia",native:"Bolivia",phone:[591],continent:"SA",capital:"Sucre",currency:["BOB","BOV"],languages:["es","ay","qu"]},BQ:{name:"Bonaire",native:"Bonaire",phone:[5997],continent:"NA",capital:"Kralendijk",currency:["USD"],languages:["nl"]},BR:{name:"Brazil",native:"Brasil",phone:[55],continent:"SA",capital:"Bras\xedlia",currency:["BRL"],languages:["pt"]},BS:{name:"Bahamas",native:"Bahamas",phone:[1242],continent:"NA",capital:"Nassau",currency:["BSD"],languages:["en"]},BT:{name:"Bhutan",native:"\u02bcbrug-yul",phone:[975],continent:"AS",capital:"Thimphu",currency:["BTN","INR"],languages:["dz"]},BV:{name:"Bouvet Island",native:"Bouvet\xf8ya",phone:[47],continent:"AN",capital:"",currency:["NOK"],languages:["no","nb","nn"]},BW:{name:"Botswana",native:"Botswana",phone:[267],continent:"AF",capital:"Gaborone",currency:["BWP"],languages:["en","tn"]},BY:{name:"Belarus",native:"\u0411\u0435\u043b\u0430\u0440\u0443\u0301\u0441\u044c",phone:[375],continent:"EU",capital:"Minsk",currency:["BYN"],languages:["be","ru"]},BZ:{name:"Belize",native:"Belize",phone:[501],continent:"NA",capital:"Belmopan",currency:["BZD"],languages:["en","es"]},CA:{name:"Canada",native:"Canada",phone:[1],continent:"NA",capital:"Ottawa",currency:["CAD"],languages:["en","fr"]},CC:{name:"Cocos (Keeling) Islands",native:"Cocos (Keeling) Islands",phone:[61],continent:"AS",capital:"West Island",currency:["AUD"],languages:["en"]},CD:{name:"Democratic Republic of the Congo",native:"R\xe9publique d\xe9mocratique du Congo",phone:[243],continent:"AF",capital:"Kinshasa",currency:["CDF"],languages:["fr","ln","kg","sw","lu"]},CF:{name:"Central African Republic",native:"K\xf6d\xf6r\xf6s\xease t\xee B\xeaafr\xeeka",phone:[236],continent:"AF",capital:"Bangui",currency:["XAF"],languages:["fr","sg"]},CG:{name:"Republic of the Congo",native:"R\xe9publique du Congo",phone:[242],continent:"AF",capital:"Brazzaville",currency:["XAF"],languages:["fr","ln"]},CH:{name:"Switzerland",native:"Schweiz",phone:[41],continent:"EU",capital:"Bern",currency:["CHE","CHF","CHW"],languages:["de","fr","it"]},CI:{name:"Ivory Coast",native:"C\xf4te d'Ivoire",phone:[225],continent:"AF",capital:"Yamoussoukro",currency:["XOF"],languages:["fr"]},CK:{name:"Cook Islands",native:"Cook Islands",phone:[682],continent:"OC",capital:"Avarua",currency:["NZD"],languages:["en"]},CL:{name:"Chile",native:"Chile",phone:[56],continent:"SA",capital:"Santiago",currency:["CLF","CLP"],languages:["es"]},CM:{name:"Cameroon",native:"Cameroon",phone:[237],continent:"AF",capital:"Yaound\xe9",currency:["XAF"],languages:["en","fr"]},CN:{name:"China",native:"\u4e2d\u56fd",phone:[86],continent:"AS",capital:"Beijing",currency:["CNY"],languages:["zh"]},CO:{name:"Colombia",native:"Colombia",phone:[57],continent:"SA",capital:"Bogot\xe1",currency:["COP"],languages:["es"]},CR:{name:"Costa Rica",native:"Costa Rica",phone:[506],continent:"NA",capital:"San Jos\xe9",currency:["CRC"],languages:["es"]},CU:{name:"Cuba",native:"Cuba",phone:[53],continent:"NA",capital:"Havana",currency:["CUC","CUP"],languages:["es"]},CV:{name:"Cape Verde",native:"Cabo Verde",phone:[238],continent:"AF",capital:"Praia",currency:["CVE"],languages:["pt"]},CW:{name:"Curacao",native:"Cura\xe7ao",phone:[5999],continent:"NA",capital:"Willemstad",currency:["ANG"],languages:["nl","pa","en"]},CX:{name:"Christmas Island",native:"Christmas Island",phone:[61],continent:"AS",capital:"Flying Fish Cove",currency:["AUD"],languages:["en"]},CY:{name:"Cyprus",native:"\u039a\u03cd\u03c0\u03c1\u03bf\u03c2",phone:[357],continent:"EU",capital:"Nicosia",currency:["EUR"],languages:["el","tr","hy"]},CZ:{name:"Czech Republic",native:"\u010cesk\xe1 republika",phone:[420],continent:"EU",capital:"Prague",currency:["CZK"],languages:["cs"]},DE:{name:"Germany",native:"Deutschland",phone:[49],continent:"EU",capital:"Berlin",currency:["EUR"],languages:["de"]},DJ:{name:"Djibouti",native:"Djibouti",phone:[253],continent:"AF",capital:"Djibouti",currency:["DJF"],languages:["fr","ar"]},DK:{name:"Denmark",native:"Danmark",phone:[45],continent:"EU",continents:["EU","NA"],capital:"Copenhagen",currency:["DKK"],languages:["da"]},DM:{name:"Dominica",native:"Dominica",phone:[1767],continent:"NA",capital:"Roseau",currency:["XCD"],languages:["en"]},DO:{name:"Dominican Republic",native:"Rep\xfablica Dominicana",phone:[1809,1829,1849],continent:"NA",capital:"Santo Domingo",currency:["DOP"],languages:["es"]},DZ:{name:"Algeria",native:"\u0627\u0644\u062c\u0632\u0627\u0626\u0631",phone:[213],continent:"AF",capital:"Algiers",currency:["DZD"],languages:["ar"]},EC:{name:"Ecuador",native:"Ecuador",phone:[593],continent:"SA",capital:"Quito",currency:["USD"],languages:["es"]},EE:{name:"Estonia",native:"Eesti",phone:[372],continent:"EU",capital:"Tallinn",currency:["EUR"],languages:["et"]},EG:{name:"Egypt",native:"\u0645\u0635\u0631\u200e",phone:[20],continent:"AF",continents:["AF","AS"],capital:"Cairo",currency:["EGP"],languages:["ar"]},EH:{name:"Western Sahara",native:"\u0627\u0644\u0635\u062d\u0631\u0627\u0621 \u0627\u0644\u063a\u0631\u0628\u064a\u0629",phone:[212],continent:"AF",capital:"El Aai\xfan",currency:["MAD","DZD","MRU"],languages:["es"]},ER:{name:"Eritrea",native:"\u12a4\u122d\u1275\u122b",phone:[291],continent:"AF",capital:"Asmara",currency:["ERN"],languages:["ti","ar","en"]},ES:{name:"Spain",native:"Espa\xf1a",phone:[34],continent:"EU",capital:"Madrid",currency:["EUR"],languages:["es","eu","ca","gl","oc"]},ET:{name:"Ethiopia",native:"\u12a2\u1275\u12ee\u1335\u12eb",phone:[251],continent:"AF",capital:"Addis Ababa",currency:["ETB"],languages:["am"]},FI:{name:"Finland",native:"Suomi",phone:[358],continent:"EU",capital:"Helsinki",currency:["EUR"],languages:["fi","sv"]},FJ:{name:"Fiji",native:"Fiji",phone:[679],continent:"OC",capital:"Suva",currency:["FJD"],languages:["en","fj","hi","ur"]},FK:{name:"Falkland Islands",native:"Falkland Islands",phone:[500],continent:"SA",capital:"Stanley",currency:["FKP"],languages:["en"]},FM:{name:"Micronesia",native:"Micronesia",phone:[691],continent:"OC",capital:"Palikir",currency:["USD"],languages:["en"]},FO:{name:"Faroe Islands",native:"F\xf8royar",phone:[298],continent:"EU",capital:"T\xf3rshavn",currency:["DKK"],languages:["fo"]},FR:{name:"France",native:"France",phone:[33],continent:"EU",capital:"Paris",currency:["EUR"],languages:["fr"]},GA:{name:"Gabon",native:"Gabon",phone:[241],continent:"AF",capital:"Libreville",currency:["XAF"],languages:["fr"]},GB:{name:"United Kingdom",native:"United Kingdom",phone:[44],continent:"EU",capital:"London",currency:["GBP"],languages:["en"]},GD:{name:"Grenada",native:"Grenada",phone:[1473],continent:"NA",capital:"St. George's",currency:["XCD"],languages:["en"]},GE:{name:"Georgia",native:"\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd",phone:[995],continent:"AS",continents:["AS","EU"],capital:"Tbilisi",currency:["GEL"],languages:["ka"]},GF:{name:"French Guiana",native:"Guyane fran\xe7aise",phone:[594],continent:"SA",capital:"Cayenne",currency:["EUR"],languages:["fr"]},GG:{name:"Guernsey",native:"Guernsey",phone:[44],continent:"EU",capital:"St. Peter Port",currency:["GBP"],languages:["en","fr"]},GH:{name:"Ghana",native:"Ghana",phone:[233],continent:"AF",capital:"Accra",currency:["GHS"],languages:["en"]},GI:{name:"Gibraltar",native:"Gibraltar",phone:[350],continent:"EU",capital:"Gibraltar",currency:["GIP"],languages:["en"]},GL:{name:"Greenland",native:"Kalaallit Nunaat",phone:[299],continent:"NA",capital:"Nuuk",currency:["DKK"],languages:["kl"]},GM:{name:"Gambia",native:"Gambia",phone:[220],continent:"AF",capital:"Banjul",currency:["GMD"],languages:["en"]},GN:{name:"Guinea",native:"Guin\xe9e",phone:[224],continent:"AF",capital:"Conakry",currency:["GNF"],languages:["fr","ff"]},GP:{name:"Guadeloupe",native:"Guadeloupe",phone:[590],continent:"NA",capital:"Basse-Terre",currency:["EUR"],languages:["fr"]},GQ:{name:"Equatorial Guinea",native:"Guinea Ecuatorial",phone:[240],continent:"AF",capital:"Malabo",currency:["XAF"],languages:["es","fr"]},GR:{name:"Greece",native:"\u0395\u03bb\u03bb\u03ac\u03b4\u03b1",phone:[30],continent:"EU",capital:"Athens",currency:["EUR"],languages:["el"]},GS:{name:"South Georgia and the South Sandwich Islands",native:"South Georgia",phone:[500],continent:"AN",capital:"King Edward Point",currency:["GBP"],languages:["en"]},GT:{name:"Guatemala",native:"Guatemala",phone:[502],continent:"NA",capital:"Guatemala City",currency:["GTQ"],languages:["es"]},GU:{name:"Guam",native:"Guam",phone:[1671],continent:"OC",capital:"Hag\xe5t\xf1a",currency:["USD"],languages:["en","ch","es"]},GW:{name:"Guinea-Bissau",native:"Guin\xe9-Bissau",phone:[245],continent:"AF",capital:"Bissau",currency:["XOF"],languages:["pt"]},GY:{name:"Guyana",native:"Guyana",phone:[592],continent:"SA",capital:"Georgetown",currency:["GYD"],languages:["en"]},HK:{name:"Hong Kong",native:"\u9999\u6e2f",phone:[852],continent:"AS",capital:"City of Victoria",currency:["HKD"],languages:["zh","en"]},HM:{name:"Heard Island and McDonald Islands",native:"Heard Island and McDonald Islands",phone:[61],continent:"AN",capital:"",currency:["AUD"],languages:["en"]},HN:{name:"Honduras",native:"Honduras",phone:[504],continent:"NA",capital:"Tegucigalpa",currency:["HNL"],languages:["es"]},HR:{name:"Croatia",native:"Hrvatska",phone:[385],continent:"EU",capital:"Zagreb",currency:["EUR"],languages:["hr"]},HT:{name:"Haiti",native:"Ha\xefti",phone:[509],continent:"NA",capital:"Port-au-Prince",currency:["HTG","USD"],languages:["fr","ht"]},HU:{name:"Hungary",native:"Magyarorsz\xe1g",phone:[36],continent:"EU",capital:"Budapest",currency:["HUF"],languages:["hu"]},ID:{name:"Indonesia",native:"Indonesia",phone:[62],continent:"AS",capital:"Jakarta",currency:["IDR"],languages:["id"]},IE:{name:"Ireland",native:"\xc9ire",phone:[353],continent:"EU",capital:"Dublin",currency:["EUR"],languages:["ga","en"]},IL:{name:"Israel",native:"\u05d9\u05b4\u05e9\u05b0\u05c2\u05e8\u05b8\u05d0\u05b5\u05dc",phone:[972],continent:"AS",capital:"Jerusalem",currency:["ILS"],languages:["he","ar"]},IM:{name:"Isle of Man",native:"Isle of Man",phone:[44],continent:"EU",capital:"Douglas",currency:["GBP"],languages:["en","gv"]},IN:{name:"India",native:"\u092d\u093e\u0930\u0924",phone:[91],continent:"AS",capital:"New Delhi",currency:["INR"],languages:["hi","en"]},IO:{name:"British Indian Ocean Territory",native:"British Indian Ocean Territory",phone:[246],continent:"AS",capital:"Diego Garcia",currency:["USD"],languages:["en"]},IQ:{name:"Iraq",native:"\u0627\u0644\u0639\u0631\u0627\u0642",phone:[964],continent:"AS",capital:"Baghdad",currency:["IQD"],languages:["ar","ku"]},IR:{name:"Iran",native:"\u0627\u06cc\u0631\u0627\u0646",phone:[98],continent:"AS",capital:"Tehran",currency:["IRR"],languages:["fa"]},IS:{name:"Iceland",native:"\xcdsland",phone:[354],continent:"EU",capital:"Reykjavik",currency:["ISK"],languages:["is"]},IT:{name:"Italy",native:"Italia",phone:[39],continent:"EU",capital:"Rome",currency:["EUR"],languages:["it"]},JE:{name:"Jersey",native:"Jersey",phone:[44],continent:"EU",capital:"Saint Helier",currency:["GBP"],languages:["en","fr"]},JM:{name:"Jamaica",native:"Jamaica",phone:[1876],continent:"NA",capital:"Kingston",currency:["JMD"],languages:["en"]},JO:{name:"Jordan",native:"\u0627\u0644\u0623\u0631\u062f\u0646",phone:[962],continent:"AS",capital:"Amman",currency:["JOD"],languages:["ar"]},JP:{name:"Japan",native:"\u65e5\u672c",phone:[81],continent:"AS",capital:"Tokyo",currency:["JPY"],languages:["ja"]},KE:{name:"Kenya",native:"Kenya",phone:[254],continent:"AF",capital:"Nairobi",currency:["KES"],languages:["en","sw"]},KG:{name:"Kyrgyzstan",native:"\u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d",phone:[996],continent:"AS",capital:"Bishkek",currency:["KGS"],languages:["ky","ru"]},KH:{name:"Cambodia",native:"K\xe2mp\u016dch\xe9a",phone:[855],continent:"AS",capital:"Phnom Penh",currency:["KHR"],languages:["km"]},KI:{name:"Kiribati",native:"Kiribati",phone:[686],continent:"OC",capital:"South Tarawa",currency:["AUD"],languages:["en"]},KM:{name:"Comoros",native:"Komori",phone:[269],continent:"AF",capital:"Moroni",currency:["KMF"],languages:["ar","fr"]},KN:{name:"Saint Kitts and Nevis",native:"Saint Kitts and Nevis",phone:[1869],continent:"NA",capital:"Basseterre",currency:["XCD"],languages:["en"]},KP:{name:"North Korea",native:"\ubd81\ud55c",phone:[850],continent:"AS",capital:"Pyongyang",currency:["KPW"],languages:["ko"]},KR:{name:"South Korea",native:"\ub300\ud55c\ubbfc\uad6d",phone:[82],continent:"AS",capital:"Seoul",currency:["KRW"],languages:["ko"]},KW:{name:"Kuwait",native:"\u0627\u0644\u0643\u0648\u064a\u062a",phone:[965],continent:"AS",capital:"Kuwait City",currency:["KWD"],languages:["ar"]},KY:{name:"Cayman Islands",native:"Cayman Islands",phone:[1345],continent:"NA",capital:"George Town",currency:["KYD"],languages:["en"]},KZ:{name:"Kazakhstan",native:"\u049a\u0430\u0437\u0430\u049b\u0441\u0442\u0430\u043d",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Astana",currency:["KZT"],languages:["kk","ru"]},LA:{name:"Laos",native:"\u0eaa\u0e9b\u0e9b\u0ea5\u0eb2\u0ea7",phone:[856],continent:"AS",capital:"Vientiane",currency:["LAK"],languages:["lo"]},LB:{name:"Lebanon",native:"\u0644\u0628\u0646\u0627\u0646",phone:[961],continent:"AS",capital:"Beirut",currency:["LBP"],languages:["ar","fr"]},LC:{name:"Saint Lucia",native:"Saint Lucia",phone:[1758],continent:"NA",capital:"Castries",currency:["XCD"],languages:["en"]},LI:{name:"Liechtenstein",native:"Liechtenstein",phone:[423],continent:"EU",capital:"Vaduz",currency:["CHF"],languages:["de"]},LK:{name:"Sri Lanka",native:"\u015br\u012b la\u1e43k\u0101va",phone:[94],continent:"AS",capital:"Colombo",currency:["LKR"],languages:["si","ta"]},LR:{name:"Liberia",native:"Liberia",phone:[231],continent:"AF",capital:"Monrovia",currency:["LRD"],languages:["en"]},LS:{name:"Lesotho",native:"Lesotho",phone:[266],continent:"AF",capital:"Maseru",currency:["LSL","ZAR"],languages:["en","st"]},LT:{name:"Lithuania",native:"Lietuva",phone:[370],continent:"EU",capital:"Vilnius",currency:["EUR"],languages:["lt"]},LU:{name:"Luxembourg",native:"Luxembourg",phone:[352],continent:"EU",capital:"Luxembourg",currency:["EUR"],languages:["fr","de","lb"]},LV:{name:"Latvia",native:"Latvija",phone:[371],continent:"EU",capital:"Riga",currency:["EUR"],languages:["lv"]},LY:{name:"Libya",native:"\u200f\u0644\u064a\u0628\u064a\u0627",phone:[218],continent:"AF",capital:"Tripoli",currency:["LYD"],languages:["ar"]},MA:{name:"Morocco",native:"\u0627\u0644\u0645\u063a\u0631\u0628",phone:[212],continent:"AF",capital:"Rabat",currency:["MAD"],languages:["ar"]},MC:{name:"Monaco",native:"Monaco",phone:[377],continent:"EU",capital:"Monaco",currency:["EUR"],languages:["fr"]},MD:{name:"Moldova",native:"Moldova",phone:[373],continent:"EU",capital:"Chi\u0219in\u0103u",currency:["MDL"],languages:["ro"]},ME:{name:"Montenegro",native:"\u0426\u0440\u043d\u0430 \u0413\u043e\u0440\u0430",phone:[382],continent:"EU",capital:"Podgorica",currency:["EUR"],languages:["sr","bs","sq","hr"]},MF:{name:"Saint Martin",native:"Saint-Martin",phone:[590],continent:"NA",capital:"Marigot",currency:["EUR"],languages:["en","fr","nl"]},MG:{name:"Madagascar",native:"Madagasikara",phone:[261],continent:"AF",capital:"Antananarivo",currency:["MGA"],languages:["fr","mg"]},MH:{name:"Marshall Islands",native:"M\u0327aje\u013c",phone:[692],continent:"OC",capital:"Majuro",currency:["USD"],languages:["en","mh"]},MK:{name:"North Macedonia",native:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430 \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430",phone:[389],continent:"EU",capital:"Skopje",currency:["MKD"],languages:["mk"]},ML:{name:"Mali",native:"Mali",phone:[223],continent:"AF",capital:"Bamako",currency:["XOF"],languages:["fr"]},MM:{name:"Myanmar (Burma)",native:"\u1019\u103c\u1014\u103a\u1019\u102c",phone:[95],continent:"AS",capital:"Naypyidaw",currency:["MMK"],languages:["my"]},MN:{name:"Mongolia",native:"\u041c\u043e\u043d\u0433\u043e\u043b \u0443\u043b\u0441",phone:[976],continent:"AS",capital:"Ulan Bator",currency:["MNT"],languages:["mn"]},MO:{name:"Macao",native:"\u6fb3\u9580",phone:[853],continent:"AS",capital:"",currency:["MOP"],languages:["zh","pt"]},MP:{name:"Northern Mariana Islands",native:"Northern Mariana Islands",phone:[1670],continent:"OC",capital:"Saipan",currency:["USD"],languages:["en","ch"]},MQ:{name:"Martinique",native:"Martinique",phone:[596],continent:"NA",capital:"Fort-de-France",currency:["EUR"],languages:["fr"]},MR:{name:"Mauritania",native:"\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627",phone:[222],continent:"AF",capital:"Nouakchott",currency:["MRU"],languages:["ar"]},MS:{name:"Montserrat",native:"Montserrat",phone:[1664],continent:"NA",capital:"Plymouth",currency:["XCD"],languages:["en"]},MT:{name:"Malta",native:"Malta",phone:[356],continent:"EU",capital:"Valletta",currency:["EUR"],languages:["mt","en"]},MU:{name:"Mauritius",native:"Maurice",phone:[230],continent:"AF",capital:"Port Louis",currency:["MUR"],languages:["en"]},MV:{name:"Maldives",native:"Maldives",phone:[960],continent:"AS",capital:"Mal\xe9",currency:["MVR"],languages:["dv"]},MW:{name:"Malawi",native:"Malawi",phone:[265],continent:"AF",capital:"Lilongwe",currency:["MWK"],languages:["en","ny"]},MX:{name:"Mexico",native:"M\xe9xico",phone:[52],continent:"NA",capital:"Mexico City",currency:["MXN"],languages:["es"]},MY:{name:"Malaysia",native:"Malaysia",phone:[60],continent:"AS",capital:"Kuala Lumpur",currency:["MYR"],languages:["ms"]},MZ:{name:"Mozambique",native:"Mo\xe7ambique",phone:[258],continent:"AF",capital:"Maputo",currency:["MZN"],languages:["pt"]},NA:{name:"Namibia",native:"Namibia",phone:[264],continent:"AF",capital:"Windhoek",currency:["NAD","ZAR"],languages:["en","af"]},NC:{name:"New Caledonia",native:"Nouvelle-Cal\xe9donie",phone:[687],continent:"OC",capital:"Noum\xe9a",currency:["XPF"],languages:["fr"]},NE:{name:"Niger",native:"Niger",phone:[227],continent:"AF",capital:"Niamey",currency:["XOF"],languages:["fr"]},NF:{name:"Norfolk Island",native:"Norfolk Island",phone:[672],continent:"OC",capital:"Kingston",currency:["AUD"],languages:["en"]},NG:{name:"Nigeria",native:"Nigeria",phone:[234],continent:"AF",capital:"Abuja",currency:["NGN"],languages:["en"]},NI:{name:"Nicaragua",native:"Nicaragua",phone:[505],continent:"NA",capital:"Managua",currency:["NIO"],languages:["es"]},NL:{name:"Netherlands",native:"Nederland",phone:[31],continent:"EU",capital:"Amsterdam",currency:["EUR"],languages:["nl"]},NO:{name:"Norway",native:"Norge",phone:[47],continent:"EU",capital:"Oslo",currency:["NOK"],languages:["no","nb","nn"]},NP:{name:"Nepal",native:"\u0928\u0947\u092a\u093e\u0932",phone:[977],continent:"AS",capital:"Kathmandu",currency:["NPR"],languages:["ne"]},NR:{name:"Nauru",native:"Nauru",phone:[674],continent:"OC",capital:"Yaren",currency:["AUD"],languages:["en","na"]},NU:{name:"Niue",native:"Niu\u0113",phone:[683],continent:"OC",capital:"Alofi",currency:["NZD"],languages:["en"]},NZ:{name:"New Zealand",native:"New Zealand",phone:[64],continent:"OC",capital:"Wellington",currency:["NZD"],languages:["en","mi"]},OM:{name:"Oman",native:"\u0639\u0645\u0627\u0646",phone:[968],continent:"AS",capital:"Muscat",currency:["OMR"],languages:["ar"]},PA:{name:"Panama",native:"Panam\xe1",phone:[507],continent:"NA",capital:"Panama City",currency:["PAB","USD"],languages:["es"]},PE:{name:"Peru",native:"Per\xfa",phone:[51],continent:"SA",capital:"Lima",currency:["PEN"],languages:["es"]},PF:{name:"French Polynesia",native:"Polyn\xe9sie fran\xe7aise",phone:[689],continent:"OC",capital:"Papeet\u0113",currency:["XPF"],languages:["fr"]},PG:{name:"Papua New Guinea",native:"Papua Niugini",phone:[675],continent:"OC",capital:"Port Moresby",currency:["PGK"],languages:["en"]},PH:{name:"Philippines",native:"Pilipinas",phone:[63],continent:"AS",capital:"Manila",currency:["PHP"],languages:["en"]},PK:{name:"Pakistan",native:"Pakistan",phone:[92],continent:"AS",capital:"Islamabad",currency:["PKR"],languages:["en","ur"]},PL:{name:"Poland",native:"Polska",phone:[48],continent:"EU",capital:"Warsaw",currency:["PLN"],languages:["pl"]},PM:{name:"Saint Pierre and Miquelon",native:"Saint-Pierre-et-Miquelon",phone:[508],continent:"NA",capital:"Saint-Pierre",currency:["EUR"],languages:["fr"]},PN:{name:"Pitcairn Islands",native:"Pitcairn Islands",phone:[64],continent:"OC",capital:"Adamstown",currency:["NZD"],languages:["en"]},PR:{name:"Puerto Rico",native:"Puerto Rico",phone:[1787,1939],continent:"NA",capital:"San Juan",currency:["USD"],languages:["es","en"]},PS:{name:"Palestine",native:"\u0641\u0644\u0633\u0637\u064a\u0646",phone:[970],continent:"AS",capital:"Ramallah",currency:["ILS"],languages:["ar"]},PT:{name:"Portugal",native:"Portugal",phone:[351],continent:"EU",capital:"Lisbon",currency:["EUR"],languages:["pt"]},PW:{name:"Palau",native:"Palau",phone:[680],continent:"OC",capital:"Ngerulmud",currency:["USD"],languages:["en"]},PY:{name:"Paraguay",native:"Paraguay",phone:[595],continent:"SA",capital:"Asunci\xf3n",currency:["PYG"],languages:["es","gn"]},QA:{name:"Qatar",native:"\u0642\u0637\u0631",phone:[974],continent:"AS",capital:"Doha",currency:["QAR"],languages:["ar"]},RE:{name:"Reunion",native:"La R\xe9union",phone:[262],continent:"AF",capital:"Saint-Denis",currency:["EUR"],languages:["fr"]},RO:{name:"Romania",native:"Rom\xe2nia",phone:[40],continent:"EU",capital:"Bucharest",currency:["RON"],languages:["ro"]},RS:{name:"Serbia",native:"\u0421\u0440\u0431\u0438\u0458\u0430",phone:[381],continent:"EU",capital:"Belgrade",currency:["RSD"],languages:["sr"]},RU:{name:"Russia",native:"\u0420\u043e\u0441\u0441\u0438\u044f",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Moscow",currency:["RUB"],languages:["ru"]},RW:{name:"Rwanda",native:"Rwanda",phone:[250],continent:"AF",capital:"Kigali",currency:["RWF"],languages:["rw","en","fr"]},SA:{name:"Saudi Arabia",native:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629",phone:[966],continent:"AS",capital:"Riyadh",currency:["SAR"],languages:["ar"]},SB:{name:"Solomon Islands",native:"Solomon Islands",phone:[677],continent:"OC",capital:"Honiara",currency:["SBD"],languages:["en"]},SC:{name:"Seychelles",native:"Seychelles",phone:[248],continent:"AF",capital:"Victoria",currency:["SCR"],languages:["fr","en"]},SD:{name:"Sudan",native:"\u0627\u0644\u0633\u0648\u062f\u0627\u0646",phone:[249],continent:"AF",capital:"Khartoum",currency:["SDG"],languages:["ar","en"]},SE:{name:"Sweden",native:"Sverige",phone:[46],continent:"EU",capital:"Stockholm",currency:["SEK"],languages:["sv"]},SG:{name:"Singapore",native:"Singapore",phone:[65],continent:"AS",capital:"Singapore",currency:["SGD"],languages:["en","ms","ta","zh"]},SH:{name:"Saint Helena",native:"Saint Helena",phone:[290],continent:"AF",capital:"Jamestown",currency:["SHP"],languages:["en"]},SI:{name:"Slovenia",native:"Slovenija",phone:[386],continent:"EU",capital:"Ljubljana",currency:["EUR"],languages:["sl"]},SJ:{name:"Svalbard and Jan Mayen",native:"Svalbard og Jan Mayen",phone:[4779],continent:"EU",capital:"Longyearbyen",currency:["NOK"],languages:["no"]},SK:{name:"Slovakia",native:"Slovensko",phone:[421],continent:"EU",capital:"Bratislava",currency:["EUR"],languages:["sk"]},SL:{name:"Sierra Leone",native:"Sierra Leone",phone:[232],continent:"AF",capital:"Freetown",currency:["SLL"],languages:["en"]},SM:{name:"San Marino",native:"San Marino",phone:[378],continent:"EU",capital:"City of San Marino",currency:["EUR"],languages:["it"]},SN:{name:"Senegal",native:"S\xe9n\xe9gal",phone:[221],continent:"AF",capital:"Dakar",currency:["XOF"],languages:["fr"]},SO:{name:"Somalia",native:"Soomaaliya",phone:[252],continent:"AF",capital:"Mogadishu",currency:["SOS"],languages:["so","ar"]},SR:{name:"Suriname",native:"Suriname",phone:[597],continent:"SA",capital:"Paramaribo",currency:["SRD"],languages:["nl"]},SS:{name:"South Sudan",native:"South Sudan",phone:[211],continent:"AF",capital:"Juba",currency:["SSP"],languages:["en"]},ST:{name:"Sao Tome and Principe",native:"S\xe3o Tom\xe9 e Pr\xedncipe",phone:[239],continent:"AF",capital:"S\xe3o Tom\xe9",currency:["STN"],languages:["pt"]},SV:{name:"El Salvador",native:"El Salvador",phone:[503],continent:"NA",capital:"San Salvador",currency:["SVC","USD"],languages:["es"]},SX:{name:"Sint Maarten",native:"Sint Maarten",phone:[1721],continent:"NA",capital:"Philipsburg",currency:["ANG"],languages:["nl","en"]},SY:{name:"Syria",native:"\u0633\u0648\u0631\u064a\u0627",phone:[963],continent:"AS",capital:"Damascus",currency:["SYP"],languages:["ar"]},SZ:{name:"Eswatini",native:"Eswatini",phone:[268],continent:"AF",capital:"Lobamba",currency:["SZL"],languages:["en","ss"]},TC:{name:"Turks and Caicos Islands",native:"Turks and Caicos Islands",phone:[1649],continent:"NA",capital:"Cockburn Town",currency:["USD"],languages:["en"]},TD:{name:"Chad",native:"Tchad",phone:[235],continent:"AF",capital:"N'Djamena",currency:["XAF"],languages:["fr","ar"]},TF:{name:"French Southern Territories",native:"Territoire des Terres australes et antarctiques fr",phone:[262],continent:"AN",capital:"Port-aux-Fran\xe7ais",currency:["EUR"],languages:["fr"]},TG:{name:"Togo",native:"Togo",phone:[228],continent:"AF",capital:"Lom\xe9",currency:["XOF"],languages:["fr"]},TH:{name:"Thailand",native:"\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22",phone:[66],continent:"AS",capital:"Bangkok",currency:["THB"],languages:["th"]},TJ:{name:"Tajikistan",native:"\u0422\u043e\u04b7\u0438\u043a\u0438\u0441\u0442\u043e\u043d",phone:[992],continent:"AS",capital:"Dushanbe",currency:["TJS"],languages:["tg","ru"]},TK:{name:"Tokelau",native:"Tokelau",phone:[690],continent:"OC",capital:"Fakaofo",currency:["NZD"],languages:["en"]},TL:{name:"East Timor",native:"Timor-Leste",phone:[670],continent:"OC",capital:"Dili",currency:["USD"],languages:["pt"]},TM:{name:"Turkmenistan",native:"T\xfcrkmenistan",phone:[993],continent:"AS",capital:"Ashgabat",currency:["TMT"],languages:["tk","ru"]},TN:{name:"Tunisia",native:"\u062a\u0648\u0646\u0633",phone:[216],continent:"AF",capital:"Tunis",currency:["TND"],languages:["ar"]},TO:{name:"Tonga",native:"Tonga",phone:[676],continent:"OC",capital:"Nuku'alofa",currency:["TOP"],languages:["en","to"]},TR:{name:"Turkey",native:"T\xfcrkiye",phone:[90],continent:"AS",continents:["AS","EU"],capital:"Ankara",currency:["TRY"],languages:["tr"]},TT:{name:"Trinidad and Tobago",native:"Trinidad and Tobago",phone:[1868],continent:"NA",capital:"Port of Spain",currency:["TTD"],languages:["en"]},TV:{name:"Tuvalu",native:"Tuvalu",phone:[688],continent:"OC",capital:"Funafuti",currency:["AUD"],languages:["en"]},TW:{name:"Taiwan",native:"\u81fa\u7063",phone:[886],continent:"AS",capital:"Taipei",currency:["TWD"],languages:["zh"]},TZ:{name:"Tanzania",native:"Tanzania",phone:[255],continent:"AF",capital:"Dodoma",currency:["TZS"],languages:["sw","en"]},UA:{name:"Ukraine",native:"\u0423\u043a\u0440\u0430\u0457\u043d\u0430",phone:[380],continent:"EU",capital:"Kyiv",currency:["UAH"],languages:["uk"]},UG:{name:"Uganda",native:"Uganda",phone:[256],continent:"AF",capital:"Kampala",currency:["UGX"],languages:["en","sw"]},UM:{name:"U.S. Minor Outlying Islands",native:"United States Minor Outlying Islands",phone:[1],continent:"OC",capital:"",currency:["USD"],languages:["en"]},US:{name:"United States",native:"United States",phone:[1],continent:"NA",capital:"Washington D.C.",currency:["USD","USN","USS"],languages:["en"]},UY:{name:"Uruguay",native:"Uruguay",phone:[598],continent:"SA",capital:"Montevideo",currency:["UYI","UYU"],languages:["es"]},UZ:{name:"Uzbekistan",native:"O'zbekiston",phone:[998],continent:"AS",capital:"Tashkent",currency:["UZS"],languages:["uz","ru"]},VA:{name:"Vatican City",native:"Vaticano",phone:[379],continent:"EU",capital:"Vatican City",currency:["EUR"],languages:["it","la"]},VC:{name:"Saint Vincent and the Grenadines",native:"Saint Vincent and the Grenadines",phone:[1784],continent:"NA",capital:"Kingstown",currency:["XCD"],languages:["en"]},VE:{name:"Venezuela",native:"Venezuela",phone:[58],continent:"SA",capital:"Caracas",currency:["VES"],languages:["es"]},VG:{name:"British Virgin Islands",native:"British Virgin Islands",phone:[1284],continent:"NA",capital:"Road Town",currency:["USD"],languages:["en"]},VI:{name:"U.S. Virgin Islands",native:"United States Virgin Islands",phone:[1340],continent:"NA",capital:"Charlotte Amalie",currency:["USD"],languages:["en"]},VN:{name:"Vietnam",native:"Vi\u1ec7t Nam",phone:[84],continent:"AS",capital:"Hanoi",currency:["VND"],languages:["vi"]},VU:{name:"Vanuatu",native:"Vanuatu",phone:[678],continent:"OC",capital:"Port Vila",currency:["VUV"],languages:["bi","en","fr"]},WF:{name:"Wallis and Futuna",native:"Wallis et Futuna",phone:[681],continent:"OC",capital:"Mata-Utu",currency:["XPF"],languages:["fr"]},WS:{name:"Samoa",native:"Samoa",phone:[685],continent:"OC",capital:"Apia",currency:["WST"],languages:["sm","en"]},XK:{name:"Kosovo",native:"Republika e Kosov\xebs",phone:[377,381,383,386],continent:"EU",capital:"Pristina",currency:["EUR"],languages:["sq","sr"],userAssigned:!0},YE:{name:"Yemen",native:"\u0627\u0644\u064a\u064e\u0645\u064e\u0646",phone:[967],continent:"AS",capital:"Sana'a",currency:["YER"],languages:["ar"]},YT:{name:"Mayotte",native:"Mayotte",phone:[262],continent:"AF",capital:"Mamoudzou",currency:["EUR"],languages:["fr"]},ZA:{name:"South Africa",native:"South Africa",phone:[27],continent:"AF",capital:"Pretoria",currency:["ZAR"],languages:["af","en","nr","st","ss","tn","ts","ve","xh","zu"]},ZM:{name:"Zambia",native:"Zambia",phone:[260],continent:"AF",capital:"Lusaka",currency:["ZMW"],languages:["en"]},ZW:{name:"Zimbabwe",native:"Zimbabwe",phone:[263],continent:"AF",capital:"Harare",currency:["USD","ZAR","BWP","GBP","AUD","CNY","INR","JPY"],languages:["en","sn","nd"]}},Kt={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",XK:"XKX",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"};Object.keys(Vt).map((e=>(e=>({...Vt[e],iso2:e,iso3:Kt[e]}))(e)));const qt=[{id:1,title:"A.BOCCA",message:"New items in store",time:"3 days ago"},{id:2,title:"Adidas",message:"20% Off",time:"3 days ago"},{id:3,title:"Zara",message:"Exclusive Offer -10% Off...",time:"2 days ago"},{id:4,title:"Puma",message:"New Summer Collection",time:"2 days ago"},{id:5,title:"CK",message:"Exclusive Offer -10% Off...",time:"1 day ago"},{id:6,title:"Adidas",message:"New items in store",time:"1 day ago"},{id:7,title:"Puma",message:"New items in store",time:"19 h ago"},{id:8,title:"Adidas",message:"New items in store",time:"1 h ago"}],Xt=()=>(0,At.jsx)("div",{className:"main-content not-home",children:(0,At.jsx)("div",{className:"alert-page",children:(0,At.jsxs)("div",{className:"alert-sidebar",children:[(0,At.jsxs)("div",{className:"alert-count",children:["50 Alerts",(0,At.jsx)("span",{className:"tooltip",children:(0,At.jsx)("img",{src:"/images/info.png",alt:"Info"})})]}),(0,At.jsx)("ul",{children:qt.map((e=>(0,At.jsxs)("li",{children:[(0,At.jsx)(i.N_,{to:"#",children:(0,At.jsxs)("div",{className:"alert-details",children:[(0,At.jsx)("h4",{children:e.title}),(0,At.jsx)("p",{children:e.message}),(0,At.jsx)("span",{children:e.time})]})}),(0,At.jsxs)("div",{className:"alert-button",children:[(0,At.jsx)(i.N_,{to:"#",className:"btn",children:"Accept"}),(0,At.jsx)(i.N_,{to:"#",className:"btn",children:"Reject"})]})]},e.id)))})]})})}),Zt=e=>{let{isOpen:t,onClose:n}=e;return t?(0,At.jsx)("div",{className:"alert-popup-overlay",children:(0,At.jsxs)("div",{className:"alert-popup-content",children:[(0,At.jsx)("button",{className:"alert-popup-close",onClick:n,children:"X"}),(0,At.jsx)("div",{className:"alert-popup-body",children:(0,At.jsx)(Xt,{})})]})}):null},Qt=(Object.values(Vt),()=>{const{cartCount:e,addItemToCart:n}=Nt(),{apiToken:r,userRole:a,logout:s}=It(),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(null);let S=localStorage.getItem("apiToken");return(0,At.jsxs)("header",{children:[(0,At.jsx)("div",{className:"hdr-top",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("div",{className:"social-media",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"#",target:"_blank",children:(0,At.jsx)("img",{src:"/images/instagram.png",alt:"instagram"})})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"#",target:"_blank",children:(0,At.jsx)("img",{src:"/images/youtube.png",alt:"youtube"})})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"#",target:"_blank",children:(0,At.jsx)("img",{src:"/images/twitter.png",alt:"twitter"})})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"#",target:"_blank",children:(0,At.jsx)("img",{src:"/images/facebook.png",alt:"facebook"})})})]})}),(0,At.jsx)("div",{className:"language",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)(Wt,{}),(0,At.jsx)("select",{className:"has-sub-menu sub-cunt",disabled:!0,children:(0,At.jsx)("option",{children:"  Modestrend "})})]})})]})}),(0,At.jsx)("div",{className:"hdr-mid",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("div",{className:"left-menu",children:(0,At.jsxs)("button",{id:"nav-icon2",className:"nav-icon "+(f?"open active":""),onClick:()=>{p((e=>!e)),g((e=>{const t=!e;return t?document.body.classList.add("menuopen"):document.body.classList.remove("menuopen"),t}))},children:[(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{})]})}),(0,At.jsx)("div",{className:"logo",children:(0,At.jsx)(i.N_,{to:"/",children:(0,At.jsx)("img",{src:"/images/topnavi.png",alt:"Logo"})})}),(0,At.jsxs)("div",{className:"search",children:[(0,At.jsx)("input",{type:"text",className:"searchTerm",placeholder:"Search for items"}),(0,At.jsx)("button",{type:"submit",className:"searchButton",children:(0,At.jsx)("img",{src:"/images/search-icon.svg",height:14,width:14})})]}),(0,At.jsxs)("div",{className:"right-function",children:[(0,At.jsx)("div",{className:"language",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)(Wt,{}),(0,At.jsx)("select",{className:"has-sub-menu sub-cunt",disabled:!0,children:(0,At.jsx)("option",{value:"",children:"  Modestrend "})})]})}),(0,At.jsxs)("ul",{className:"account-icons",children:[(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"/cart",children:[(0,At.jsx)("img",{src:"/images/cart.svg",height:18,width:18,alt:"Cart"}),e>0&&(0,At.jsx)("div",{className:"cart-icon",children:(0,At.jsx)("sup",{children:e})})]})}),r&&"shopper"===a?(0,At.jsx)(At.Fragment,{children:(0,At.jsxs)("li",{className:"profile "+(d?"active":""),children:[(0,At.jsx)(i.N_,{to:"#",children:(0,At.jsx)("img",{src:"/images/ic_profile_blue.svg",height:18,width:18,alt:"Profile"})}),(0,At.jsxs)("ul",{className:"profile-container",children:[(0,At.jsx)("li",{className:"item",children:(0,At.jsxs)(i.N_,{to:"/my-favorites",children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{src:"/images/favorite.png",height:18,width:18,alt:"Favorites"})}),"Favorites"]})}),(0,At.jsx)("li",{className:"item",children:(0,At.jsxs)(i.N_,{to:"/myorder",children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{height:18,width:18,src:"/images/my_orders.svg",alt:"My Orders"})}),"My Order"]})}),(0,At.jsx)("li",{className:"item",children:(0,At.jsxs)("button",{onClick:s,children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{src:"/images/logout.svg",height:18,width:18,alt:"Logout"})}),"Logout"]})})]})]})}):(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"/login",children:(0,At.jsx)("img",{src:"/images/profile.svg",height:18,width:18,alt:"Login"})})})]})]})]})}),(0,At.jsx)("div",{className:"megamenu "+(m?"active":""),children:(0,At.jsx)(Yt,{apitokenData:S})}),(0,At.jsx)(Zt,{isOpen:o,onClose:()=>{l(!1)}})]})}),Jt=()=>(0,At.jsx)("footer",{id:"new",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("div",{className:"logo",children:(0,At.jsx)(i.N_,{to:"/",children:(0,At.jsx)("img",{src:"/images/topnavi.png",alt:""})})}),(0,At.jsx)("div",{className:"ftr-menu",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"#",children:"Contact"})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"/privecy-policy",children:"Privacy Policy"})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"/terms-services",children:"Terms of Services"})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"#",children:"Shipping & Returns"})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"/how-to-delete-your-account",children:"Seashels App Account Delete Guide"})})]})}),(0,At.jsx)("div",{className:"ftr-contact",children:(0,At.jsxs)("form",{action:"",children:[(0,At.jsxs)("div",{className:"field group",children:[(0,At.jsx)("div",{className:"field-row",children:(0,At.jsx)("input",{type:"text",placeholder:"Your full name*"})}),(0,At.jsx)("div",{className:"field-row",children:(0,At.jsx)("input",{type:"text",placeholder:"Email *"})})]}),(0,At.jsx)("div",{className:"field",children:(0,At.jsx)("div",{className:"field-row",children:(0,At.jsx)("input",{type:"text",placeholder:"Telephone *"})})}),(0,At.jsx)("div",{className:"field",children:(0,At.jsx)("div",{className:"field-row",children:(0,At.jsx)("textarea",{name:"",id:"",placeholder:"Message"})})}),(0,At.jsx)("div",{className:"field",children:(0,At.jsx)("button",{type:"submit",children:"Submit"})})]})}),(0,At.jsx)("div",{className:"copy-right",children:(0,At.jsx)("p",{children:"\xa9 2024 Seashels. All rights reserved"})})]})}),en=e=>{let{children:n}=e;const{apiToken:r,loading:i,error:a}=(0,t.useContext)(Dt);localStorage.getItem("userRole");return a||!r?(0,At.jsx)(Bt.C5,{to:"/login"}):(0,At.jsx)(At.Fragment,{children:n})};var tn=n(372);n(465);function nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rn,an={exports:{}};rn=an,function(){var e=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,i={buildAbsoluteURL:function(e,n,r){if(r=r||{},e=e.trim(),!(n=n.trim())){if(!r.alwaysNormalize)return e;var a=i.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return a.path=i.normalizePath(a.path),i.buildURLFromParts(a)}var s=i.parseURL(n);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return r.alwaysNormalize?(s.path=i.normalizePath(s.path),i.buildURLFromParts(s)):n;var o=i.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=t.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(c.netLoc=o.netLoc,"/"!==s.path[0]))if(s.path){var u=o.path,d=u.substring(0,u.lastIndexOf("/")+1)+s.path;c.path=i.normalizePath(d)}else c.path=o.path,s.params||(c.params=o.params,s.query||(c.query=o.query));return null===c.path&&(c.path=r.alwaysNormalize?i.normalizePath(s.path):s.path),i.buildURLFromParts(c)},parseURL:function(t){var n=e.exec(t);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};rn.exports=i}();var sn=an.exports;function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function un(e,t,n){return(t=cn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dn.apply(this,arguments)}const hn=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},fn=Number.isSafeInteger||function(e){return"number"===typeof e&&Math.abs(e)<=pn},pn=Number.MAX_SAFE_INTEGER||9007199254740991;let mn=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",e}({}),gn=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),vn=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown",e}({});const yn=function(){},bn={trace:yn,debug:yn,log:yn,warn:yn,info:yn,error:yn};let xn=bn;function Sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){xn[t]=e[t]?e[t].bind(e):function(e){const t=self.console[e];return t?t.bind(self.console,`[${e}] >`):yn}(t)}))}const _n=xn,wn=/^(\d+)x(\d+)$/,En=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Tn{constructor(e){"string"===typeof e&&(e=Tn.parseAttrList(e)),dn(this,e)}get clientAttrs(){return Object.keys(this).filter((e=>"X-"===e.substring(0,2)))}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;const n=new Uint8Array(t.length/2);for(let e=0;e<t.length/2;e++)n[e]=parseInt(t.slice(2*e,2*e+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const n=this[e];return n?parseFloat(n):t}enumeratedString(e){return this[e]}bool(e){return"YES"===this[e]}decimalResolution(e){const t=wn.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t;const n={};for(En.lastIndex=0;null!==(t=En.exec(e));){let e=t[2];0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1&&(e=e.slice(1,-1));n[t[1].trim()]=e}return n}}function Cn(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}class kn{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const n=t.attr;for(const t in n)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==n[t]){_n.warn(`DATERANGE tag attribute: "${t}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=t;break}e=dn(new Tn({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const e=new Date(this.attr["END-DATE"]);hn(e.getTime())&&(this._endDate=e)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(hn(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&hn(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class An{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var jn="audio",Nn="video",Ln="audiovideo";class Rn{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[jn]:null,[Nn]:null,[Ln]:null},this.baseurl=e}setByteRange(e,t){const n=e.split("@",2);let r;r=1===n.length?(null==t?void 0:t.byteRangeEndOffset)||0:parseInt(n[1]),this._byteRange=[r,parseInt(n[0])+r]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=sn.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class Pn extends Rn{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new An,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!hn(this.programDateTime))return null;const e=hn(this.duration)?this.duration:0;return this.programDateTime+1e3*e}get encrypted(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),t=e.length;if(t>1||1===t&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{elementaryStreams:s}=this,o=s[e];o?(o.startPTS=Math.min(o.startPTS,t),o.endPTS=Math.max(o.endPTS,n),o.startDTS=Math.min(o.startDTS,r),o.endDTS=Math.max(o.endDTS,i)):s[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:a}}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[jn]=null,e[Nn]=null,e[Ln]=null}}class In extends Rn{constructor(e,t,n,r,i){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new An,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=r;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}class Dn{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&hn(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const e=this.driftEndTime-this.driftStartTime;if(e>0){return 1e3*(this.driftEnd-this.driftStart)/e}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function On(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}function Mn(e){const t=e.split(":");let n=null;if("data"===t[0]&&2===t.length){const e=t[1].split(";"),r=e[e.length-1].split(",");if(2===r.length){const t="base64"===r[0],i=r[1];t?(e.splice(-1,1),n=On(i)):n=function(e){const t=Fn(e).subarray(0,16),n=new Uint8Array(16);return n.set(t,16-t.length),n}(i)}}return n}function Fn(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(e=>e.charCodeAt(0)))}const Un="undefined"!==typeof self?self:void 0;var $n={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Bn="org.w3.clearkey",Gn="com.apple.streamingkeydelivery",Hn="com.microsoft.playready",zn="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Yn(e){switch(e){case Gn:return $n.FAIRPLAY;case Hn:return $n.PLAYREADY;case zn:return $n.WIDEVINE;case Bn:return $n.CLEARKEY}}var Wn="edef8ba979d64acea3c827dcd51d21ed";function Vn(e){switch(e){case $n.FAIRPLAY:return Gn;case $n.PLAYREADY:return Hn;case $n.WIDEVINE:return zn;case $n.CLEARKEY:return Bn}}function Kn(e){const{drmSystems:t,widevineLicenseUrl:n}=e,r=t?[$n.FAIRPLAY,$n.WIDEVINE,$n.PLAYREADY,$n.CLEARKEY].filter((e=>!!t[e])):[];return!r[$n.WIDEVINE]&&n&&r.push($n.WIDEVINE),r}const qn=null!=Un&&null!=(Xn=Un.navigator)&&Xn.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var Xn;function Zn(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}const Qn=(e,t)=>t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,Jn=(e,t)=>t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,er=(e,t)=>{const n=t;let r=0;for(;Qn(e,t);){r+=10;r+=tr(e,t+6),Jn(e,t+10)&&(r+=10),t+=r}if(r>0)return e.subarray(n,n+r)},tr=(e,t)=>{let n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3],n},nr=(e,t)=>Qn(e,t)&&tr(e,t+6)+10<=e.length-t,rr=e=>{const t=sr(e);for(let n=0;n<t.length;n++){const e=t[n];if(ir(e))return dr(e)}},ir=e=>e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info,ar=e=>{const t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=tr(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},sr=e=>{let t=0;const n=[];for(;Qn(e,t);){const r=tr(e,t+6);t+=10;const i=t+r;for(;t+8<i;){const r=ar(e.subarray(t)),i=or(r);i&&n.push(i),t+=r.size+10}Jn(e,t)&&(t+=10)}return n},or=e=>"PRIV"===e.type?lr(e):"W"===e.type[0]?ur(e):cr(e),lr=e=>{if(e.size<2)return;const t=hr(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}},cr=e=>{if(e.size<2)return;if("TXXX"===e.type){let t=1;const n=hr(e.data.subarray(t),!0);t+=n.length+1;const r=hr(e.data.subarray(t));return{key:e.type,info:n,data:r}}const t=hr(e.data.subarray(1));return{key:e.type,data:t}},ur=e=>{if("WXXX"===e.type){if(e.size<2)return;let t=1;const n=hr(e.data.subarray(t),!0);t+=n.length+1;const r=hr(e.data.subarray(t));return{key:e.type,info:n,data:r}}const t=hr(e.data);return{key:e.type,data:t}},dr=e=>{if(8===e.data.byteLength){const t=new Uint8Array(e.data),n=1&t[3];let r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},hr=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=pr();if(n){const r=n.decode(e);if(t){const e=r.indexOf("\0");return-1!==e?r.substring(0,e):r}return r.replace(/\0/g,"")}const r=e.length;let i,a,s,o="",l=0;for(;l<r;){if(i=e[l++],0===i&&t)return o;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:a=e[l++],o+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[l++],s=e[l++],o+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return o};let fr;function pr(){if(!navigator.userAgent.includes("PlayStation 4"))return fr||"undefined"===typeof self.TextDecoder||(fr=new self.TextDecoder("utf-8")),fr}const mr=function(e){let t="";for(let n=0;n<e.length;n++){let r=e[n].toString(16);r.length<2&&(r="0"+r),t+=r}return t},gr=Math.pow(2,32)-1,vr=[].push,yr={video:1,audio:2,id3:3,text:4};function br(e){return String.fromCharCode.apply(null,e)}function xr(e,t){const n=e[t]<<8|e[t+1];return n<0?65536+n:n}function Sr(e,t){const n=wr(e,t);return n<0?4294967296+n:n}function _r(e,t){let n=Sr(e,t);return n*=Math.pow(2,32),n+=Sr(e,t+4),n}function wr(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function Er(e,t,n){e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function Tr(e,t){const n=[];if(!t.length)return n;const r=e.byteLength;for(let i=0;i<r;){const a=Sr(e,i),s=a>1?i+a:r;if(br(e.subarray(i+4,i+8))===t[0])if(1===t.length)n.push(e.subarray(i+8,s));else{const r=Tr(e.subarray(i+8,s),t.slice(1));r.length&&vr.apply(n,r)}i=s}return n}function Cr(e){const t=[],n=e[0];let r=8;const i=Sr(e,r);r+=4;let a=0,s=0;0===n?(a=Sr(e,r),s=Sr(e,r+4),r+=8):(a=_r(e,r),s=_r(e,r+8),r+=16),r+=2;let o=e.length+s;const l=xr(e,r);r+=2;for(let c=0;c<l;c++){let n=r;const a=Sr(e,n);n+=4;const s=2147483647&a;if(1===(2147483648&a)>>>31)return _n.warn("SIDX has hierarchical references (not supported)"),null;const l=Sr(e,n);n+=4,t.push({referenceSize:s,subsegmentDuration:l,info:{duration:l/i,start:o,end:o+s-1}}),o+=s,n+=4,r=n}return{earliestPresentationTime:a,timescale:i,version:n,referencesCount:l,references:t}}function kr(e){const t=[],n=Tr(e,["moov","trak"]);for(let r=0;r<n.length;r++){const e=n[r],i=Tr(e,["tkhd"])[0];if(i){let n=i[0];const r=Sr(i,0===n?12:20),a=Tr(e,["mdia","mdhd"])[0];if(a){n=a[0];const i=Sr(a,0===n?12:20),s=Tr(e,["mdia","hdlr"])[0];if(s){const n=br(s.subarray(8,12)),a={soun:jn,vide:Nn}[n];if(a){const n=Ar(Tr(e,["mdia","minf","stbl","stsd"])[0]);t[r]={timescale:i,type:a},t[a]=ln({timescale:i,id:r},n)}}}}}return Tr(e,["moov","mvex","trex"]).forEach((e=>{const n=Sr(e,4),r=t[n];r&&(r.default={duration:Sr(e,12),flags:Sr(e,20)})})),t}function Ar(e){const t=e.subarray(8),n=t.subarray(86),r=br(t.subarray(4,8));let i=r;const a="enca"===r||"encv"===r;if(a){const e=Tr(t,[r])[0];Tr(e.subarray("enca"===r?28:78),["sinf"]).forEach((e=>{const t=Tr(e,["schm"])[0];if(t){const n=br(t.subarray(4,8));if("cbcs"===n||"cenc"===n){const t=Tr(e,["frma"])[0];t&&(i=br(t))}}}))}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const e=Tr(n,["avcC"])[0];i+="."+Nr(e[1])+Nr(e[2])+Nr(e[3]);break}case"mp4a":{const e=Tr(t,[r])[0],n=Tr(e.subarray(28),["esds"])[0];if(n&&n.length>12){let e=4;if(3!==n[e++])break;e=jr(n,e),e+=2;const t=n[e++];if(128&t&&(e+=2),64&t&&(e+=n[e++]),4!==n[e++])break;e=jr(n,e);const r=n[e++];if(64!==r)break;if(i+="."+Nr(r),e+=12,5!==n[e++])break;e=jr(n,e);const a=n[e++];let s=(248&a)>>3;31===s&&(s+=1+((7&a)<<3)+((224&n[e])>>5)),i+="."+s}break}case"hvc1":case"hev1":{const e=Tr(n,["hvcC"])[0],t=e[1],r=["","A","B","C"][t>>6],a=31&t,s=Sr(e,2),o=(32&t)>>5?"H":"L",l=e[12],c=e.subarray(6,12);i+="."+r+a,i+="."+s.toString(16).toUpperCase(),i+="."+o+l;let u="";for(let n=c.length;n--;){const e=c[n];if(e||u){u="."+e.toString(16).toUpperCase()+u}}i+=u;break}case"dvh1":case"dvhe":{const e=Tr(n,["dvcC"])[0],t=e[2]>>1&127,r=e[2]<<5&32|e[3]>>3&31;i+="."+Lr(t)+"."+Lr(r);break}case"vp09":{const e=Tr(n,["vpcC"])[0],t=e[4],r=e[5],a=e[6]>>4&15;i+="."+Lr(t)+"."+Lr(r)+"."+Lr(a);break}case"av01":{const e=Tr(n,["av1C"])[0],t=e[1]>>>5,r=31&e[1],a=e[2]>>>7?"H":"M",s=(64&e[2])>>6,o=(32&e[2])>>5,l=2===t&&s?o?12:10:s?10:8,c=(16&e[2])>>4,u=(8&e[2])>>3,d=(4&e[2])>>2,h=3&e[2],f=1,p=1,m=1,g=0;i+="."+t+"."+Lr(r)+a+"."+Lr(l)+"."+c+"."+u+d+h+"."+Lr(f)+"."+Lr(p)+"."+Lr(m)+"."+g;break}}return{codec:i,encrypted:a}}function jr(e,t){const n=t+5;for(;128&e[t++]&&t<n;);return t}function Nr(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}function Lr(e){return(e<10?"0":"")+e}function Rr(e){const t=Tr(e,["schm"])[0];if(t){const n=br(t.subarray(4,8));if("cbcs"===n||"cenc"===n)return Tr(e,["schi","tenc"])[0]}return _n.error("[eme] missing 'schm' box"),null}function Pr(e){const t=Sr(e,0);let n=8;1&t&&(n+=4),4&t&&(n+=4);let r=0;const i=Sr(e,4);for(let a=0;a<i;a++){if(256&t){r+=Sr(e,n),n+=4}512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4)}return r}function Ir(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Dr(e,t){const n=[],r=t.samples,i=t.timescale,a=t.id;let s=!1;return Tr(r,["moof"]).map((o=>{const l=o.byteOffset-8;Tr(o,["traf"]).map((o=>{const c=Tr(o,["tfdt"]).map((e=>{const t=e[0];let n=Sr(e,4);return 1===t&&(n*=Math.pow(2,32),n+=Sr(e,8)),n/i}))[0];return void 0!==c&&(e=c),Tr(o,["tfhd"]).map((c=>{const u=Sr(c,4),d=16777215&Sr(c,0);let h=0;const f=0!==(16&d);let p=0;const m=0!==(32&d);let g=8;u===a&&(0!==(1&d)&&(g+=8),0!==(2&d)&&(g+=4),0!==(8&d)&&(h=Sr(c,g),g+=4),f&&(p=Sr(c,g),g+=4),m&&(g+=4),"video"===t.type&&(s=function(e){if(!e)return!1;const t=e.indexOf("."),n=t<0?e:e.substring(0,t);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(t.codec)),Tr(o,["trun"]).map((a=>{const o=a[0],c=16777215&Sr(a,0),u=0!==(1&c);let d=0;const f=0!==(4&c),m=0!==(256&c);let g=0;const v=0!==(512&c);let y=0;const b=0!==(1024&c),x=0!==(2048&c);let S=0;const _=Sr(a,4);let w=8;u&&(d=Sr(a,w),w+=4),f&&(w+=4);let E=d+l;for(let l=0;l<_;l++){if(m?(g=Sr(a,w),w+=4):g=h,v?(y=Sr(a,w),w+=4):y=p,b&&(w+=4),x&&(S=0===o?Sr(a,w):wr(a,w),w+=4),t.type===Nn){let t=0;for(;t<y;){const a=Sr(r,E);if(E+=4,Or(s,r[E])){Mr(r.subarray(E,E+a),s?2:1,e+S/i,n)}E+=a,t+=a+4}}e+=g/i}})))}))}))})),n}function Or(e,t){if(e){const e=t>>1&63;return 39===e||40===e}return 6===(31&t)}function Mr(e,t,n,r){const i=Fr(e);let a=0;a+=t;let s=0,o=0,l=0;for(;a<i.length;){s=0;do{if(a>=i.length)break;l=i[a++],s+=l}while(255===l);o=0;do{if(a>=i.length)break;l=i[a++],o+=l}while(255===l);const e=i.length-a;let t=a;if(o<e)a+=o;else if(o>e){_n.error(`Malformed SEI payload. ${o} is too small, only ${e} bytes left to parse.`);break}if(4===s){if(181===i[t++]){const e=xr(i,t);if(t+=2,49===e){const e=Sr(i,t);if(t+=4,1195456820===e){const e=i[t++];if(3===e){const a=i[t++],o=64&a,l=o?2+3*(31&a):0,c=new Uint8Array(l);if(o){c[0]=a;for(let e=1;e<l;e++)c[e]=i[t++]}r.push({type:e,payloadType:s,pts:n,bytes:c})}}}}}else if(5===s&&o>16){const e=[];for(let n=0;n<16;n++){const r=i[t++].toString(16);e.push(1==r.length?"0"+r:r),3!==n&&5!==n&&7!==n&&9!==n||e.push("-")}const a=o-16,l=new Uint8Array(a);for(let n=0;n<a;n++)l[n]=i[t++];r.push({payloadType:s,pts:n,uuid:e.join(""),userData:hr(l),userDataBytes:l})}}}function Fr(e){const t=e.byteLength,n=[];let r=1;for(;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;const i=t-n.length,a=new Uint8Array(i);let s=0;for(r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),a[r]=e[s];return a}function Ur(e,t,n){if(16!==e.byteLength)throw new RangeError("Invalid system id");let r,i,a;if(t){r=1,i=new Uint8Array(16*t.length);for(let e=0;e<t.length;e++){const n=t[e];if(16!==n.byteLength)throw new RangeError("Invalid key");i.set(n,16*e)}}else r=0,i=new Uint8Array;r>0?(a=new Uint8Array(4),t.length>0&&new DataView(a.buffer).setUint32(0,t.length,!1)):a=new Uint8Array;const s=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(s.buffer).setUint32(0,n.byteLength,!1),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.length;let a=8,s=i;for(;s--;)a+=n[s].byteLength;const o=new Uint8Array(a);for(o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,o.set(e,4),s=0,a=8;s<i;s++)o.set(n[s],a),a+=n[s].byteLength;return o}([112,115,115,104],new Uint8Array([r,0,0,0]),e,a,i,s,n||new Uint8Array)}let $r={};class Br{static clearKeyUriToKeyIdMap(){$r={}}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=r,this.iv=i,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Gn:case zn:case Hn:case Bn:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof e&&("AES-128"!==this.method||this.iv||_n.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const t=function(e){const t=new Uint8Array(16);for(let n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}(e);return new Br(this.method,this.uri,"identity",this.keyFormatVersions,t)}const t=Mn(this.uri);if(t)switch(this.keyFormat){case zn:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case Hn:{const e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Ur(e,null,t);const n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(n)),i=r.substring(r.indexOf("<"),r.length),a=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(a){const e=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(e){const t=On(e).subarray(0,16);!function(e){const t=function(e,t,n){const r=e[t];e[t]=e[n],e[n]=r};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(t),this.keyId=t}}break}default:{let e=t.subarray(0,16);if(16!==e.length){const t=new Uint8Array(16);t.set(e,16-e.length),e=t}this.keyId=e;break}}if(!this.keyId||16!==this.keyId.byteLength){let e=$r[this.uri];if(!e){const t=Object.keys($r).length%Number.MAX_SAFE_INTEGER;e=new Uint8Array(16);new DataView(e.buffer,12,4).setUint32(0,t),$r[this.uri]=e}this.keyId=e}return this}}const Gr=/\{\$([a-zA-Z0-9-_]+)\}/g;function Hr(e){return Gr.test(e)}function zr(e,t,n){if(null!==e.variableList||e.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],a=t[i];a&&(t[i]=Yr(e,a))}}function Yr(e,t){if(null!==e.variableList||e.hasVariableRefs){const n=e.variableList;return t.replace(Gr,(t=>{const r=t.substring(2,t.length-1),i=null==n?void 0:n[r];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),t):i}))}return t}function Wr(e,t,n){let r,i,a=e.variableList;if(a||(e.variableList=a={}),"QUERYPARAM"in t){r=t.QUERYPARAM;try{const e=new self.URL(n).searchParams;if(!e.has(r))throw new Error(`"${r}" does not match any query parameter in URI: "${n}"`);i=e.get(r)}catch(s){e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else r=t.NAME,i=t.VALUE;r in a?e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):a[r]=i||""}function Vr(e,t,n){const r=t.IMPORT;if(n&&r in n){let t=e.variableList;t||(e.variableList=t={}),t[r]=n[r]}else e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function Kr(){if("undefined"===typeof self)return;return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}const qr={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Xr(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!e.split(",").some((e=>!Zr(e,t,n)))}function Zr(e,t){var n;const r=Kr(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return null!=(n=null==r?void 0:r.isTypeSupported(Qr(e,t)))&&n}function Qr(e,t){return`${t}/mp4;codecs="${e}"`}function Jr(e){if(e){const t=e.substring(0,4);return qr.video[t]}return 2}function ei(e){return e.split(",").reduce(((e,t)=>{const n=qr.video[t];return n?(2*n+e)/(e?3:2):(qr.audio[t]+e)/(e?2:1)}),0)}const ti={};const ni=/flac|opus/i;function ri(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.replace(ni,(e=>function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ti[e])return ti[e];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[e];for(let r=0;r<n.length;r++)if(Zr(n[r],"audio",t))return ti[e]=n[r],n[r];return e}(e.toLowerCase(),t)))}function ii(e,t){return e&&"mp4a"!==e?e:t?t.split(",")[0]:t}const ai=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,si=/#EXT-X-MEDIA:(.*)/g,oi=/^#EXT(?:INF|-X-TARGETDURATION):/m,li=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),ci=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ui{static findGroup(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.id===t)return r}}static resolve(e,t){return sn.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return oi.test(e)}static parseMasterPlaylist(e,t){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Hr(e)},r=[];let i;for(ai.lastIndex=0;null!=(i=ai.exec(e));)if(i[1]){var a;const e=new Tn(i[1]);zr(n,e,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const s=Yr(n,i[2]),o={attrs:e,bitrate:e.decimalInteger("BANDWIDTH")||e.decimalInteger("AVERAGE-BANDWIDTH"),name:e.NAME,url:ui.resolve(s,t)},l=e.decimalResolution("RESOLUTION");l&&(o.width=l.width,o.height=l.height),fi(e.CODECS,o),null!=(a=o.unknownCodecs)&&a.length||r.push(o),n.levels.push(o)}else if(i[3]){const e=i[3],r=i[4];switch(e){case"SESSION-DATA":{const e=new Tn(r);zr(n,e,["DATA-ID","LANGUAGE","VALUE","URI"]);const t=e["DATA-ID"];t&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[t]=e);break}case"SESSION-KEY":{const e=di(r,t,n);e.encrypted&&e.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(e)):_n.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${r}"`);break}case"DEFINE":{const e=new Tn(r);zr(n,e,["NAME","VALUE","QUERYPARAM"]),Wr(n,e,t)}break;case"CONTENT-STEERING":{const e=new Tn(r);zr(n,e,["SERVER-URI","PATHWAY-ID"]),n.contentSteering={uri:ui.resolve(e["SERVER-URI"],t),pathwayId:e["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=hi(r)}}const s=r.length>0&&r.length<n.levels.length;return n.levels=s?r:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(e,t,n){let r;const i={},a=n.levels,s={AUDIO:a.map((e=>({id:e.attrs.AUDIO,audioCodec:e.audioCodec}))),SUBTITLES:a.map((e=>({id:e.attrs.SUBTITLES,textCodec:e.textCodec}))),"CLOSED-CAPTIONS":[]};let o=0;for(si.lastIndex=0;null!==(r=si.exec(e));){const e=new Tn(r[1]),a=e.TYPE;if(a){const r=s[a],l=i[a]||[];i[a]=l,zr(n,e,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const c=e.LANGUAGE,u=e["ASSOC-LANGUAGE"],d=e.CHANNELS,h=e.CHARACTERISTICS,f=e["INSTREAM-ID"],p={attrs:e,bitrate:0,id:o++,groupId:e["GROUP-ID"]||"",name:e.NAME||c||"",type:a,default:e.bool("DEFAULT"),autoselect:e.bool("AUTOSELECT"),forced:e.bool("FORCED"),lang:c,url:e.URI?ui.resolve(e.URI,t):""};if(u&&(p.assocLang=u),d&&(p.channels=d),h&&(p.characteristics=h),f&&(p.instreamId=f),null!=r&&r.length){const e=ui.findGroup(r,p.groupId)||r[0];pi(p,e,"audioCodec"),pi(p,e,"textCodec")}l.push(p)}}return i}static parseLevelPlaylist(e,t,n,r,i,a){const s=new Dn(t),o=s.fragments;let l,c,u,d=null,h=0,f=0,p=0,m=0,g=null,v=new Pn(r,t),y=-1,b=!1,x=null;for(li.lastIndex=0,s.m3u8=e,s.hasVariableRefs=Hr(e);null!==(l=li.exec(e));){b&&(b=!1,v=new Pn(r,t),v.start=p,v.sn=h,v.cc=m,v.level=n,d&&(v.initSegment=d,v.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null,x&&(v.setByteRange(x),x=null)));const e=l[1];if(e){v.duration=parseFloat(e);const t=(" "+l[2]).slice(1);v.title=t||null,v.tagList.push(t?["INF",e,t]:["INF",e])}else if(l[3]){if(hn(v.duration)){v.start=p,u&&vi(v,u,s),v.sn=h,v.level=n,v.cc=m,o.push(v);const e=(" "+l[3]).slice(1);v.relurl=Yr(s,e),mi(v,g),g=v,p+=v.duration,h++,f=0,b=!0}}else if(l[4]){const e=(" "+l[4]).slice(1);g?v.setByteRange(e,g):v.setByteRange(e)}else if(l[5])v.rawProgramDateTime=(" "+l[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),-1===y&&(y=o.length);else{if(l=l[0].match(ci),!l){_n.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<l.length&&"undefined"===typeof l[c];c++);const e=(" "+l[c]).slice(1),i=(" "+l[c+1]).slice(1),p=l[c+2]?(" "+l[c+2]).slice(1):"";switch(e){case"PLAYLIST-TYPE":s.type=i.toUpperCase();break;case"MEDIA-SEQUENCE":h=s.startSN=parseInt(i);break;case"SKIP":{const e=new Tn(i);zr(s,e,["RECENTLY-REMOVED-DATERANGES"]);const t=e.decimalInteger("SKIPPED-SEGMENTS");if(hn(t)){s.skippedSegments=t;for(let e=t;e--;)o.unshift(null);h+=t}const n=e.enumeratedString("RECENTLY-REMOVED-DATERANGES");n&&(s.recentlyRemovedDateranges=n.split("\t"));break}case"TARGETDURATION":s.targetduration=Math.max(parseInt(i),1);break;case"VERSION":s.version=parseInt(i);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":s.live=!1;break;case"#":(i||p)&&v.tagList.push(p?[i,p]:[i]);break;case"DISCONTINUITY":m++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([e]);break;case"BITRATE":v.tagList.push([e,i]);break;case"DATERANGE":{const e=new Tn(i);zr(s,e,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),zr(s,e,e.clientAttrs);const t=new kn(e,s.dateRanges[e.ID]);t.isValid||s.skippedSegments?s.dateRanges[t.id]=t:_n.warn(`Ignoring invalid DATERANGE tag: "${i}"`),v.tagList.push(["EXT-X-DATERANGE",i]);break}case"DEFINE":{const e=new Tn(i);zr(s,e,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in e?Vr(s,e,a):Wr(s,e,t)}break;case"DISCONTINUITY-SEQUENCE":m=parseInt(i);break;case"KEY":{const e=di(i,t,s);if(e.isSupported()){if("NONE"===e.method){u=void 0;break}u||(u={}),u[e.keyFormat]&&(u=dn({},u)),u[e.keyFormat]=e}else _n.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${i}"`);break}case"START":s.startTimeOffset=hi(i);break;case"MAP":{const e=new Tn(i);if(zr(s,e,["BYTERANGE","URI"]),v.duration){const i=new Pn(r,t);gi(i,e,n,u),d=i,v.initSegment=d,d.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=d.rawProgramDateTime)}else{const t=v.byteRangeEndOffset;if(t){const e=v.byteRangeStartOffset;x=`${t-e}@${e}`}else x=null;gi(v,e,n,u),d=v,b=!0}break}case"SERVER-CONTROL":{const e=new Tn(i);s.canBlockReload=e.bool("CAN-BLOCK-RELOAD"),s.canSkipUntil=e.optionalFloat("CAN-SKIP-UNTIL",0),s.canSkipDateRanges=s.canSkipUntil>0&&e.bool("CAN-SKIP-DATERANGES"),s.partHoldBack=e.optionalFloat("PART-HOLD-BACK",0),s.holdBack=e.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const e=new Tn(i);s.partTarget=e.decimalFloatingPoint("PART-TARGET");break}case"PART":{let e=s.partList;e||(e=s.partList=[]);const n=f>0?e[e.length-1]:void 0,r=f++,a=new Tn(i);zr(s,a,["BYTERANGE","URI"]);const o=new In(a,v,t,r,n);e.push(o),v.duration+=o.duration;break}case"PRELOAD-HINT":{const e=new Tn(i);zr(s,e,["URI"]),s.preloadHint=e;break}case"RENDITION-REPORT":{const e=new Tn(i);zr(s,e,["URI"]),s.renditionReports=s.renditionReports||[],s.renditionReports.push(e);break}default:_n.warn(`line parsed but not handled: ${l}`)}}}g&&!g.relurl?(o.pop(),p-=g.duration,s.partList&&(s.fragmentHint=g)):s.partList&&(mi(v,g),v.cc=m,s.fragmentHint=v,u&&vi(v,u,s));const S=o.length,_=o[0],w=o[S-1];if(p+=s.skippedSegments*s.targetduration,p>0&&S&&w){s.averagetargetduration=p/S;const e=w.sn;s.endSN="initSegment"!==e?e:0,s.live||(w.endList=!0),_&&(s.startCC=_.cc)}else s.endSN=0,s.startCC=0;return s.fragmentHint&&(p+=s.fragmentHint.duration),s.totalduration=p,s.endCC=m,y>0&&function(e,t){let n=e[t];for(let r=t;r--;){const t=e[r];if(!t)return;t.programDateTime=n.programDateTime-1e3*t.duration,n=t}}(o,y),s}}function di(e,t,n){var r,i;const a=new Tn(e);zr(n,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const s=null!=(r=a.METHOD)?r:"",o=a.URI,l=a.hexadecimalInteger("IV"),c=a.KEYFORMATVERSIONS,u=null!=(i=a.KEYFORMAT)?i:"identity";o&&a.IV&&!l&&_n.error(`Invalid IV: ${a.IV}`);const d=o?ui.resolve(o,t):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Br(s,d,u,h,l)}function hi(e){const t=new Tn(e).decimalFloatingPoint("TIME-OFFSET");return hn(t)?t:null}function fi(e,t){let n=(e||"").split(/[ ,]+/).filter((e=>e));["video","audio","text"].forEach((e=>{const r=n.filter((t=>function(e,t){const n=qr[t];return!!n&&!!n[e.slice(0,4)]}(t,e)));r.length&&(t[`${e}Codec`]=r.join(","),n=n.filter((e=>-1===r.indexOf(e))))})),t.unknownCodecs=n}function pi(e,t,n){const r=t[n];r&&(e[n]=r)}function mi(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),hn(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function gi(e,t,n,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=n,e.sn="initSegment",r&&(e.levelkeys=r),e.initSegment=null}function vi(e,t,n){e.levelkeys=t;const{encryptedFragments:r}=n;r.length&&r[r.length-1].levelkeys===t||!Object.keys(t).some((e=>t[e].isCommonEncryption))||r.push(e)}var yi="manifest",bi="level",xi="audioTrack",Si="subtitleTrack",_i="main",wi="audio",Ei="subtitle";function Ti(e){const{type:t}=e;switch(t){case xi:return wi;case Si:return Ei;default:return _i}}function Ci(e,t){let n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}class ki{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.LEVEL_LOADING,this.onLevelLoading,this),e.on(mn.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(mn.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.LEVEL_LOADING,this.onLevelLoading,this),e.off(mn.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(mn.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return this.loaders[e.type]=i,i}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:yi,url:n,deliveryDirectives:null})}onLevelLoading(e,t){const{id:n,level:r,pathwayId:i,url:a,deliveryDirectives:s}=t;this.load({id:n,level:r,pathwayId:i,responseType:"text",type:bi,url:a,deliveryDirectives:s})}onAudioTrackLoading(e,t){const{id:n,groupId:r,url:i,deliveryDirectives:a}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:xi,url:i,deliveryDirectives:a})}onSubtitleTrackLoading(e,t){const{id:n,groupId:r,url:i,deliveryDirectives:a}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:Si,url:i,deliveryDirectives:a})}load(e){var t;const n=this.hls.config;let r,i=this.getInternalLoader(e);if(i){const t=i.context;if(t&&t.url===e.url&&t.level===e.level)return void _n.trace("[playlist-loader]: playlist request ongoing");_n.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}if(r=e.type===yi?n.manifestLoadPolicy.default:dn({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),hn(null==(t=e.deliveryDirectives)?void 0:t.part)){let t;if(e.type===bi&&null!==e.level?t=this.hls.levels[e.level].details:e.type===xi&&null!==e.id?t=this.hls.audioTracks[e.id].details:e.type===Si&&null!==e.id&&(t=this.hls.subtitleTracks[e.id].details),t){const e=t.partTarget,n=t.targetduration;if(e&&n){const t=1e3*Math.max(3*e,.8*n);r=dn({},r,{maxTimeToFirstByteMs:Math.min(t,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(t,r.maxTimeToFirstByteMs)})}}}const a=r.errorRetry||r.timeoutRetry||{},s={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},o={onSuccess:(e,t,n,r)=>{const i=this.getInternalLoader(n);this.resetInternalLoader(n.type);const a=e.data;0===a.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),ui.isMediaPlaylist(a)?this.handleTrackOrLevelPlaylist(e,t,n,r||null,i):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,new Error("no EXTM3U delimiter"),r||null,t)},onError:(e,t,n,r)=>{this.handleNetworkError(t,n,!1,e,r)},onTimeout:(e,t,n)=>{this.handleNetworkError(t,n,!0,void 0,e)}};i.load(e,s,o)}handleMasterPlaylist(e,t,n,r){const i=this.hls,a=e.data,s=Ci(e,n),o=ui.parseMasterPlaylist(a,s);if(o.playlistParsingError)return void this.handleManifestParsingError(e,n,o.playlistParsingError,r,t);const{contentSteering:l,levels:c,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f}=o;this.variableList=f;const{AUDIO:p=[],SUBTITLES:m,"CLOSED-CAPTIONS":g}=ui.parseMasterPlaylistMedia(a,s,o);if(p.length){p.some((e=>!e.url))||!c[0].audioCodec||c[0].attrs.AUDIO||(_n.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Tn({}),bitrate:0,url:""}))}i.trigger(mn.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:m,captions:g,contentSteering:l,url:s,stats:t,networkDetails:r,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f})}handleTrackOrLevelPlaylist(e,t,n,r,i){const a=this.hls,{id:s,level:o,type:l}=n,c=Ci(e,n),u=hn(o)?o:hn(s)?s:0,d=Ti(n),h=ui.parseLevelPlaylist(e.data,c,u,d,0,this.variableList);if(l===yi){const e={attrs:new Tn({}),bitrate:0,details:h,name:"",url:c};a.trigger(mn.MANIFEST_LOADED,{levels:[e],audioTracks:[],url:c,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=h,this.handlePlaylistLoaded(h,e,t,n,r,i)}handleManifestParsingError(e,t,n,r,i){this.hls.trigger(mn.ERROR,{type:gn.NETWORK_ERROR,details:vn.MANIFEST_PARSING_ERROR,fatal:t.type===yi,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:r,stats:i})}handleNetworkError(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=`A network ${n?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${e.type}`;e.type===bi?a+=`: ${e.level} id: ${e.id}`:e.type!==xi&&e.type!==Si||(a+=` id: ${e.id} group-id: "${e.groupId}"`);const s=new Error(a);_n.warn(`[playlist-loader]: ${a}`);let o=vn.UNKNOWN,l=!1;const c=this.getInternalLoader(e);switch(e.type){case yi:o=n?vn.MANIFEST_LOAD_TIMEOUT:vn.MANIFEST_LOAD_ERROR,l=!0;break;case bi:o=n?vn.LEVEL_LOAD_TIMEOUT:vn.LEVEL_LOAD_ERROR,l=!1;break;case xi:o=n?vn.AUDIO_TRACK_LOAD_TIMEOUT:vn.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case Si:o=n?vn.SUBTITLE_TRACK_LOAD_TIMEOUT:vn.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);const u={type:gn.NETWORK_ERROR,details:o,fatal:l,url:e.url,loader:c,context:e,error:s,networkDetails:t,stats:i};if(r){const n=(null==t?void 0:t.url)||e.url;u.response=ln({url:n,data:void 0},r)}this.hls.trigger(mn.ERROR,u)}handlePlaylistLoaded(e,t,n,r,i,a){const s=this.hls,{type:o,level:l,id:c,groupId:u,deliveryDirectives:d}=r,h=Ci(t,r),f=Ti(r),p="number"===typeof r.level&&f===_i?l:void 0;if(!e.fragments.length){const e=new Error("No Segments found in Playlist");return void s.trigger(mn.ERROR,{type:gn.NETWORK_ERROR,details:vn.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:e,reason:e.message,response:t,context:r,level:p,parent:f,networkDetails:i,stats:n})}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const m=e.playlistParsingError;if(m)s.trigger(mn.ERROR,{type:gn.NETWORK_ERROR,details:vn.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:m,reason:m.message,response:t,context:r,level:p,parent:f,networkDetails:i,stats:n});else switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),o){case yi:case bi:s.trigger(mn.LEVEL_LOADED,{details:e,level:p||0,id:c||0,stats:n,networkDetails:i,deliveryDirectives:d});break;case xi:s.trigger(mn.AUDIO_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case Si:s.trigger(mn.SUBTITLE_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d})}}}function Ai(e,t){let n;try{n=new Event("addtrack")}catch(r){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function ji(e,t){const n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error(`addCue is failed for: ${t}`)}catch(r){_n.debug(`[texttrack-utils]: ${r}`);try{const n=new self.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,e.addCue(n)}catch(i){_n.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}"disabled"===n&&(e.mode=n)}function Ni(e){const t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(let n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function Li(e,t,n,r){const i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0){const i=function(e,t,n){const r=[],i=function(e,t){if(t<e[0].startTime)return 0;const n=e.length-1;if(t>e[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const a=Math.floor((i+r)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&r<n))return a;r=a+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(let a=i,s=e.length;a<s;a++){const i=e[a];if(i.startTime>=t&&i.endTime<=n)r.push(i);else if(i.startTime>n)return r}return r}(e.cues,t,n);for(let t=0;t<i.length;t++)r&&!r(i[t])||e.removeCue(i[t])}"disabled"===i&&(e.mode=i)}function Ri(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||t.push(e[n])}return t}var Pi="org.id3",Ii="com.apple.quicktime.HLS",Di="https://aomedia.org/emsg/ID3";function Oi(){if("undefined"!==typeof self)return self.VTTCue||self.TextTrackCue}function Mi(e,t,n,r,i){let a=new e(t,n,"");try{a.value=r,i&&(a.type=i)}catch(Vt){a=new e(t,n,JSON.stringify(i?ln({type:i},r):r))}return a}const Fi=(()=>{const e=Oi();try{e&&new e(0,Number.POSITIVE_INFINITY,"")}catch(Vt){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Ui(e,t){return e.getTime()/1e3-t}class $i{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(Ni(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Ai(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:r}}}=this;if(!n&&!r)return;const{samples:i}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=Oi();if(a)for(let s=0;s<i.length;s++){const e=i[s].type;if(e===Di&&!n||!r)continue;const t=sr(i[s].data);if(t){const n=i[s].pts;let r=n+i[s].duration;r>Fi&&(r=Fi);r-n<=0&&(r=n+.25);for(let i=0;i<t.length;i++){const s=t[i];if(!ir(s)){this.updateId3CueEnds(n,e);const t=Mi(a,n,r,s,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(e,t){var n;const r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(let i=r.length;i--;){const n=r[i];n.type===t&&n.startTime<e&&n.endTime===Fi&&(n.endTime=e)}}onBufferFlushing(e,t){let{startOffset:n,endOffset:r,type:i}=t;const{id3Track:a,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=s;if(a&&(o||l)){let e;e="audio"===i?e=>e.type===Pi&&l:"video"===i?e=>e.type===Di&&o:e=>e.type===Pi&&l||e.type===Di&&o,Li(a,n,r,e)}}onLevelUpdated(e,t){let{details:n}=t;if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:a}=n,s=Object.keys(a);if(i){const e=Object.keys(r).filter((e=>!s.includes(e)));for(let t=e.length;t--;){const n=e[t];Object.keys(r[n].cues).forEach((e=>{i.removeCue(r[n].cues[e])})),delete r[n]}}const o=n.fragments[n.fragments.length-1];if(0===s.length||!hn(null==o?void 0:o.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=o.programDateTime/1e3-o.start,c=Oi();for(let h=0;h<s.length;h++){const e=s[h],t=a[e],n=Ui(t.startDate,l),i=r[e],o=(null==i?void 0:i.cues)||{};let f=(null==i?void 0:i.durationKnown)||!1,p=Fi;const m=t.endDate;if(m)p=Ui(m,l),f=!0;else if(t.endOnNext&&!f){const e=s.reduce(((e,n)=>{if(n!==t.id){const r=a[n];if(r.class===t.class&&r.startDate>t.startDate&&(!e||t.startDate<e.startDate))return r}return e}),null);e&&(p=Ui(e.startDate,l),f=!0)}const g=Object.keys(t.attr);for(let r=0;r<g.length;r++){const a=g[r];if("ID"===(d=a)||"CLASS"===d||"START-DATE"===d||"DURATION"===d||"END-DATE"===d||"END-ON-NEXT"===d)continue;const s=o[a];if(s)f&&!i.durationKnown&&(s.endTime=p);else if(c){let r=t.attr[a];Cn(a)&&(u=r,r=Uint8Array.from(u.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const i=Mi(c,n,p,{key:a,data:r},Ii);i&&(i.id=e,this.id3Track.addCue(i),o[a]=i)}}r[e]={cues:o,dateRange:t,durationKnown:f}}var u,d}}class Bi{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:t}=this;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(null===e)return null;const{holdBack:t,partHoldBack:n,targetduration:r}=e,{liveSyncDuration:i,liveSyncDurationCount:a,lowLatencyMode:s}=this.config,o=this.hls.userConfig;let l=s&&n||t;(o.liveSyncDuration||o.liveSyncDurationCount||0===l)&&(l=void 0!==i?i:a*r);const c=r;return l+Math.min(1*this.stallCount,c)}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;const r=n.edge,i=e-t-this.edgeStalled,a=r-n.totalduration,s=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),s)}get drift(){const{levelDetails:e}=this;return null===e?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(null===e)return 0;const t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e,levelDetails:t}=this;if(!e||!t)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(mn.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(mn.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,t){let{details:n}=t;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,t){var n;t.details===vn.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&_n.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:t}=this;if(!e||!t)return;this.currentTime=e.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:i}=this.config;if(!r||1===i||!t.live)return;const a=this.targetLatency;if(null===a)return;const s=n-a;if(s<Math.min(this.maxLatency,a+t.targetduration)&&s>.05&&this.forwardBufferLength>1){const t=Math.min(2,Math.max(1,i)),n=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(t,Math.max(1,n))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return null===e?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}const Gi=["NONE","TYPE-0","TYPE-1",null];const Hi=["SDR","PQ","HLG"];var zi="",Yi="YES",Wi="v2";function Vi(e){const{canSkipUntil:t,canSkipDateRanges:n,age:r}=e;return t&&r<t/2?n?Wi:Yi:zi}class Ki{constructor(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}addDirectives(e){const t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class qi{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter((e=>!!e)).map((e=>e.substring(0,4))).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return Xi(this._audioGroups,e)}hasSubtitleGroup(e){return Xi(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t)if("audio"===e){let e=this._audioGroups;e||(e=this._audioGroups=[]),-1===e.indexOf(t)&&e.push(t)}else if("text"===e){let e=this._subtitleGroups;e||(e=this._subtitleGroups=[]),-1===e.indexOf(t)&&e.push(t)}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return null==(e=this.audioGroups)?void 0:e[0]}get textGroupId(){var e;return null==(e=this.subtitleGroups)?void 0:e[0]}addFallback(){}}function Xi(e,t){return!(!t||!e)&&-1!==e.indexOf(t)}function Zi(e,t){const n=t.startPTS;if(hn(n)){let r,i=0;t.sn>e.sn?(i=n-e.start,r=e):(i=e.start-n,r=t),r.duration!==i&&(r.duration=i)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function Qi(e,t,n,r,i,a){r-n<=0&&(_n.warn("Fragment should have a positive duration",t),r=n+t.duration,a=i+t.duration);let s=n,o=r;const l=t.startPTS,c=t.endPTS;if(hn(l)){const e=Math.abs(l-n);hn(t.deltaPTS)?t.deltaPTS=Math.max(e,t.deltaPTS):t.deltaPTS=e,s=Math.max(n,l),n=Math.min(n,l),i=Math.min(i,t.startDTS),o=Math.min(r,c),r=Math.max(r,c),a=Math.max(a,t.endDTS)}const u=n-t.start;0!==t.start&&(t.start=n),t.duration=r-t.start,t.startPTS=n,t.maxStartPTS=s,t.startDTS=i,t.endPTS=r,t.minEndPTS=o,t.endDTS=a;const d=t.sn;if(!e||d<e.startSN||d>e.endSN)return 0;let h;const f=d-e.startSN,p=e.fragments;for(p[f]=t,h=f;h>0;h--)Zi(p[h],p[h-1]);for(h=f;h<p.length-1;h++)Zi(p[h],p[h+1]);return e.fragmentHint&&Zi(p[p.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,u}function Ji(e,t){let n=null;const r=e.fragments;for(let l=r.length-1;l>=0;l--){const e=r[l].initSegment;if(e){n=e;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;let i,a=0;if(function(e,t,n){const r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,s=t.startSN-e.startSN,o=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments;for(let c=i;c<=a;c++){const e=l[s+c];let i=o[c];r&&!i&&c<r&&(i=t.fragments[c]=e),e&&i&&n(e,i)}}(e,t,((e,r)=>{e.relurl&&(a=e.cc-r.cc),hn(e.startPTS)&&hn(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(i=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,e.initSegment&&(r.initSegment=e.initSegment,n=e.initSegment)})),n){(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((e=>{var t;!e||e.initSegment&&e.initSegment.relurl!==(null==(t=n)?void 0:t.relurl)||(e.initSegment=n)}))}if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((e=>!e)),t.deltaUpdateFailed){_n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let e=t.skippedSegments;e--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,n){const r=dn({},e);n&&n.forEach((e=>{delete r[e]}));return Object.keys(t).forEach((e=>{const n=new kn(t[e].attr,r[e]);n.isValid?r[e]=n:_n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(t[e].attr)}"`)})),r}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));const s=t.fragments;if(a){_n.warn("discontinuity sliding from playlist, take drift into account");for(let e=0;e<s.length;e++)s[e].cc+=a}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,n){if(e&&t){let r=0;for(let i=0,a=e.length;i<=a;i++){const a=e[i],s=t[i+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?n(a,s):r--}}}(e.partList,t.partList,((e,t)=>{t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),i?Qi(t,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):ea(e,t),s.length&&(t.totalduration=t.edge-s[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;const o=t.advancedDateTime;if(t.advanced&&o){const e=t.edge;t.driftStart||(t.driftStartTime=o,t.driftStart=e),t.driftEndTime=o,t.driftEnd=e}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function ea(e,t){const n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||ta(t,r[n].start)}function ta(e,t){if(t){const n=e.fragments;for(let r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function na(e,t,n){var r;return null!=e&&e.details?ra(null==(r=e.details)?void 0:r.partList,t,n):null}function ra(e,t,n){if(e)for(let r=e.length;r--;){const i=e[r];if(i.index===n&&i.fragment.sn===t)return i}return null}function ia(e){e.forEach(((e,t)=>{const{details:n}=e;null!=n&&n.fragments&&n.fragments.forEach((e=>{e.level=t}))}))}function aa(e){switch(e.details){case vn.FRAG_LOAD_TIMEOUT:case vn.KEY_LOAD_TIMEOUT:case vn.LEVEL_LOAD_TIMEOUT:case vn.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function sa(e,t){const n=aa(t);return e.default[(n?"timeout":"error")+"Retry"]}function oa(e,t){const n="linear"===e.backoff?1:Math.pow(2,t);return Math.min(n*e.retryDelayMs,e.maxRetryDelayMs)}function la(e){return ln(ln({},e),{errorRetry:null,timeoutRetry:null})}function ca(e,t,n,r){if(!e)return!1;const i=null==r?void 0:r.code,a=t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(i)||!!n);return e.shouldRetry?e.shouldRetry(e,t,n,r,a):a}const ua=function(e,t){let n=0,r=e.length-1,i=null,a=null;for(;n<=r;){i=(n+r)/2|0,a=e[i];const s=t(a);if(s>0)n=i+1;else{if(!(s<0))return a;r=i-1}}return null};function da(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.005,a=null;if(e){a=t[e.sn-t[0].sn+1]||null;const r=e.endDTS-n;r>0&&r<15e-7&&(n+=15e-7)}else 0===n&&0===t[0].start&&(a=t[0]);if(a&&((!e||e.level===a.level)&&0===ha(n,r,a)||function(e,t,n){if(t&&0===t.start&&t.level<e.level&&(t.endPTS||0)>0){const r=t.tagList.reduce(((e,t)=>("INF"===t[0]&&(e+=parseFloat(t[1])),e)),n);return e.start<=r}return!1}(a,e,Math.min(i,r))))return a;const s=ua(t,ha.bind(null,n,r));return!s||s===e&&a?a:s}function ha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(n.start<=e&&n.start+n.duration>e)return 0;const r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function fa(e,t,n){const r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}var pa=0,ma=2,ga=3,va=5,ya=0,ba=1,xa=2;class Sa{constructor(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=_n.log.bind(_n,`${t}:`),this.warn=_n.warn.bind(_n,`${t}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,n){const r=null==t?void 0:t.renditionReports;if(r){let a=-1;for(let n=0;n<r.length;n++){const s=r[n];let o;try{o=new self.URL(s.URI,t.url).href}catch(i){_n.warn(`Could not construct new URL for Rendition Report: ${i}`),o=s.URI||""}if(o===e){a=n;break}o===e.substring(0,o.length)&&(a=n)}if(-1!==a){const e=r[a],i=parseInt(e["LAST-MSN"])||(null==t?void 0:t.lastPartSn);let s=parseInt(e["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const e=Math.min(t.age-t.partTarget,t.targetduration);s>=0&&e>t.partTarget&&(s+=1)}const o=n&&Vi(n);return new Ki(i,s>=0?s:void 0,o)}}}loadPlaylist(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}playlistLoaded(e,t,n){const{details:r,stats:i}=t,a=self.performance.now(),s=i.loading.first?Math.max(0,a-i.loading.first):0;if(r.advancedDateTime=Date.now()-s,r.live||null!=n&&n.live){if(r.reloaded(n),n&&this.log(`live playlist ${e} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED"}`),n&&r.fragments.length>0&&Ji(n,r),!this.canLoad||!r.live)return;let s,o,l;if(r.canBlockReload&&r.endSN&&r.advanced){const e=this.hls.config.lowLatencyMode,i=r.lastPartSn,a=r.endSN,c=r.lastPartIndex,u=i===a;-1!==c?(o=u?a+1:i,l=u?e?0:c:c+1):o=a+1;const d=r.age,h=d+r.ageHeader;let f=Math.min(h-r.partTarget,1.5*r.targetduration);if(f>0){if(n&&f>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${f} with playlist age: ${r.age}`),f=0;else{const e=Math.floor(f/r.targetduration);if(o+=e,void 0!==l){l+=Math.round(f%r.targetduration/r.partTarget)}this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${d.toFixed(2)}s goal: ${f} skip sn ${e} to part ${l}`)}r.tuneInGoal=f}if(s=this.getDeliveryDirectives(r,t.deliveryDirectives,o,l),e||!u)return void this.loadPlaylist(s)}else(r.canBlockReload||r.canSkipUntil)&&(s=this.getDeliveryDirectives(r,t.deliveryDirectives,o,l));const c=this.hls.mainForwardBufferInfo,u=c?c.end-c.len:0,d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=1e3*e.targetduration;if(e.updated){const r=e.fragments,i=4;if(r.length&&n*i>t){const e=1e3*r[r.length-1].duration;e<n&&(n=e)}}else n/=2;return Math.round(n)}(r,1e3*(r.edge-u));r.updated&&a>this.requestScheduled+d&&(this.requestScheduled=i.loading.start),void 0!==o&&r.canBlockReload?this.requestScheduled=i.loading.first+d-(1e3*r.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+d<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=d);let h=this.requestScheduled-a;h=Math.max(0,h),this.log(`reload live playlist ${e} in ${Math.round(h)} ms`),this.timer=self.setTimeout((()=>this.loadPlaylist(s)),h)}else this.clearTimer()}getDeliveryDirectives(e,t,n,r){let i=Vi(e);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,i=zi),new Ki(n,r,i)}checkRetry(e){const t=e.details,n=aa(e),r=e.errorAction,{action:i,retryCount:a=0,retryConfig:s}=r||{},o=!!r&&!!s&&(i===va||!r.resolved&&i===ma);if(o){var l;if(this.requestScheduled=-1,a>=s.maxNumRetry)return!1;if(n&&null!=(l=e.context)&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${s.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const e=oa(s,a);this.timer=self.setTimeout((()=>this.loadPlaylist()),e),this.warn(`Retrying playlist loading ${a+1}/${s.maxNumRetry} after "${t}" in ${e}ms`)}e.levelRetry=!0,r.resolved=!0}return o}}class _a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}sample(e,t){const n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class wa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new _a(e),this.fast_=new _a(t),this.defaultTTFB_=r,this.ttfb_=new _a(e)}update(e,t){const{slow_:n,fast_:r,ttfb_:i}=this;n.halfLife!==e&&(this.slow_=new _a(e,n.getEstimate(),n.getTotalWeight())),r.halfLife!==t&&(this.fast_=new _a(t,r.getEstimate(),r.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new _a(e,i.getEstimate(),i.getTotalWeight()))}sample(e,t){const n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}sampleTTFB(e){const t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const Ea={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},Ta={};function Ca(e,t,n,r,i,a){const s=e.audioCodec?e.audioGroups:null,o=null==a?void 0:a.audioCodec,l=null==a?void 0:a.channels,c=l?parseInt(l):o?1/0:2;let u=null;if(null!=s&&s.length)try{u=1===s.length&&s[0]?t.groups[s[0]].channels:s.reduce(((e,n)=>{if(n){const r=t.groups[n];if(!r)throw new Error(`Audio track group ${n} not found`);Object.keys(r.channels).forEach((t=>{e[t]=(e[t]||0)+r.channels[t]}))}return e}),{2:0})}catch(d){return!0}return void 0!==e.videoCodec&&(e.width>1920&&e.height>1088||e.height>1920&&e.width>1088||e.frameRate>Math.max(r,30)||"SDR"!==e.videoRange&&e.videoRange!==n||e.bitrate>Math.max(i,8e6))||!!u&&hn(c)&&Object.keys(u).some((e=>parseInt(e)>c))}function ka(e,t,n){const r=e.videoCodec,i=e.audioCodec;if(!r||!i||!n)return Promise.resolve(Ea);const a={width:e.width,height:e.height,bitrate:Math.ceil(Math.max(.9*e.bitrate,e.averageBitrate)),framerate:e.frameRate||30},s=e.videoRange;"SDR"!==s&&(a.transferFunction=s.toLowerCase());const o=r.split(",").map((e=>({type:"media-source",video:ln(ln({},a),{},{contentType:Qr(e,"video")})})));return i&&e.audioGroups&&e.audioGroups.forEach((e=>{var n;e&&(null==(n=t.groups[e])||n.tracks.forEach((t=>{if(t.groupId===e){const e=t.channels||"",n=parseFloat(e);hn(n)&&n>2&&o.push.apply(o,i.split(",").map((e=>({type:"media-source",audio:{contentType:Qr(e,"audio"),channels:""+n}}))))}})))})),Promise.all(o.map((e=>{const t=function(e){const{audio:t,video:n}=e,r=n||t;if(r){const e=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${e}_${Math.ceil(n.bitrate/1e5)}`;if(t)return`c${t.channels}${t.spatialRendering?"s":"n"}_${e}`}return""}(e);return Ta[t]||(Ta[t]=n.decodingInfo(e))}))).then((e=>({supported:!e.some((e=>!e.supported)),configurations:o,decodingInfoResults:e}))).catch((e=>({supported:!1,configurations:o,decodingInfoResults:[],error:e})))}function Aa(e,t){let n=!1,r=[];return e&&(n="SDR"!==e,r=[e]),t&&(r=t.allowedVideoRanges||Hi.slice(0),n=void 0!==t.preferHDR?t.preferHDR:function(){if("function"===typeof matchMedia){const e=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(e.media!==t.media)return!0===e.matches}return!1}(),r=n?r.filter((e=>"SDR"!==e)):["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function ja(e,t){_n.log(`[abr] start candidates with "${e}" ignored because ${t}`)}function Na(e,t,n){if("attrs"in e){const n=t.indexOf(e);if(-1!==n)return n}for(let r=0;r<t.length;r++){if(La(e,t[r],n))return r}return-1}function La(e,t,n){const{groupId:r,name:i,lang:a,assocLang:s,characteristics:o,default:l}=e,c=e.forced;return(void 0===r||t.groupId===r)&&(void 0===i||t.name===i)&&(void 0===a||t.lang===a)&&(void 0===a||t.assocLang===s)&&(void 0===l||t.default===l)&&(void 0===c||t.forced===c)&&(void 0===o||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split(","),r=t.split(",");return n.length===r.length&&!n.some((e=>-1===r.indexOf(e)))}(o,t.characteristics))&&(void 0===n||n(e,t))}function Ra(e,t){const{audioCodec:n,channels:r}=e;return(void 0===n||(t.audioCodec||"").substring(0,4)===n.substring(0,4))&&(void 0===r||r===(t.channels||"2"))}function Pa(e,t,n){for(let r=t;r;r--)if(n(e[r]))return r;for(let r=t+1;r<e.length;r++)if(n(e[r]))return r;return-1}class Ia{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Da="NOT_LOADED",Oa="APPENDING",Ma="PARTIAL",Fa="OK";class Ua{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(mn.BUFFER_APPENDED,this.onBufferAppended,this),e.on(mn.FRAG_BUFFERED,this.onFragBuffered,this),e.on(mn.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(mn.BUFFER_APPENDED,this.onBufferAppended,this),e.off(mn.FRAG_BUFFERED,this.onFragBuffered,this),e.off(mn.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const n=this.activePartLists[t];if(n)for(let r=n.length;r--;){const t=n[r];if(!t)break;const i=t.end;if(t.start<=e&&null!==i&&e<=i)return t}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){const{fragments:n}=this,r=Object.keys(n);for(let i=r.length;i--;){const a=n[r[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){const t=a.body;if(t.start<=e&&e<=t.end)return t}}return null}detectEvictedFragments(e,t,n,r){this.timeRanges&&(this.timeRanges[e]=t);const i=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((r=>{const a=this.fragments[r];if(!a)return;if(i>=a.body.sn)return;if(!a.buffered&&!a.loaded)return void(a.body.type===n&&this.removeFragment(a.body));const s=a.range[e];s&&s.time.some((e=>{const n=!this.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&this.removeFragment(a.body),n}))}))}detectPartialFragments(e){const t=this.timeRanges,{frag:n,part:r}=e;if(!t||"initSegment"===n.sn)return;const i=Ba(n),a=this.fragments[i];if(!a||a.buffered&&n.gap)return;const s=!n.relurl;if(Object.keys(t).forEach((e=>{const i=n.elementaryStreams[e];if(!i)return;const o=t[e],l=s||!0===i.partial;a.range[e]=this.getBufferedTimes(n,r,l,o)})),a.loaded=null,Object.keys(a.range).length){a.buffered=!0;(a.body.endList=n.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),$a(a)||this.removeParts(n.sn-1,n.type)}else this.removeFragment(a.body)}removeParts(e,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=n.filter((t=>t.fragment.sn>=e)))}fragBuffered(e,t){const n=Ba(e);let r=this.fragments[n];!r&&t&&(r=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(e,t,n,r){const i={time:[],partial:n},a=e.start,s=e.end,o=e.minEndPTS||s,l=e.maxStartPTS||a;for(let c=0;c<r.length;c++){const e=r.start(c)-this.bufferPadding,t=r.end(c)+this.bufferPadding;if(l>=e&&o<=t){i.time.push({startPTS:Math.max(a,r.start(c)),endPTS:Math.min(s,r.end(c))});break}if(a<t&&s>e){const e=Math.max(a,r.start(c)),t=Math.min(s,r.end(c));t>e&&(i.partial=!0,i.time.push({startPTS:e,endPTS:t}))}else if(s<=e)break}return i}getPartialFragment(e){let t,n,r,i=null,a=0;const{bufferPadding:s,fragments:o}=this;return Object.keys(o).forEach((l=>{const c=o[l];c&&$a(c)&&(n=c.body.start-s,r=c.body.end+s,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=c.body,a=t)))})),i}isEndListAppended(e){const t=this.endListFragments[e];return void 0!==t&&(t.buffered||$a(t))}getState(e){const t=Ba(e),n=this.fragments[t];return n?n.buffered?$a(n)?Ma:Fa:Oa:Da}isTimeBuffered(e,t,n){let r,i;for(let a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1}onFragLoaded(e,t){const{frag:n,part:r}=t;if("initSegment"===n.sn||n.bitrateTest)return;const i=r?null:t,a=Ba(n);this.fragments[a]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:n,part:r,timeRanges:i}=t;if("initSegment"===n.sn)return;const a=n.type;if(r){let e=this.activePartLists[a];e||(this.activePartLists[a]=e=[]),e.push(r)}this.timeRanges=i,Object.keys(i).forEach((e=>{const t=i[e];this.detectEvictedFragments(e,t,a,r)}))}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=Ba(e);return!!this.fragments[t]}hasParts(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}removeFragmentsInRange(e,t,n,r,i){r&&!this.hasGaps||Object.keys(this.fragments).forEach((a=>{const s=this.fragments[a];if(!s)return;const o=s.body;o.type!==n||r&&!o.gap||o.start<t&&o.end>e&&(s.buffered||i)&&this.removeFragment(o)}))}removeFragment(e){const t=Ba(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const t=e.sn;this.activePartLists[e.type]=n.filter((e=>e.fragment.sn!==t))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function $a(e){var t,n,r;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(n=e.range.audio)?void 0:n.partial)||(null==(r=e.range.audiovideo)?void 0:r.partial))}function Ba(e){return`${e.type}_${e.level}_${e.sn}`}const Ga={length:0,start:()=>0,end:()=>0};class Ha{static isBuffered(e,t){try{if(e){const n=Ha.getBuffered(e);for(let e=0;e<n.length;e++)if(t>=n.start(e)&&t<=n.end(e))return!0}}catch(n){}return!1}static bufferInfo(e,t,n){try{if(e){const r=Ha.getBuffered(e),i=[];let a;for(a=0;a<r.length;a++)i.push({start:r.start(a),end:r.end(a)});return this.bufferedInfo(i,t,n)}}catch(r){}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(e,t,n){t=Math.max(0,t),e.sort((function(e,t){const n=e.start-t.start;return n||t.end-e.end}));let r=[];if(n)for(let l=0;l<e.length;l++){const t=r.length;if(t){const i=r[t-1].end;e[l].start-i<n?e[l].end>i&&(r[t-1].end=e[l].end):r.push(e[l])}else r.push(e[l])}else r=e;let i,a=0,s=t,o=t;for(let l=0;l<r.length;l++){const e=r[l].start,c=r[l].end;if(t+n>=e&&t<c)s=e,o=c,a=o-t;else if(t+n<e){i=e;break}}return{len:a,start:s||0,end:o||0,nextStart:i}}static getBuffered(e){try{return e.buffered}catch(Vt){return _n.log("failed to get media.buffered",Vt),Ga}}}class za{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=a}}function Ya(e,t){for(let r=0,i=e.length;r<i;r++){var n;if((null==(n=e[r])?void 0:n.cc)===t)return e[r]}return null}function Wa(e,t){if(e){const n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function Va(e,t){const n=t.fragments;for(let r=0,i=n.length;r<i;r++)Wa(n[r],e);t.fragmentHint&&Wa(t.fragmentHint,e),t.alignedSliding=!0}function Ka(e,t,n){t&&(!function(e,t,n){if(function(e,t,n){return!(!t||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}(e,n,t)){const e=function(e,t){const n=e.fragments,r=t.fragments;if(!r.length||!n.length)return void _n.log("No fragments to align");const i=Ya(n,r[0].cc);if(i&&(!i||i.startPTS))return i;_n.log("No frag in previous level to align on")}(n,t);e&&hn(e.start)&&(_n.log(`Adjusting PTS using last level due to CC increase within current level ${t.url}`),Va(e.start,t))}}(e,n,t),!n.alignedSliding&&t&&qa(n,t),n.alignedSliding||!t||n.skippedSegments||ea(t,n))}function qa(e,t){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;const n=e.fragments,r=t.fragments;if(!n.length||!r.length)return;let i,a;const s=Math.min(t.endCC,e.endCC);t.startCC<s&&e.startCC<s&&(i=Ya(r,s),a=Ya(n,s)),i&&a||(i=r[Math.floor(r.length/2)],a=Ya(n,i.cc)||n[Math.floor(n.length/2)]);const o=i.programDateTime,l=a.programDateTime;if(!o||!l)return;Va((l-o)/1e3-(a.start-i.start),e)}const Xa=Math.pow(2,17);class Za{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const n=e.url;if(!n)return Promise.reject(new es({type:gn.NETWORK_ERROR,details:vn.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const r=this.config,i=r.fLoader,a=r.loader;return new Promise(((s,o)=>{if(this.loader&&this.loader.destroy(),e.gap){if(e.tagList.some((e=>"GAP"===e[0])))return void o(Ja(e));e.gap=!1}const l=this.loader=e.loader=i?new i(r):new a(r),c=Qa(e),u=la(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:Xa};e.stats=l.stats,l.load(c,d,{onSuccess:(t,n,r,i)=>{this.resetLoader(e,l);let a=t.data;r.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(a.slice(0,16)),a=a.slice(16)),s({frag:e,part:null,payload:a,networkDetails:i})},onError:(t,r,i,a)=>{this.resetLoader(e,l),o(new es({type:gn.NETWORK_ERROR,details:vn.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:ln({url:n,data:void 0},t),error:new Error(`HTTP Error ${t.code} ${t.text}`),networkDetails:i,stats:a}))},onAbort:(t,n,r)=>{this.resetLoader(e,l),o(new es({type:gn.NETWORK_ERROR,details:vn.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:r,stats:t}))},onTimeout:(t,n,r)=>{this.resetLoader(e,l),o(new es({type:gn.NETWORK_ERROR,details:vn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:r,stats:t}))},onProgress:(n,r,i,a)=>{t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))}loadPart(e,t,n){this.abort();const r=this.config,i=r.fLoader,a=r.loader;return new Promise(((s,o)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap)return void o(Ja(e,t));const l=this.loader=e.loader=i?new i(r):new a(r),c=Qa(e,t),u=la(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Xa};t.stats=l.stats,l.load(c,d,{onSuccess:(r,i,a,o)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,t);const c={frag:e,part:t,payload:r.data,networkDetails:o};n(c),s(c)},onError:(n,r,i,a)=>{this.resetLoader(e,l),o(new es({type:gn.NETWORK_ERROR,details:vn.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:ln({url:c.url,data:void 0},n),error:new Error(`HTTP Error ${n.code} ${n.text}`),networkDetails:i,stats:a}))},onAbort:(n,r,i)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,l),o(new es({type:gn.NETWORK_ERROR,details:vn.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:i,stats:n}))},onTimeout:(n,r,i)=>{this.resetLoader(e,l),o(new es({type:gn.NETWORK_ERROR,details:vn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:i,stats:n}))}})}))}updateStatsFromPart(e,t){const n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){const r=Math.round(e.duration/t.duration),a=Math.min(Math.round(n.loaded/i),r),s=(r-a)*Math.round(n.loaded/a);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);const a=n.loading,s=r.loading;a.start?a.first+=s.first-s.start:(a.start=s.start,a.first=s.first),a.end=s.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function Qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,a=n.byteRangeEndOffset;if(hn(i)&&hn(a)){var s;let t=i,n=a;if("initSegment"===e.sn&&"AES-128"===(null==(s=e.decryptdata)?void 0:s.method)){const e=a-i;e%16&&(n=a+(16-e%16)),0!==i&&(r.resetIV=!0,t=i-16)}r.rangeStart=t,r.rangeEnd=n}return r}function Ja(e,t){const n=new Error(`GAP ${e.gap?"tag":"attribute"} found`),r={type:gn.MEDIA_ERROR,details:vn.FRAG_GAP,fatal:!1,frag:e,error:n,networkDetails:null};return t&&(r.part=t),(t||e).stats.aborted=!0,new es(r)}class es extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class ts{constructor(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}decrypt(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}class ns{constructor(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class rs{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),n=new Uint32Array(4);for(let r=0;r<4;r++)n[r]=t.getUint32(4*r);return n}initTable(){const e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],s=n[3],o=this.invSubMix,l=o[0],c=o[1],u=o[2],d=o[3],h=new Uint32Array(256);let f=0,p=0,m=0;for(m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){let n=p^p<<1^p<<2^p<<3^p<<4;n=n>>>8^255&n^99,e[f]=n,t[n]=f;const o=h[f],m=h[o],g=h[m];let v=257*h[n]^16843008*n;r[f]=v<<24|v>>>8,i[f]=v<<16|v>>>16,a[f]=v<<8|v>>>24,s[f]=v,v=16843009*g^65537*m^257*o^16843008*f,l[n]=v<<24|v>>>8,c[n]=v<<16|v>>>16,u[n]=v<<8|v>>>24,d[n]=v,f?(f=o^h[h[h[g^o]]],p^=h[h[p]]):f=p=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let n=!0,r=0;for(;r<t.length&&n;)n=t[r]===this.key[r],r++;if(n)return;this.key=t;const i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);const a=this.ksRows=4*(i+6+1);let s,o;const l=this.keySchedule=new Uint32Array(a),c=this.invKeySchedule=new Uint32Array(a),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],m=h[2],g=h[3];let v,y;for(s=0;s<a;s++)s<i?v=l[s]=t[s]:(y=v,s%i===0?(y=y<<8|y>>>24,y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=d[s/i|0]<<24):i>6&&s%i===4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[s]=v=(l[s-i]^y)>>>0);for(o=0;o<a;o++)s=a-o,y=3&o?l[s]:l[s-4],c[o]=o<4||s<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^m[u[y>>>8&255]]^g[u[255&y]],c[o]=c[o]>>>0}networkToHostOrderSwap(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}decrypt(e,t,n){const r=this.keySize+6,i=this.invKeySchedule,a=this.invSBox,s=this.invSubMix,o=s[0],l=s[1],c=s[2],u=s[3],d=this.uint8ArrayToUint32Array_(n);let h=d[0],f=d[1],p=d[2],m=d[3];const g=new Int32Array(e),v=new Int32Array(g.length);let y,b,x,S,_,w,E,T,C,k,A,j,N,L;const R=this.networkToHostOrderSwap;for(;t<g.length;){for(C=R(g[t]),k=R(g[t+1]),A=R(g[t+2]),j=R(g[t+3]),_=C^i[0],w=j^i[1],E=A^i[2],T=k^i[3],N=4,L=1;L<r;L++)y=o[_>>>24]^l[w>>16&255]^c[E>>8&255]^u[255&T]^i[N],b=o[w>>>24]^l[E>>16&255]^c[T>>8&255]^u[255&_]^i[N+1],x=o[E>>>24]^l[T>>16&255]^c[_>>8&255]^u[255&w]^i[N+2],S=o[T>>>24]^l[_>>16&255]^c[w>>8&255]^u[255&E]^i[N+3],_=y,w=b,E=x,T=S,N+=4;y=a[_>>>24]<<24^a[w>>16&255]<<16^a[E>>8&255]<<8^a[255&T]^i[N],b=a[w>>>24]<<24^a[E>>16&255]<<16^a[T>>8&255]<<8^a[255&_]^i[N+1],x=a[E>>>24]<<24^a[T>>16&255]<<16^a[_>>8&255]<<8^a[255&w]^i[N+2],S=a[T>>>24]<<24^a[_>>16&255]<<16^a[w>>8&255]<<8^a[255&E]^i[N+3],v[t]=R(y^h),v[t+1]=R(S^f),v[t+2]=R(x^p),v[t+3]=R(b^m),h=C,f=k,p=A,m=j,t+=4}return v.buffer}}class is{constructor(e){let{removePKCS7Padding:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const e=self.crypto;e&&(this.subtle=e.subtle||e.webkitSubtle)}catch(Vt){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){const t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?Zn(e,0,t-n):e}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,n){return this.useSoftware?new Promise(((r,i)=>{this.softwareDecrypt(new Uint8Array(e),t,n);const a=this.flush();a?r(a.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,n)}softwareDecrypt(e,t,n){const{currentIV:r,currentResult:i,remainderData:a}=this;this.logOnce("JS AES decrypt"),a&&(e=Ir(a,e),this.remainderData=null);const s=this.getValidChunk(e);if(!s.length)return null;r&&(n=r);let o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new rs),o.expandKey(t);const l=i;return this.currentResult=o.decrypt(s.buffer,0,n),this.currentIV=Zn(s,-16).buffer,l||null}webCryptoDecrypt(e,t,n){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,n));this.key=t,this.fastAesKey=new ns(this.subtle,t)}return this.fastAesKey.expandKey().then((t=>{if(!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new ts(this.subtle,new Uint8Array(n)).decrypt(e.buffer,t)})).catch((r=>(_n.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(e,t,n))))}onWebCryptoError(e,t,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n);const r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let t=e;const n=e.length-e.length%16;return n!==e.length&&(t=Zn(e,0,n),this.remainderData=Zn(e,n)),t}logOnce(e){this.logEnabled&&(_n.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const as=function(e){let t="";const n=e.length;for(let r=0;r<n;r++)t+=`[${e.start(r).toFixed(3)}-${e.end(r).toFixed(3)}]`;return t},ss="STOPPED",os="IDLE",ls="KEY_LOADING",cs="FRAG_LOADING",us="FRAG_LOADING_WAITING_RETRY",ds="WAITING_TRACK",hs="PARSING",fs="PARSED",ps="ENDED",ms="ERROR",gs="WAITING_INIT_PTS",vs="WAITING_LEVEL";class ys extends Ia{constructor(e,t,n,r,i){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=ss,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=i,this.logPrefix=r,this.log=_n.log.bind(_n,`${r}:`),this.warn=_n.warn.bind(_n,`${r}:`),this.hls=e,this.fragmentLoader=new Za(e.config),this.keyLoader=n,this.fragmentTracker=t,this.config=e.config,this.decrypter=new is(e.config),e.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ss}_streamEnded(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;const n=t.partList;if(null!=n&&n.length){const e=n[n.length-1];return Ha.isBuffered(this.media,e.start+e.duration/2)}const r=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(r)}getLevelDetails(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levelLastLoaded)?void 0:e.details}onMediaAttached(e,t){const n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const r=this.config;this.levels&&r.autoStartLoad&&this.state===ss&&this.startLoad(r.startPosition)}onMediaDetaching(){const e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:t,media:n,mediaBuffer:r,state:i}=this,a=n?n.currentTime:0,s=Ha.bufferInfo(r||n,a,e.maxBufferHole);if(this.log(`media seeking to ${hn(a)?a.toFixed(3):a}, state: ${i}`),this.state===ps)this.resetLoadingState();else if(t){const n=e.maxFragLookUpTolerance,r=t.start-n,i=t.start+t.duration+n;if(!s.len||i<s.start||r>s.end){const e=a>i;(a<r||e)&&(e&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=ss,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,n){this._loadFragForPlayback(e,t,n)}_loadFragForPlayback(e,t,n){this._doFragLoad(e,t,n,(t=>{if(this.fragContextChanged(e))return this.warn(`Fragment ${e.sn}${t.part?" p: "+t.part.index:""} of level ${e.level} was dropped during download.`),void this.fragmentTracker.removeFragment(e);e.stats.chunkCount++,this._handleFragmentLoadProgress(t)})).then((t=>{if(!t)return;const n=this.state;this.fragContextChanged(e)?(n===cs||!this.fragCurrent&&n===hs)&&(this.fragmentTracker.removeFragment(e),this.state=os):("payload"in t&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(mn.FRAG_LOADED,t)),this._handleFragmentLoadComplete(t))})).catch((t=>{this.state!==ss&&this.state!==ms&&(this.warn(`Frag error: ${(null==t?void 0:t.message)||t}`),this.resetFragmentLoading(e))}))}clearTrackerIfNeeded(e){var t;const{fragmentTracker:n}=this;if(n.getState(e)===Oa){const t=e.type,r=this.getFwdBufferInfo(this.mediaBuffer,t),i=Math.max(e.duration,r?r.len:this.config.maxBufferLength),a=this.backtrackFragment;(1===(a?e.sn-a.sn:0)||this.reduceMaxBufferLength(i,e.duration))&&n.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===Ma&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,t){if(!(e-t))return;const n={startOffset:e,endOffset:t,type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null};this.hls.trigger(mn.BUFFER_FLUSHING,n)}_loadInitSegment(e,t){this._doFragLoad(e,t).then((t=>{if(!t||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return t})).then((t=>{const{hls:n}=this,{payload:r}=t,i=e.decryptdata;if(r&&r.byteLength>0&&null!=i&&i.key&&i.iv&&"AES-128"===i.method){const a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch((t=>{throw n.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((r=>{const i=self.performance.now();return n.trigger(mn.FRAG_DECRYPTED,{frag:e,payload:r,stats:{tstart:a,tdecrypt:i}}),t.payload=r,this.completeInitSegmentLoad(t)}))}return this.completeInitSegmentLoad(t)})).catch((t=>{this.state!==ss&&this.state!==ms&&(this.warn(t),this.resetFragmentLoading(e))}))}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state=os,e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){var n,r,i,a;const s=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.playlistType===_i?"level":"track"} ${e.level} (frag:[${(null!=(n=e.startPTS)?n:NaN).toFixed(3)}-${(null!=(r=e.endPTS)?r:NaN).toFixed(3)}] > buffer:${s?as(Ha.getBuffered(s)):"(detached)"})`),"initSegment"!==e.sn){var o;if(e.type!==Ei){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return void(this.state=os)}const t=null==(o=this.levels)?void 0:o[e.level];null!=t&&t.fragmentError&&(this.log(`Resetting level fragment error count of ${t.fragmentError} on frag buffered`),t.fragmentError=0)}this.state=os,s&&(!this.loadedmetadata&&e.type==_i&&s.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:r,partsLoaded:i}=e,a=!i||0===i.length||i.some((e=>!e)),s=new za(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!a);t.flush(s)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;var i;const a=null==t?void 0:t.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let s=null;if(!e.encrypted||null!=(i=e.decryptdata)&&i.key?!e.encrypted&&a.encryptedFragments.length&&this.keyLoader.loadClear(e,a.encryptedFragments):(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${e.level}`),this.state=ls,this.fragCurrent=e,s=this.keyLoader.load(e).then((e=>{if(!this.fragContextChanged(e.frag))return this.hls.trigger(mn.KEY_LOADED,e),this.state===ls&&(this.state=os),e})),this.hls.trigger(mn.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(s=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(e.start,n||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){const i=a.partList;if(i&&r){n>e.end&&a.fragmentHint&&(e=a.fragmentHint);const o=this.getNextPart(i,e,n);if(o>-1){const l=i[o];let c;return this.log(`Loading part sn: ${e.sn} p: ${l.index} cc: ${e.cc} of playlist [${a.startSN}-${a.endSN}] parts [0-${o}-${i.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=l.start+l.duration,this.state=cs,c=s?s.then((n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(e,l,t,r))).catch((e=>this.handleFragLoadError(e))):this.doFragPartsLoad(e,l,t,r).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(mn.FRAG_LOADING,{frag:e,part:l,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!e.url||this.loadedEndOfParts(i,n))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${a?"of ["+a.startSN+"-"+a.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),hn(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=cs;const o=this.config.progressive;let l;return l=o&&s?s.then((t=>!t||this.fragContextChanged(null==t?void 0:t.frag)?null:this.fragmentLoader.load(e,r))).catch((e=>this.handleFragLoadError(e))):Promise.all([this.fragmentLoader.load(e,o?r:void 0),s]).then((e=>{let[t]=e;return!o&&t&&r&&r(t),t})).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(mn.FRAG_LOADING,{frag:e,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(e,t,n,r){return new Promise(((i,a)=>{var s;const o=[],l=null==(s=n.details)?void 0:s.partList,c=t=>{this.fragmentLoader.loadPart(e,t,r).then((r=>{o[t.index]=r;const a=r.part;this.hls.trigger(mn.FRAG_LOADED,r);const s=na(n,e.sn,t.index+1)||ra(l,e.sn,t.index+1);if(!s)return i({frag:e,part:a,partsLoaded:o});c(s)})).catch(a)};c(t)}))}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===vn.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(mn.ERROR,t)}else this.hls.trigger(mn.ERROR,{type:gn.OTHER_ERROR,details:vn.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==hs)return void(this.fragCurrent||this.state===ss||this.state===ms||(this.state=os));const{frag:n,part:r,level:i}=t,a=self.performance.now();n.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(n,r,i,e.partial)}getCurrentContext(e){const{levels:t,fragCurrent:n}=this,{level:r,sn:i,part:a}=e;if(null==t||!t[r])return this.warn(`Levels object was unset while buffering fragment ${i} of level ${r}. The current chunk will not be buffered.`),null;const s=t[r],o=a>-1?na(s,i,a):null,l=o?o.fragment:function(e,t,n){if(null==e||!e.details)return null;const r=e.details;let i=r.fragments[t-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}(s,i,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:o,level:s}):null}bufferFragmentData(e,t,n,r,i){var a;if(!e||this.state!==hs)return;const{data1:s,data2:o}=e;let l=s;if(s&&o&&(l=Ir(s,o)),null==(a=l)||!a.length)return;const c={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:l};if(this.hls.trigger(mn.BUFFER_APPENDING,c),e.dropped&&e.independent&&!n){if(i)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!Ha.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,e.start);const n=t.currentTime,r=Ha.bufferInfo(t,n,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-a,r.end-a),n+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}getFwdBufferInfo(e,t){const n=this.getLoadPosition();return hn(n)?this.getFwdBufferInfoAtPos(e,n,t):null}getFwdBufferInfoAtPos(e,t,n){const{config:{maxBufferHole:r}}=this,i=Ha.bufferInfo(e,t,r);if(0===i.len&&void 0!==i.nextStart){const a=this.fragmentTracker.getBufferedFrag(t,n);if(a&&i.nextStart<a.end)return Ha.bufferInfo(e,t,Math.max(i.nextStart,r))}return i}getMaxBufferLength(e){const{config:t}=this;let n;return n=e?Math.max(8*t.maxBufferSize/e,t.maxBufferLength):t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const n=this.config,r=Math.max(Math.min(e-t,n.maxBufferLength),t),i=Math.max(e-3*t,n.maxMaxBufferLength/2,r);return i>=r&&(n.maxMaxBufferLength=i,this.warn(`Reduce max buffer length to ${i}s`),!0)}getAppendedFrag(e){const t=this.fragmentTracker.getAppendedFrag(e,_i);return t&&"fragment"in t?t.fragment:t}getNextFragment(e,t){const n=t.fragments,r=n.length;if(!r)return null;const{config:i}=this,a=n[0].start;let s;if(t.live){const o=i.initialLiveManifestSize;if(r<o)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${o})`),null;(!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||e<a)&&(s=this.getInitialLiveFragment(t,n),this.startPosition=this.nextLoadPosition=s?this.hls.liveSyncPosition||s.start:e)}else e<=a&&(s=n[0]);if(!s){const n=i.lowLatencyMode?t.partEnd:t.fragmentEnd;s=this.getFragmentAtPosition(e,n,t)}return this.mapToInitFragWhenRequired(s)}isLoopLoading(e,t){const n=this.fragmentTracker.getState(e);return(n===Fa||n===Ma&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,n,r,i){const a=e.gap,s=this.getNextFragment(this.nextLoadPosition,t);if(null===s)return s;if(e=s,a&&e&&!e.gap&&n.nextStart){const t=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==t&&n.len+t.len>=i)return this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}getNextPart(e,t,n){let r=-1,i=!1,a=!0;for(let s=0,o=e.length;s<o;s++){const o=e[s];if(a=a&&!o.independent,r>-1&&n<o.start)break;const l=o.loaded;l?r=-1:(i||o.independent||a)&&o.fragment===t&&(r=s),i=l}return r}loadedEndOfParts(e,t){const n=e[e.length-1];return n&&t>n.start&&n.loaded}getInitialLiveFragment(e,t){const n=this.fragPrevious;let r=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),r=function(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!hn(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(let r=0;r<e.length;++r){const i=e[r];if(fa(t,n,i))return i}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){const a=t[i-e.startSN];n.cc===a.cc&&(r=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=function(e,t){return ua(e,(e=>e.cc<t?1:e.cc>t?-1:0))}(t,n.cc),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const t=this.hls.liveSyncPosition;null!==t&&(r=this.getFragmentAtPosition(t,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}getFragmentAtPosition(e,t,n){const{config:r}=this;let{fragPrevious:i}=this,{fragments:a,endSN:s}=n;const{fragmentHint:o}=n,{maxFragLookUpTolerance:l}=r,c=n.partList,u=!!(r.lowLatencyMode&&null!=c&&c.length&&o);let d;if(u&&o&&!this.bitrateTest&&(a=a.concat(o),s=o.sn),e<t){d=da(i,a,e,e>t-l?0:l)}else d=a[a.length-1];if(d){const e=d.sn-n.startSN,t=this.fragmentTracker.getState(d);if((t===Fa||t===Ma&&d.gap)&&(i=d),i&&d.sn===i.sn&&(!u||c[0].fragment.sn>d.sn)){if(i&&d.level===i.level){const t=a[e+1];d=d.sn<s&&this.fragmentTracker.getState(t)!==Fa?t:null}}}return d}synchronizeToLiveEdge(e){const{config:t,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,i=n.currentTime,a=e.fragments[0].start,s=e.edge,o=i>=a-t.maxFragLookUpTolerance&&i<=s;if(null!==r&&n.duration>r&&(i<r||!o)){const a=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!o&&n.readyState<4||i<s-a)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${s}, reset currentTime to : ${r.toFixed(3)}`),n.currentTime=r))}}alignPlaylists(e,t,n){const r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const i=e.fragments[0].start,a=!t,s=e.alignedSliding&&hn(i);if(a||!s&&!i){const{fragPrevious:i}=this;Ka(i,n,e);const a=e.fragments[0].start;return this.log(`Live playlist sliding: ${a.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} prev-sn: ${i?i.sn:"na"} fragments: ${r}`),a}return i}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}setStartPosition(e,t){let n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){const r=null!==this.startTimeOffset,i=r?this.startTimeOffset:e.startTimeOffset;null!==i&&hn(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log(`Start time offset ${i} found in ${r?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:e}=this;let t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===us)||(this.state=os)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const e=this.getCurrentContext(t.chunkMeta);e&&(t.frag=e.frag)}const n=t.frag;if(!n||n.type!==e||!this.levels)return;var r;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(r=this.fragCurrent)?void 0:r.url}`);const i=t.details===vn.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(n,!0);const a=t.errorAction,{action:s,retryCount:o=0,retryConfig:l}=a||{};if(a&&s===va&&l){this.resetStartWhenNotLoaded(this.levelLastLoaded);const r=oa(l,o);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${t.details}, retrying loading ${o+1}/${l.maxNumRetry} in ${r}ms`),a.resolved=!0,this.retryDate=self.performance.now()+r,this.state=us}else if(l&&a){if(this.resetFragmentErrors(e),!(o<l.maxNumRetry))return void _n.warn(`${t.details} reached or exceeded max retry (${o})`);i||s===ga||(a.resolved=!0)}else(null==a?void 0:a.action)===ma?this.state=vs:this.state=ms;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===hs||this.state===fs){const t=e.frag,n=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,n),i=r&&r.len>.5;i&&this.reduceMaxBufferLength(r.len,(null==t?void 0:t.duration)||10);const a=!i;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===wi&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==ss&&(this.state=os)}afterBufferFlushed(e,t,n){if(!e)return;const r=Ha.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===ps&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=os}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const t=e?e.details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,n,r){var i;const a=n.details;if(!a)return void this.warn("level.details undefined");if(!Object.keys(e.elementaryStreams).reduce(((t,i)=>{const s=e.elementaryStreams[i];if(s){const o=s.endPTS-s.startPTS;if(o<=0)return this.warn(`Could not parse fragment ${e.sn} ${i} duration reliably (${o})`),t||!1;const l=r?0:Qi(a,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return this.hls.trigger(mn.LEVEL_PTS_UPDATED,{details:a,level:n,drift:l,type:i,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)&&null===(null==(i=this.transmuxer)?void 0:i.error)){const t=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(0===n.fragmentError&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(t.message),this.hls.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.FRAG_PARSING_ERROR,fatal:!1,error:t,frag:e,reason:`Found no media in msn ${e.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=fs,this.hls.trigger(mn.FRAG_PARSED,{frag:e,part:t})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}class bs{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let n;return e.length?(n=1===e.length?e[0]:function(e,t){const n=new Uint8Array(t);let r=0;for(let i=0;i<e.length;i++){const t=e[i];n.set(t,r),r+=t.length}return n}(e,t),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function xs(){return{type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",id:-1,pid:-1,inputTimeScale:arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4,sequenceNumber:-1,samples:[],dropped:0}}class Ss{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,n){}demux(e,t){this.cachedData&&(e=Ir(this.cachedData,e),this.cachedData=null);let n,r=er(e,0),i=r?r.length:0;const a=this._audioTrack,s=this._id3Track,o=r?rr(r):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&hn(o))&&(this.basePTS=_s(o,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Pi,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){const t=this.appendFrame(a,e,i);t?(this.frameIndex++,this.lastPTS=t.sample.pts,i+=t.length,n=i):i=l}else nr(e,i)?(r=er(e,i),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Pi,duration:Number.POSITIVE_INFINITY}),i+=r.length,n=i):i++;if(i===l&&n!==l){const t=Zn(e,n);this.cachedData?this.cachedData=Ir(this.cachedData,t):this.cachedData=t}}return{audioTrack:a,videoTrack:xs(),id3Track:s,textTrack:xs()}}demuxSampleAes(e,t,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:xs(),id3Track:this._id3Track,textTrack:xs()}}destroy(){}}const _s=(e,t,n)=>{if(hn(e))return 90*e;return 9e4*t+(n?9e4*n.baseTime/n.timescale:0)};function ws(e,t){return 255===e[t]&&240===(246&e[t+1])}function Es(e,t){return 1&e[t+1]?7:9}function Ts(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function Cs(e,t){return t+1<e.length&&ws(e,t)}function ks(e,t){if(Cs(e,t)){const n=Es(e,t);if(t+n>=e.length)return!1;const r=Ts(e,t);if(r<=n)return!1;const i=t+r;return i===e.length||Cs(e,i)}return!1}function As(e,t,n,r,i){if(!e.samplerate){const a=function(e,t,n,r){let i,a,s,o;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&t[n+2])>>>6);const d=(60&t[n+2])>>>2;if(!(d>u.length-1))return s=(1&t[n+2])<<2,s|=(192&t[n+3])>>>6,_n.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(i=5,o=new Array(4),a=d-3):(i=2,o=new Array(2),a=d):-1!==l.indexOf("android")?(i=2,o=new Array(2),a=d):(i=5,o=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?a=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===s||/vivaldi/i.test(l))||!r&&1===s)&&(i=2,o=new Array(2)),a=d)),o[0]=i<<3,o[0]|=(14&d)>>1,o[1]|=(1&d)<<7,o[1]|=s<<3,5===i&&(o[1]|=(14&a)>>1,o[2]=(1&a)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[d],channelCount:s,codec:"mp4a.40."+i,manifestCodec:c};{const t=new Error(`invalid ADTS sampling index:${d}`);e.emit(mn.ERROR,mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.FRAG_PARSING_ERROR,fatal:!0,error:t,reason:t.message})}}(t,n,r,i);if(!a)return;e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,_n.log(`parsed codec:${e.codec}, rate:${a.samplerate}, channels:${a.channelCount}`)}}function js(e){return 9216e4/e}function Ns(e,t,n,r,i){const a=r+i*js(e.samplerate),s=function(e,t){const n=Es(e,t);if(t+n<=e.length){const r=Ts(e,t)-n;if(r>0)return{headerLength:n,frameLength:r}}}(t,n);let o;if(s){const{frameLength:r,headerLength:i}=s,l=i+r,c=Math.max(0,n+l-t.length);c?(o=new Uint8Array(l-i),o.set(t.subarray(n+i,t.length),0)):o=t.subarray(n+i,n+l);const u={unit:o,pts:a};return c||e.samples.push(u),{sample:u,length:l,missing:c}}const l=t.length-n;o=new Uint8Array(l),o.set(t.subarray(n,t.length),0);return{sample:{unit:o,pts:a},length:l,missing:-1}}let Ls=null;const Rs=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Ps=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Is=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Ds=[0,1,1,4];function Os(e,t,n,r,i){if(n+24>t.length)return;const a=Ms(t,n);if(a&&n+a.frameLength<=t.length){const s=r+i*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:t.subarray(n,n+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(o),{sample:o,length:a.frameLength,missing:0}}}function Ms(e,t){const n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){const s=e[t+2]>>1&1,o=e[t+3]>>6,l=1e3*Rs[14*(3===n?3-r:3===r?3:4)+i-1],c=Ps[3*(3===n?0:2===n?1:2)+a],u=3===o?1:2,d=Is[n][r],h=Ds[r],f=8*d*h,p=Math.floor(d*l/c+s)*h;if(null===Ls){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ls=e?parseInt(e[1]):0}return!!Ls&&Ls<=87&&2===r&&l>=224e3&&0===o&&(e[t+3]=128|e[t+3]),{sampleRate:c,channelCount:u,frameLength:p,samplesPerFrame:f}}}function Fs(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function Us(e,t){return t+1<e.length&&Fs(e,t)}function $s(e,t){if(t+1<e.length&&Fs(e,t)){const n=4,r=Ms(e,t);let i=n;null!=r&&r.frameLength&&(i=r.frameLength);const a=t+i;return a===e.length||Us(e,a)}return!1}const Bs=/\/emsg[-/]ID3/i;const Gs=(e,t)=>{let n=0,r=5;t+=r;const i=new Uint32Array(1),a=new Uint32Array(1),s=new Uint8Array(1);for(;r>0;){s[0]=e[t];const o=Math.min(r,8),l=8-o;a[0]=4278190080>>>24+l<<l,i[0]=(s[0]&a[0])>>l,n=n?n<<o|i[0]:i[0],t+=1,r-=o}return n};class Hs extends Ss{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,n){const r=zs(e,t,n,this.basePTS,this.frameIndex);if(-1!==r){return{sample:e.samples[e.samples.length-1],length:r,missing:0}}}static probe(e){if(!e)return!1;const t=er(e,0);if(!t)return!1;const n=t.length;return 11===e[n]&&119===e[n+1]&&void 0!==rr(t)&&Gs(e,n)<16}}function zs(e,t,n,r,i){if(n+8>t.length)return-1;if(11!==t[n]||119!==t[n+1])return-1;const a=t[n+4]>>6;if(a>=3)return-1;const s=[48e3,44100,32e3][a],o=63&t[n+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*o+a];if(n+l>t.length)return-1;const c=t[n+6]>>5;let u=0;2===c?u+=2:(1&c&&1!==c&&(u+=2),4&c&&(u+=2));const d=(t[n+6]<<8|t[n+7])>>12-u&1,h=[2,1,2,3,3,4,4,5][c]+d,f=t[n+5]>>3,p=7&t[n+5],m=new Uint8Array([a<<6|f<<1|p>>2,(3&p)<<6|c<<3|d<<2|o>>4,o<<4&224]),g=r+i*(1536/s*9e4),v=t.subarray(n,n+l);return e.config=m,e.channelCount=h,e.samplerate=s,e.samples.push({unit:v,pts:g}),l}class Ys{constructor(){this.VideoSample=null}createVideoSample(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}getLastNalUnit(e){var t;let n,r=this.VideoSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!=(t=r)&&t.units){const e=r.units;n=e[e.length-1]}return n}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){const n=t.samples,r=n.length;if(!r)return void t.dropped++;{const t=n[r-1];e.pts=t.pts,e.dts=t.dts}}t.samples.push(e)}e.debug.length&&_n.log(e.pts+"/"+e.dts+":"+e.debug)}}class Ws{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}skipBits(e){let t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(t=(e-=this.bitsAvailable)>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const n=this.word>>>32-t;if(e>32&&_n.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let t,n=8,r=8;for(let i=0;i<e;i++)0!==r&&(t=this.readEG(),r=(n+t+256)%256),n=0===r?n:r}readSPS(){let e,t,n,r=0,i=0,a=0,s=0;const o=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),u=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);o();const m=o();if(l(5),d(3),o(),f(),100===m||110===m||122===m||244===m||44===m||83===m||86===m||118===m||128===m){const e=c();if(3===e&&d(1),f(),f(),d(1),u())for(t=3!==e?8:12,n=0;n<t;n++)u()&&p(n<6?16:64)}f();const g=c();if(0===g)c();else if(1===g)for(d(1),h(),h(),e=c(),n=0;n<e;n++)h();f(),d(1);const v=c(),y=c(),b=l(1);0===b&&d(1),d(1),u()&&(r=c(),i=c(),a=c(),s=c());let x=[1,1];if(u()&&u()){switch(o()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:x=[o()<<8|o(),o()<<8|o()]}}return{width:Math.ceil(16*(v+1)-2*r-2*i),height:(2-b)*(y+1)*16-(b?2:4)*(a+s),pixelRatio:x}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Vs extends Ys{parseAVCPES(e,t,n,r,i){const a=this.parseAVCNALu(e,n.data);let s,o=this.VideoSample,l=!1;n.data=null,o&&a.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),a.forEach((r=>{var a;switch(r.type){case 1:{let t=!1;s=!0;const i=r.data;if(l&&i.length>4){const e=new Ws(i).readSliceType();2!==e&&4!==e&&7!==e&&9!==e||(t=!0)}var c;if(t)null!=(c=o)&&c.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null);o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),o.frame=!0,o.key=t;break}case 5:s=!0,null!=(a=o)&&a.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),o.key=!0,o.frame=!0;break;case 6:s=!0,Mr(r.data,1,n.pts,t.samples);break;case 7:{var u,d;s=!0,l=!0;const t=r.data,n=new Ws(t).readSPS();if(!e.sps||e.width!==n.width||e.height!==n.height||(null==(u=e.pixelRatio)?void 0:u[0])!==n.pixelRatio[0]||(null==(d=e.pixelRatio)?void 0:d[1])!==n.pixelRatio[1]){e.width=n.width,e.height=n.height,e.pixelRatio=n.pixelRatio,e.sps=[t],e.duration=i;const r=t.subarray(1,4);let a="avc1.";for(let e=0;e<3;e++){let t=r[e].toString(16);t.length<2&&(t="0"+t),a+=t}e.codec=a}break}case 8:s=!0,e.pps=[r.data];break;case 9:s=!0,e.audFound=!0,o&&this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"");break;case 12:s=!0;break;default:s=!1,o&&(o.debug+="unknown NAL "+r.type+" ")}if(o&&s){o.units.push(r)}})),r&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}parseAVCNALu(e,t){const n=t.byteLength;let r=e.naluState||0;const i=r,a=[];let s,o,l,c=0,u=-1,d=0;for(-1===r&&(u=0,d=31&t[0],r=0,c=1);c<n;)if(s=t[c++],r)if(1!==r)if(s)if(1===s){if(o=c-r-1,u>=0){const e={data:t.subarray(u,o),type:d};a.push(e)}else{const n=this.getLastNalUnit(e.samples);n&&(i&&c<=4-i&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-i)),o>0&&(n.data=Ir(n.data,t.subarray(0,o)),n.state=0))}c<n?(l=31&t[c],u=c,d=l,r=0):r=-1}else r=0;else r=3;else r=s?0:2;else r=s?0:1;if(u>=0&&r>=0){const e={data:t.subarray(u,n),type:d,state:r};a.push(e)}if(0===a.length){const n=this.getLastNalUnit(e.samples);n&&(n.data=Ir(n.data,t))}return e.naluState=r,a}}class Ks{constructor(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new is(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,t,n){const r=e[t].unit;if(r.length<=16)return;const i=r.subarray(16,r.length-r.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(a).then((i=>{const a=new Uint8Array(i);r.set(a,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,n)}))}decryptAacSamples(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t);let r=0;for(let i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n}getAvcDecryptedUnit(e,t){const n=new Uint8Array(t);let r=0;for(let i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e}decryptAvcSample(e,t,n,r,i){const a=Fr(i.data),s=this.getAvcEncryptedData(a);this.decryptBuffer(s.buffer).then((s=>{i.data=this.getAvcDecryptedUnit(a,s),this.decrypter.isSync()||this.decryptAvcSamples(e,t,n+1,r)}))}decryptAvcSamples(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();const i=e[t].units;for(;!(n>=i.length);n++){const a=i[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type)&&(this.decryptAvcSample(e,t,n,r,a),!this.decrypter.isSync()))return}}}}const qs=188;class Xs{constructor(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.videoParser=new Vs}static probe(e){const t=Xs.syncOffset(e);return t>0&&_n.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),-1!==t}static syncOffset(e){const t=e.length;let n=Math.min(940,t-qs)+1,r=0;for(;r<n;){let i=!1,a=-1,s=0;for(let o=r;o<t;o+=qs){if(71!==e[o]||t-o!==qs&&71!==e[o+qs]){if(s)return-1;break}if(s++,-1===a&&(a=o,0!==a&&(n=Math.min(a+18612,e.length-qs)+1)),i||(i=0===Zs(e,o)),i&&s>1&&(0===a&&s>2||o+qs>n))return a}r++}return-1}static createTrack(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:yr[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}resetInitSegment(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Xs.createTrack("video"),this._audioTrack=Xs.createTrack("audio",r),this._id3Track=Xs.createTrack("id3"),this._txtTrack=Xs.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n,this._duration=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:n}=this;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r||(this.sampleAes=null);const a=this._videoTrack,s=this._audioTrack,o=this._id3Track,l=this._txtTrack;let c=a.pid,u=a.pesData,d=s.pid,h=o.pid,f=s.pesData,p=o.pesData,m=null,g=this.pmtParsed,v=this._pmtId,y=e.length;if(this.remainderData&&(y=(e=Ir(this.remainderData,e)).length,this.remainderData=null),y<qs&&!i)return this.remainderData=e,{audioTrack:s,videoTrack:a,id3Track:o,textTrack:l};const b=Math.max(0,Xs.syncOffset(e));y-=(y-b)%qs,y<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,y,e.buffer.byteLength-y));let x=0;for(let _=b;_<y;_+=qs)if(71===e[_]){const t=!!(64&e[_+1]),i=Zs(e,_);let y;if((48&e[_+3])>>4>1){if(y=_+5+e[_+4],y===_+qs)continue}else y=_+4;switch(i){case c:t&&(u&&(n=no(u))&&this.videoParser.parseAVCPES(a,l,n,!1,this._duration),u={data:[],size:0}),u&&(u.data.push(e.subarray(y,_+qs)),u.size+=_+qs-y);break;case d:if(t){if(f&&(n=no(f)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,n);break;case"mp3":this.parseMPEGPES(s,n);break;case"ac3":this.parseAC3PES(s,n)}f={data:[],size:0}}f&&(f.data.push(e.subarray(y,_+qs)),f.size+=_+qs-y);break;case h:t&&(p&&(n=no(p))&&this.parseID3PES(o,n),p={data:[],size:0}),p&&(p.data.push(e.subarray(y,_+qs)),p.size+=_+qs-y);break;case 0:t&&(y+=e[y]+1),v=this._pmtId=Qs(e,y);break;case v:{t&&(y+=e[y]+1);const n=Js(e,y,this.typeSupported,r,this.observer);c=n.videoPid,c>0&&(a.pid=c,a.segmentCodec=n.segmentVideoCodec),d=n.audioPid,d>0&&(s.pid=d,s.segmentCodec=n.segmentAudioCodec),h=n.id3Pid,h>0&&(o.pid=h),null===m||g||(_n.warn(`MPEG-TS PMT found at ${_} after unknown PID '${m}'. Backtracking to sync byte @${b} to parse all TS packets.`),m=null,_=b-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:m=i}}else x++;x>0&&eo(this.observer,new Error(`Found ${x} TS packet/s that do not start with 0x47`)),a.pesData=u,s.pesData=f,o.pesData=p;const S={audioTrack:s,videoTrack:a,id3Track:o,textTrack:l};return i&&this.extractRemainingSamples(S),S}flush(){const{remainderData:e}=this;let t;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:n,id3Track:r,textTrack:i}=e,a=n.pesData,s=t.pesData,o=r.pesData;let l;if(a&&(l=no(a))?(this.videoParser.parseAVCPES(n,i,l,!0,this._duration),n.pesData=null):n.pesData=a,s&&(l=no(s))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,l);break;case"mp3":this.parseMPEGPES(t,l);break;case"ac3":this.parseAC3PES(t,l)}t.pesData=null}else null!=s&&s.size&&_n.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=s;o&&(l=no(o))?(this.parseID3PES(r,l),r.pesData=null):r.pesData=o}demuxSampleAes(e,t,n){const r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new Ks(this.observer,this.config,t);return this.decrypt(r,i)}decrypt(e,t){return new Promise((n=>{const{audioTrack:r,videoTrack:i}=e;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(()=>{i.samples?t.decryptAvcSamples(i.samples,0,0,(()=>{n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(()=>{n(e)}))}))}destroy(){this._duration=0}parseAACPES(e,t){let n=0;const r=this.aacOverFlow;let i,a,s,o=t.data;if(r){this.aacOverFlow=null;const t=r.missing,i=r.sample.unit.byteLength;if(-1===t)o=Ir(r.sample.unit,o);else{const a=i-t;r.sample.unit.set(o.subarray(0,t),a),e.samples.push(r.sample),n=r.missing}}for(i=n,a=o.length;i<a-1&&!Cs(o,i);i++);if(i!==n){let e;const t=i<a-1;if(e=t?`AAC PES did not start with ADTS header,offset:${i}`:"No ADTS header found in AAC PES",eo(this.observer,new Error(e),t),!t)return}if(As(e,this.observer,o,i,this.audioCodec),void 0!==t.pts)s=t.pts;else{if(!r)return void _n.warn("[tsdemuxer]: AAC PES unknown PTS");{const t=js(e.samplerate);s=r.sample.pts+t}}let l,c=0;for(;i<a;){if(l=Ns(e,o,i,s,c),i+=l.length,l.missing){this.aacOverFlow=l;break}for(c++;i<a-1&&!Cs(o,i);i++);}}parseMPEGPES(e,t){const n=t.data,r=n.length;let i=0,a=0;const s=t.pts;if(void 0!==s)for(;a<r;)if(Us(n,a)){const t=Os(e,n,a,s,i);if(!t)break;a+=t.length,i++}else a++;else _n.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(e,t){{const n=t.data,r=t.pts;if(void 0===r)return void _n.warn("[tsdemuxer]: AC3 PES unknown PTS");const i=n.length;let a,s=0,o=0;for(;o<i&&(a=zs(e,n,o,r,s++))>0;)o+=a}}parseID3PES(e,t){if(void 0===t.pts)return void _n.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=dn({},t,{type:this._videoTrack?Di:Pi,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function Zs(e,t){return((31&e[t+1])<<8)+e[t+2]}function Qs(e,t){return(31&e[t+10])<<8|e[t+11]}function Js(e,t,n,r,i){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},s=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<s;){const s=Zs(e,t),o=(15&e[t+3])<<8|e[t+4];switch(e[t]){case 207:if(!r){to("ADTS AAC");break}case 15:-1===a.audioPid&&(a.audioPid=s);break;case 21:-1===a.id3Pid&&(a.id3Pid=s);break;case 219:if(!r){to("H.264");break}case 27:-1===a.videoPid&&(a.videoPid=s,a.segmentVideoCodec="avc");break;case 3:case 4:n.mpeg||n.mp3?-1===a.audioPid&&(a.audioPid=s,a.segmentAudioCodec="mp3"):_n.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){to("AC-3");break}case 129:n.ac3?-1===a.audioPid&&(a.audioPid=s,a.segmentAudioCodec="ac3"):_n.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===a.audioPid&&o>0){let r=t+5,i=o;for(;i>2;){if(106===e[r])!0!==n.ac3?_n.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=s,a.segmentAudioCodec="ac3");const t=e[r+1]+2;r+=t,i-=t}}break;case 194:case 135:return eo(i,new Error("Unsupported EC-3 in M2TS found")),a;case 36:return eo(i,new Error("Unsupported HEVC in M2TS found")),a}t+=o+5}return a}function eo(e,t,n){_n.warn(`parsing error: ${t.message}`),e.emit(mn.ERROR,mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:t,reason:t.message})}function to(e){_n.log(`${e} with AES-128-CBC encryption found in unencrypted stream`)}function no(e){let t,n,r,i,a,s=0;const o=e.data;if(!e||0===e.size)return null;for(;o[0].length<19&&o.length>1;)o[0]=Ir(o[0],o[1]),o.splice(1,1);t=o[0];if(1===(t[0]<<16)+(t[1]<<8)+t[2]){if(n=(t[4]<<8)+t[5],n&&n>e.size-6)return null;const l=t[7];192&l&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,i-a>54e5&&(_n.warn(`${Math.round((i-a)/9e4)}s delta between PTS and DTS, align them`),i=a)):a=i),r=t[8];let c=r+9;if(e.size<=c)return null;e.size-=c;const u=new Uint8Array(e.size);for(let e=0,n=o.length;e<n;e++){t=o[e];let n=t.byteLength;if(c){if(c>n){c-=n;continue}t=t.subarray(c),n-=c,c=0}u.set(t,s),s+=n}return n&&(n-=r+3),{data:u,pts:i,dts:a,len:n}}return null}class ro{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const io=Math.pow(2,32)-1;class ao{static init(){let e;for(e in ao.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},ao.types)ao.types.hasOwnProperty(e)&&(ao.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);ao.HDLR_TYPES={video:t,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);ao.STTS=ao.STSC=ao.STCO=i,ao.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ao.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),ao.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ao.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),o=new Uint8Array([0,0,0,1]);ao.FTYP=ao.box(ao.types.ftyp,a,o,a,s),ao.DINF=ao.box(ao.types.dinf,ao.box(ao.types.dref,r))}static box(e){let t=8;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];let a=r.length;const s=a;for(;a--;)t+=r[a].byteLength;const o=new Uint8Array(t);for(o[0]=t>>24&255,o[1]=t>>16&255,o[2]=t>>8&255,o[3]=255&t,o.set(e,4),a=0,t=8;a<s;a++)o.set(r[a],t),t+=r[a].byteLength;return o}static hdlr(e){return ao.box(ao.types.hdlr,ao.HDLR_TYPES[e])}static mdat(e){return ao.box(ao.types.mdat,e)}static mdhd(e,t){t*=e;const n=Math.floor(t/(io+1)),r=Math.floor(t%(io+1));return ao.box(ao.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}static mdia(e){return ao.box(ao.types.mdia,ao.mdhd(e.timescale,e.duration),ao.hdlr(e.type),ao.minf(e))}static mfhd(e){return ao.box(ao.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return"audio"===e.type?ao.box(ao.types.minf,ao.box(ao.types.smhd,ao.SMHD),ao.DINF,ao.stbl(e)):ao.box(ao.types.minf,ao.box(ao.types.vmhd,ao.VMHD),ao.DINF,ao.stbl(e))}static moof(e,t,n){return ao.box(ao.types.moof,ao.mfhd(e),ao.traf(n,t))}static moov(e){let t=e.length;const n=[];for(;t--;)n[t]=ao.trak(e[t]);return ao.box.apply(null,[ao.types.moov,ao.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(ao.mvex(e)))}static mvex(e){let t=e.length;const n=[];for(;t--;)n[t]=ao.trex(e[t]);return ao.box.apply(null,[ao.types.mvex,...n])}static mvhd(e,t){t*=e;const n=Math.floor(t/(io+1)),r=Math.floor(t%(io+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return ao.box(ao.types.mvhd,i)}static sdtp(e){const t=e.samples||[],n=new Uint8Array(4+t.length);let r,i;for(r=0;r<t.length;r++)i=t[r].flags,n[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return ao.box(ao.types.sdtp,n)}static stbl(e){return ao.box(ao.types.stbl,ao.stsd(e),ao.box(ao.types.stts,ao.STTS),ao.box(ao.types.stsc,ao.STSC),ao.box(ao.types.stsz,ao.STSZ),ao.box(ao.types.stco,ao.STCO))}static avc1(e){let t,n,r,i=[],a=[];for(t=0;t<e.sps.length;t++)n=e.sps[t],r=n.byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(t=0;t<e.pps.length;t++)n=e.pps[t],r=n.byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(n));const s=ao.box(ao.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(a))),o=e.width,l=e.height,c=e.pixelRatio[0],u=e.pixelRatio[1];return ao.box(ao.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o>>8&255,255&o,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,ao.box(ao.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),ao.box(ao.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))}static esds(e){const t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0])}static mp4a(e){return ao.box(ao.types.mp4a,ao.audioStsd(e),ao.box(ao.types.esds,ao.esds(e)))}static mp3(e){return ao.box(ao.types[".mp3"],ao.audioStsd(e))}static ac3(e){return ao.box(ao.types["ac-3"],ao.audioStsd(e),ao.box(ao.types.dac3,e.config))}static stsd(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?ao.box(ao.types.stsd,ao.STSD,ao.mp3(e)):"ac3"===e.segmentCodec?ao.box(ao.types.stsd,ao.STSD,ao.ac3(e)):ao.box(ao.types.stsd,ao.STSD,ao.mp4a(e)):ao.box(ao.types.stsd,ao.STSD,ao.avc1(e))}static tkhd(e){const t=e.id,n=e.duration*e.timescale,r=e.width,i=e.height,a=Math.floor(n/(io+1)),s=Math.floor(n%(io+1));return ao.box(ao.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))}static traf(e,t){const n=ao.sdtp(e),r=e.id,i=Math.floor(t/(io+1)),a=Math.floor(t%(io+1));return ao.box(ao.types.traf,ao.box(ao.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),ao.box(ao.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a])),ao.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,ao.box(ao.types.trak,ao.tkhd(e),ao.mdia(e))}static trex(e){const t=e.id;return ao.box(ao.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const n=e.samples||[],r=n.length,i=12+16*r,a=new Uint8Array(i);let s,o,l,c,u,d;for(t+=8+i,a.set(["video"===e.type?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0),s=0;s<r;s++)o=n[s],l=o.duration,c=o.size,u=o.flags,d=o.cts,a.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s);return ao.box(ao.types.trun,a)}static initSegment(e){ao.types||ao.init();const t=ao.moov(e);return Ir(ao.FTYP,t)}}ao.types=void 0,ao.HDLR_TYPES=void 0,ao.STTS=void 0,ao.STSC=void 0,ao.STCO=void 0,ao.STSZ=void 0,ao.VMHD=void 0,ao.SMHD=void 0,ao.STSD=void 0,ao.FTYP=void 0,ao.DINF=void 0;const so=9e4;function oo(e,t){const n=e*t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?Math.round(n):n}function lo(e){return oo(e,1e3,1/so,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}let co,uo=null,ho=null;class fo{constructor(e,t,n){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===uo){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);uo=e?parseInt(e[1]):0}if(null===ho){const e=navigator.userAgent.match(/Safari\/(\d+)/i);ho=e?parseInt(e[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){_n.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){_n.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){_n.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const n=e.reduce(((e,n)=>{const r=n.pts-e;return r<-4294967296?(t=!0,po(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&_n.debug("PTS rollover detected"),n}remux(e,t,n,r,i,a,s,o){let l,c,u,d,h,f,p=i,m=i;const g=e.pid>-1,v=t.pid>-1,y=t.samples.length,b=e.samples.length>0,x=s&&y>0||y>1;if((!g||b)&&(!v||x)||this.ISGenerated||s){if(this.ISGenerated){var S,_,w,E;const e=this.videoTrackConfig;!e||t.width===e.width&&t.height===e.height&&(null==(S=t.pixelRatio)?void 0:S[0])===(null==(_=e.pixelRatio)?void 0:_[0])&&(null==(w=t.pixelRatio)?void 0:w[1])===(null==(E=e.pixelRatio)?void 0:E[1])||this.resetInitSegment()}else u=this.generateIS(e,t,i,a);const n=this.isVideoContiguous;let r,s=-1;if(x&&(s=function(e){for(let t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,s>0){_n.warn(`[mp4-remuxer]: Dropped ${s} out of ${y} video samples due to a missing keyframe`);const e=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(s),t.dropped+=s,m+=(t.samples[0].pts-e)/t.inputTimeScale,r=m}else-1===s&&(_n.warn(`[mp4-remuxer]: No keyframe found out of ${y} video samples`),f=!1);if(this.ISGenerated){if(b&&x){const n=this.getVideoStartPts(t.samples),r=(po(e.samples[0].pts,n)-n)/t.inputTimeScale;p+=Math.max(0,r),m+=Math.max(0,-r)}if(b){if(e.samplerate||(_n.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(e,t,i,a)),c=this.remuxAudio(e,p,this.isAudioContiguous,a,v||x||o===wi?m:void 0),x){const r=c?c.endPTS-c.startPTS:0;t.inputTimeScale||(_n.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(e,t,i,a)),l=this.remuxVideo(t,m,n,r)}}else x&&(l=this.remuxVideo(t,m,n,0));l&&(l.firstKeyFrame=s,l.independent=-1!==s,l.firstKeyFramePTS=r)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=mo(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=go(r,i,this._initPTS))),{audio:c,video:l,initSegment:u,independent:f,text:d,id3:h}}generateIS(e,t,n,r){const i=e.samples,a=t.samples,s=this.typeSupported,o={},l=this._initPTS;let c,u,d,h=!l||r,f="audio/mp4";if(h&&(c=u=1/0),e.config&&i.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":s.mpeg?(f="audio/mpeg",e.codec=""):s.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3"}o.audio={id:"audio",container:f,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&s.mpeg?new Uint8Array(0):ao.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(d=e.inputTimeScale,l&&d===l.timescale?h=!1:c=u=i[0].pts-Math.round(d*n))}if(t.sps&&t.pps&&a.length){if(t.timescale=t.inputTimeScale,o.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:ao.initSegment([t]),metadata:{width:t.width,height:t.height}},h)if(d=t.inputTimeScale,l&&d===l.timescale)h=!1;else{const e=this.getVideoStartPts(a),t=Math.round(d*n);u=Math.min(u,po(a[0].dts,e)-t),c=Math.min(c,e-t)}this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(o).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:c,timescale:d},this._initDTS={baseTime:u,timescale:d}):c=d=void 0,{tracks:o,initPTS:c,timescale:d}}remuxVideo(e,t,n,r){const i=e.inputTimeScale,a=e.samples,s=[],o=a.length,l=this._initPTS;let c,u,d=this.nextAvcDts,h=8,f=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=!1;if(!n||null===d){const e=t*i,r=a[0].pts-po(a[0].dts,a[0].pts);uo&&null!==d&&Math.abs(e-r-d)<15e3?n=!0:d=e-r}const v=l.baseTime*i/l.timescale;for(let P=0;P<o;P++){const e=a[P];e.pts=po(e.pts-v,d),e.dts=po(e.dts-v,d),e.dts<a[P>0?P-1:P].dts&&(g=!0)}g&&a.sort((function(e,t){const n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),c=a[0].dts,u=a[a.length-1].dts;const y=u-c,b=y?Math.round(y/(o-1)):f||e.inputTimeScale/30;if(n){const e=c-d,n=e>b,r=e<-1;if((n||r)&&(n?_n.warn(`AVC: ${lo(e,!0)} ms (${e}dts) hole between fragments detected at ${t.toFixed(3)}`):_n.warn(`AVC: ${lo(-e,!0)} ms (${e}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!r||d>=a[0].pts||uo)){c=d;const t=a[0].pts-e;if(n)a[0].dts=c,a[0].pts=t;else for(let n=0;n<a.length&&!(a[n].dts>t);n++)a[n].dts-=e,a[n].pts-=e;_n.log(`Video: Initial PTS/DTS adjusted: ${lo(t,!0)}/${lo(c,!0)}, delta: ${lo(e,!0)} ms`)}}c=Math.max(0,c);let x=0,S=0,_=c;for(let P=0;P<o;P++){const e=a[P],t=e.units,n=t.length;let r=0;for(let i=0;i<n;i++)r+=t[i].data.length;S+=r,x+=n,e.length=r,e.dts<_?(e.dts=_,_+=b/4|0||1):_=e.dts,p=Math.min(e.pts,p),m=Math.max(e.pts,m)}u=a[o-1].dts;const w=S+4*x+8;let E;try{E=new Uint8Array(w)}catch(R){return void this.observer.emit(mn.ERROR,mn.ERROR,{type:gn.MUX_ERROR,details:vn.REMUX_ALLOC_ERROR,fatal:!1,error:R,bytes:w,reason:`fail allocating video mdat ${w}`})}const T=new DataView(E.buffer);T.setUint32(0,w),E.set(ao.types.mdat,4);let C=!1,k=Number.POSITIVE_INFINITY,A=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,N=Number.NEGATIVE_INFINITY;for(let P=0;P<o;P++){const e=a[P],t=e.units;let n,l=0;for(let r=0,i=t.length;r<i;r++){const e=t[r],n=e.data,i=e.data.byteLength;T.setUint32(h,i),h+=4,E.set(n,h),h+=i,l+=4+i}if(P<o-1)f=a[P+1].dts-e.dts,n=a[P+1].pts-e.pts;else{const t=this.config,s=P>0?e.dts-a[P-1].dts:b;if(n=P>0?e.pts-a[P-1].pts:b,t.stretchShortVideoTrack&&null!==this.nextAudioPts){const n=Math.floor(t.maxBufferHole*i),a=(r?p+r*i:this.nextAudioPts)-e.pts;a>n?(f=a-s,f<0?f=s:C=!0,_n.log(`[mp4-remuxer]: It is approximately ${a/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=s}else f=s}const c=Math.round(e.pts-e.dts);k=Math.min(k,f),j=Math.max(j,f),A=Math.min(A,n),N=Math.max(N,n),s.push(new vo(e.key,f,l,c))}if(s.length)if(uo){if(uo<70){const e=s[0].flags;e.dependsOn=2,e.isNonSync=0}}else if(ho&&N-A<j-k&&b/j<.025&&0===s[0].cts){_n.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let e=c;for(let t=0,n=s.length;t<n;t++){const r=e+s[t].duration,i=e+s[t].cts;if(t<n-1){const e=r+s[t+1].cts;s[t].duration=e-i}else s[t].duration=t?s[t-1].duration:b;s[t].cts=0,e=r}}f=C||!f?b:f,this.nextAvcDts=d=u+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const L={data1:ao.moof(e.sequenceNumber++,c,dn({},e,{samples:s})),data2:E,startPTS:p/i,endPTS:(m+f)/i,startDTS:c/i,endDTS:d/i,type:"video",hasAudio:!1,hasVideo:!0,nb:s.length,dropped:e.dropped};return e.samples=[],e.dropped=0,L}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(e,t,n,r,i){const a=e.inputTimeScale,s=a/(e.samplerate?e.samplerate:a),o=this.getSamplesPerFrame(e),l=o*s,c=this._initPTS,u="mp3"===e.segmentCodec&&this.typeSupported.mpeg,d=[],h=void 0!==i;let f=e.samples,p=u?0:8,m=this.nextAudioPts||-1;const g=t*a,v=c.baseTime*a/c.timescale;if(this.isAudioContiguous=n=n||f.length&&m>0&&(r&&Math.abs(g-m)<9e3||Math.abs(po(f[0].pts-v,g)-m)<20*l),f.forEach((function(e){e.pts=po(e.pts-v,g)})),!n||m<0){if(f=f.filter((e=>e.pts>=0)),!f.length)return;m=0===i?0:r&&!h?Math.max(0,g):f[0].pts}if("aac"===e.segmentCodec){const t=this.config.maxAudioFramesDrift;for(let n=0,r=m;n<f.length;n++){const i=f[n],s=i.pts,o=s-r,c=Math.abs(1e3*o/a);if(o<=-t*l&&h)0===n&&(_n.warn(`Audio frame @ ${(s/a).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*o/a)} ms.`),this.nextAudioPts=m=r=s);else if(o>=t*l&&c<1e4&&h){let t=Math.round(o/l);r=s-t*l,r<0&&(t--,r+=l),0===n&&(this.nextAudioPts=m=r),_n.warn(`[mp4-remuxer]: Injecting ${t} audio frame @ ${(r/a).toFixed(3)}s due to ${Math.round(1e3*o/a)} ms gap.`);for(let a=0;a<t;a++){const t=Math.max(r,0);let a=ro.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);a||(_n.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),a=i.unit.subarray()),f.splice(n,0,{unit:a,pts:t}),r+=l,n++}}i.pts=r,r+=l}}let y,b=null,x=null,S=0,_=f.length;for(;_--;)S+=f[_].unit.byteLength;for(let N=0,L=f.length;N<L;N++){const t=f[N],r=t.unit;let i=t.pts;if(null!==x){d[N-1].duration=Math.round((i-x)/s)}else{if(n&&"aac"===e.segmentCodec&&(i=m),b=i,!(S>0))return;S+=p;try{y=new Uint8Array(S)}catch(j){return void this.observer.emit(mn.ERROR,mn.ERROR,{type:gn.MUX_ERROR,details:vn.REMUX_ALLOC_ERROR,fatal:!1,error:j,bytes:S,reason:`fail allocating audio mdat ${S}`})}if(!u){new DataView(y.buffer).setUint32(0,S),y.set(ao.types.mdat,4)}}y.set(r,p);const a=r.byteLength;p+=a,d.push(new vo(!0,o,a,0)),x=i}const w=d.length;if(!w)return;const E=d[d.length-1];this.nextAudioPts=m=x+s*E.duration;const T=u?new Uint8Array(0):ao.moof(e.sequenceNumber++,b/s,dn({},e,{samples:d}));e.samples=[];const C=b/a,k=m/a,A={data1:T,data2:y,startPTS:C,endPTS:k,startDTS:C,endDTS:k,type:"audio",hasAudio:!0,hasVideo:!1,nb:w};return this.isAudioContiguous=!0,A}remuxEmptyAudio(e,t,n,r){const i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),s=this.nextAudioPts,o=this._initDTS,l=9e4*o.baseTime/o.timescale,c=(null!==s?s:r.startDTS*i)+l,u=r.endDTS*i+l,d=1024*a,h=Math.ceil((u-c)/d),f=ro.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(_n.warn("[mp4-remuxer]: remux empty Audio"),!f)return void _n.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const p=[];for(let m=0;m<h;m++){const e=c+m*d;p.push({unit:f,pts:e,dts:e})}return e.samples=p,this.remuxAudio(e,t,n,!1)}}function po(e,t){let n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}function mo(e,t,n,r){const i=e.samples.length;if(!i)return;const a=e.inputTimeScale;for(let o=0;o<i;o++){const i=e.samples[o];i.pts=po(i.pts-n.baseTime*a/n.timescale,t*a)/a,i.dts=po(i.dts-r.baseTime*a/r.timescale,t*a)/a}const s=e.samples;return e.samples=[],{samples:s}}function go(e,t,n){const r=e.samples.length;if(!r)return;const i=e.inputTimeScale;for(let s=0;s<r;s++){const r=e.samples[s];r.pts=po(r.pts-n.baseTime*i/n.timescale,t*i)/i}e.samples.sort(((e,t)=>e.pts-t.pts));const a=e.samples;return e.samples=[],{samples:a}}class vo{constructor(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}function yo(e,t){const n=null==e?void 0:e.codec;if(n&&n.length>4)return n;if(t===jn){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n){return ri(n,!1)}const e="mp4a.40.5";return _n.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${e}"`),e}return _n.warn(`Unhandled video codec "${n}"`),"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1.42e01e"}try{co=self.performance.now.bind(self.performance)}catch(Cm){_n.debug("Unable to use Performance API on this environment"),co=null==Un?void 0:Un.Date.now}const bo=[{demux:class{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,n,r){const i=this.videoTrack=xs("video",1),a=this.audioTrack=xs("audio",1),s=this.txtTrack=xs("text",1);if(this.id3Track=xs("id3",1),this.timeOffset=0,null==e||!e.byteLength)return;const o=kr(e);if(o.video){const{id:e,timescale:t,codec:n}=o.video;i.id=e,i.timescale=s.timescale=t,i.codec=n}if(o.audio){const{id:e,timescale:t,codec:n}=o.audio;a.id=e,a.timescale=t,a.codec=n}s.id=yr.text,i.sampleDuration=0,i.duration=a.duration=r}resetContiguity(){this.remainderData=null}static probe(e){return function(e){const t=e.byteLength;for(let n=0;n<t;){const r=Sr(e,n);if(r>8&&109===e[n+4]&&111===e[n+5]&&111===e[n+6]&&102===e[n+7])return!0;n=r>1?n+r:t}return!1}(e)}demux(e,t){this.timeOffset=t;let n=e;const r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Ir(this.remainderData,e));const t=function(e){const t={valid:null,remainder:null},n=Tr(e,["moof"]);if(n.length<2)return t.remainder=e,t;const r=n[n.length-1];return t.valid=Zn(e,0,r.byteOffset-8),t.remainder=Zn(e,r.byteOffset-8),t}(n);this.remainderData=t.remainder,r.samples=t.valid||new Uint8Array}else r.samples=n;const a=this.extractID3Track(r,t);return i.samples=Dr(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(t,this.timeOffset);return n.samples=Dr(e,t),{videoTrack:t,audioTrack:xs(),id3Track:r,textTrack:xs()}}extractID3Track(e,t){const n=this.id3Track;if(e.samples.length){const r=Tr(e.samples,["emsg"]);r&&r.forEach((e=>{const r=function(e){const t=e[0];let n="",r="",i=0,a=0,s=0,o=0,l=0,c=0;if(0===t){for(;"\0"!==br(e.subarray(c,c+1));)n+=br(e.subarray(c,c+1)),c+=1;for(n+=br(e.subarray(c,c+1)),c+=1;"\0"!==br(e.subarray(c,c+1));)r+=br(e.subarray(c,c+1)),c+=1;r+=br(e.subarray(c,c+1)),c+=1,i=Sr(e,12),a=Sr(e,16),o=Sr(e,20),l=Sr(e,24),c=28}else if(1===t){c+=4,i=Sr(e,c),c+=4;const t=Sr(e,c);c+=4;const a=Sr(e,c);for(c+=4,s=2**32*t+a,fn(s)||(s=Number.MAX_SAFE_INTEGER,_n.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=Sr(e,c),c+=4,l=Sr(e,c),c+=4;"\0"!==br(e.subarray(c,c+1));)n+=br(e.subarray(c,c+1)),c+=1;for(n+=br(e.subarray(c,c+1)),c+=1;"\0"!==br(e.subarray(c,c+1));)r+=br(e.subarray(c,c+1)),c+=1;r+=br(e.subarray(c,c+1)),c+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:e.subarray(c,e.byteLength)}}(e);if(Bs.test(r.schemeIdUri)){const e=hn(r.presentationTime)?r.presentationTime/r.timeScale:t+r.presentationTimeDelta/r.timeScale;let i=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;i<=.001&&(i=Number.POSITIVE_INFINITY);const a=r.payload;n.samples.push({data:a,len:a.byteLength,dts:e,pts:e,type:Di,duration:i})}}))}return n}demuxSampleAes(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,n,r){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(function(e,t){if(!e||!t)return e;const n=t.keyId;n&&t.isCommonEncryption&&Tr(e,["moov","trak"]).forEach((e=>{const t=Tr(e,["mdia","minf","stbl","stsd"])[0].subarray(8);let r=Tr(t,["enca"]);const i=r.length>0;i||(r=Tr(t,["encv"])),r.forEach((e=>{Tr(i?e.subarray(28):e.subarray(78),["sinf"]).forEach((e=>{const t=Rr(e);if(t){const e=t.subarray(8,24);e.some((e=>0!==e))||(_n.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${mr(e)} -> ${mr(n)}`),t.set(n,8))}}))}))}));return e}(e,r)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:n}=this;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const r=this.initData=kr(e);r.audio&&(t=yo(r.audio,jn)),r.video&&(n=yo(r.video,Nn));const i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:_n.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(e,t,n,r,i,a){var s,o;let{initPTS:l,lastEndTime:c}=this;const u={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};hn(c)||(c=this.lastEndTime=i||0);const d=t.samples;if(null==d||!d.length)return u;const h={initPTS:void 0,timescale:1};let f=this.initData;if(null!=(s=f)&&s.length||(this.generateInitSegment(d),f=this.initData),null==(o=f)||!o.length)return _n.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const p=function(e,t){let n=0,r=0,i=0;const a=Tr(e,["moof","traf"]);for(let s=0;s<a.length;s++){const e=a[s],o=Tr(e,["tfhd"])[0],l=t[Sr(o,4)];if(!l)continue;const c=l.default,u=Sr(o,0)|(null==c?void 0:c.flags);let d=null==c?void 0:c.duration;8&u&&(d=Sr(o,2&u?12:8));const h=l.timescale||9e4,f=Tr(e,["trun"]);for(let t=0;t<f.length;t++)n=Pr(f[t]),!n&&d&&(n=d*Sr(f[t],4)),l.type===Nn?r+=n/h:l.type===jn&&(i+=n/h)}if(0===r&&0===i){let t=1/0,n=0,r=0;const i=Tr(e,["sidx"]);for(let e=0;e<i.length;e++){const a=Cr(i[e]);if(null!=a&&a.references){t=Math.min(t,a.earliestPresentationTime/a.timescale);const e=a.references.reduce(((e,t)=>e+t.info.duration||0),0);n=Math.max(n,e+a.earliestPresentationTime/a.timescale),r=n-t}}if(r&&hn(r))return r}return r||i}(d,f),m=function(e,t){return Tr(t,["moof","traf"]).reduce(((t,n)=>{const r=Tr(n,["tfdt"])[0],i=r[0],a=Tr(n,["tfhd"]).reduce(((t,n)=>{const a=Sr(n,4),s=e[a];if(s){let e=Sr(r,4);if(1===i){if(e===gr)return _n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;e*=gr+1,e+=Sr(r,8)}const n=e/(s.timescale||9e4);if(hn(n)&&(null===t||n<t))return n}return t}),null);return null!==a&&hn(a)&&(null===t||a<t)?a:t}),null)}(f,d),g=null===m?i:m;(function(e,t,n,r){if(null===e)return!0;const i=Math.max(r,1),a=t-e.baseTime/e.timescale;return Math.abs(a-n)>i}(l,g,i,p)||h.timescale!==l.timescale&&a)&&(h.initPTS=g-i,l&&1===l.timescale&&_n.warn("Adjusting initPTS by "+(h.initPTS-l.baseTime)),this.initPTS=l={baseTime:h.initPTS,timescale:1});const v=e?g-l.baseTime/l.timescale:c,y=v+p;!function(e,t,n){Tr(t,["moof","traf"]).forEach((t=>{Tr(t,["tfhd"]).forEach((r=>{const i=Sr(r,4),a=e[i];if(!a)return;const s=a.timescale||9e4;Tr(t,["tfdt"]).forEach((e=>{const t=e[0],r=n*s;if(r){let n=Sr(e,4);if(0===t)n-=r,n=Math.max(n,0),Er(e,4,n);else{n*=Math.pow(2,32),n+=Sr(e,8),n-=r,n=Math.max(n,0);const t=Math.floor(n/(gr+1)),i=Math.floor(n%(gr+1));Er(e,4,t),Er(e,8,i)}}}))}))}))}(f,d,l.baseTime/l.timescale),p>0?this.lastEndTime=y:(_n.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const b=!!f.audio,x=!!f.video;let S="";b&&(S+="audio"),x&&(S+="video");const _={data1:d,startPTS:v,startDTS:v,endPTS:y,endDTS:y,type:S,hasAudio:b,hasVideo:x,nb:1,dropped:0};return u.audio="audio"===_.type?_:void 0,u.video="audio"!==_.type?_:void 0,u.initSegment=h,u.id3=mo(n,i,l,l),r.samples.length&&(u.text=go(r,i,l)),u}}},{demux:Xs,remux:fo},{demux:class extends Ss{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=er(e,0);let n=(null==t?void 0:t.length)||0;if($s(e,n))return!1;for(let r=e.length;n<r;n++)if(ks(e,n))return _n.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&ws(e,t)&&Ts(e,t)<=e.length-t}(e,t)}appendFrame(e,t,n){As(e,this.observer,t,n,e.manifestCodec);const r=Ns(e,t,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}},remux:fo},{demux:class extends Ss{resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=er(e,0);let n=(null==t?void 0:t.length)||0;if(t&&11===e[n]&&119===e[n+1]&&void 0!==rr(t)&&Gs(e,n)<=16)return!1;for(let r=e.length;n<r;n++)if($s(e,n))return _n.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return Fs(e,t)&&4<=e.length-t}(e,t)}appendFrame(e,t,n){if(null!==this.basePTS)return Os(e,t,n,this.basePTS,this.frameIndex)}},remux:fo}];bo.splice(2,0,{demux:Hs,remux:fo});class xo{constructor(e,t,n,r,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,n,r){const i=n.transmuxing;i.executeStart=co();let a=new Uint8Array(e);const{currentTransmuxState:s,transmuxConfig:o}=this;r&&(this.currentTransmuxState=r);const{contiguous:l,discontinuity:c,trackSwitch:u,accurateTimeOffset:d,timeOffset:h,initSegmentChange:f}=r||s,{audioCodec:p,videoCodec:m,defaultInitPts:g,duration:v,initSegmentData:y}=o,b=function(e,t){let n=null;e.byteLength>0&&null!=(null==t?void 0:t.key)&&null!==t.iv&&null!=t.method&&(n=t);return n}(a,t);if(b&&"AES-128"===b.method){const e=this.getDecrypter();if(!e.isSync())return this.decryptionPromise=e.webCryptoDecrypt(a,b.key.buffer,b.iv.buffer).then((e=>{const t=this.push(e,null,n);return this.decryptionPromise=null,t})),this.decryptionPromise;{let t=e.softwareDecrypt(a,b.key.buffer,b.iv.buffer);if(n.part>-1&&(t=e.flush()),!t)return i.executeEnd=co(),So(n);a=new Uint8Array(t)}}const x=this.needsProbing(c,u);if(x){const e=this.configureTransmuxer(a);if(e)return _n.warn(`[transmuxer] ${e.message}`),this.observer.emit(mn.ERROR,mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.FRAG_PARSING_ERROR,fatal:!1,error:e,reason:e.message}),i.executeEnd=co(),So(n)}(c||u||f||x)&&this.resetInitSegment(y,p,m,v,t),(c||f||x)&&this.resetInitialTimestamp(g),l||this.resetContiguity();const S=this.transmux(a,b,h,d,n),_=this.currentTransmuxState;return _.contiguous=!0,_.discontinuity=!1,_.trackSwitch=!1,i.executeEnd=co(),S}flush(e){const t=e.transmuxing;t.executeStart=co();const{decrypter:n,currentTransmuxState:r,decryptionPromise:i}=this;if(i)return i.then((()=>this.flush(e)));const a=[],{timeOffset:s}=r;if(n){const t=n.flush();t&&a.push(this.push(t,null,e))}const{demuxer:o,remuxer:l}=this;if(!o||!l)return t.executeEnd=co(),[So(e)];const c=o.flush(s);return _o(c)?c.then((t=>(this.flushRemux(a,t,e),a))):(this.flushRemux(a,c,e),a)}flushRemux(e,t,n){const{audioTrack:r,videoTrack:i,id3Track:a,textTrack:s}=t,{accurateTimeOffset:o,timeOffset:l}=this.currentTransmuxState;_n.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const c=this.remuxer.remux(r,i,a,s,l,o,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=co()}resetInitialTimestamp(e){const{demuxer:t,remuxer:n}=this;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,n,r,i){const{demuxer:a,remuxer:s}=this;a&&s&&(a.resetInitSegment(e,t,n,r),s.resetInitSegment(e,t,n,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,n,r,i){let a;return a=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i),a}transmuxUnencrypted(e,t,n,r){const{audioTrack:i,videoTrack:a,id3Track:s,textTrack:o}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,a,s,o,t,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(e,t,n,r,i){return this.demuxer.demuxSampleAes(e,t,n).then((e=>({remuxResult:this.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,n,r,!1,this.id),chunkMeta:i})))}configureTransmuxer(e){const{config:t,observer:n,typeSupported:r,vendor:i}=this;let a;for(let d=0,h=bo.length;d<h;d++){var s;if(null!=(s=bo[d].demux)&&s.probe(e)){a=bo[d];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,l=this.remuxer,c=a.remux,u=a.demux;l&&l instanceof c||(this.remuxer=new c(n,t,r,i)),o&&o instanceof u||(this.demuxer=new u(n,t,r),this.probe=u.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new is(this.config)),e}}const So=e=>({remuxResult:{},chunkMeta:e});function _o(e){return"then"in e&&e.then instanceof Function}class wo{constructor(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i||null}}class Eo{constructor(e,t,n,r,i,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=a}}var To={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(To);var Co=nn(To.exports);class ko{constructor(e,t,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const i=e.config;this.hls=e,this.id=t,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const a=(e,t)=>{(t=t||{}).frag=this.frag,t.id=this.id,e===mn.ERROR&&(this.error=t.error),this.hls.trigger(e,t)};this.observer=new Co,this.observer.on(mn.FRAG_DECRYPTED,a),this.observer.on(mn.ERROR,a);const s=Kr(i.preferManagedMediaSource)||{isTypeSupported:()=>!1},o={mpeg:s.isTypeSupported("audio/mpeg"),mp3:s.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:s.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&"undefined"!==typeof Worker){if(i.workerPath||"function"===typeof __HLS_WORKER_BUNDLE__){try{i.workerPath?(_n.log(`loading Web Worker ${i.workerPath} for "${t}"`),this.workerContext=function(e){const t=new self.URL(e,self.location.href).href;return{worker:new self.Worker(t),scriptURL:t}}(i.workerPath)):(_n.log(`injecting Web Worker for "${t}"`),this.workerContext=function(){const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e);return{worker:new self.Worker(t),objectURL:t}}()),this.onwmsg=e=>this.onWorkerMessage(e);const{worker:e}=this.workerContext;e.addEventListener("message",this.onwmsg),e.onerror=e=>{const n=new Error(`${e.message}  (${e.filename}:${e.lineno})`);i.enableWorker=!1,_n.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(mn.ERROR,{type:gn.OTHER_ERROR,details:vn.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:n})},e.postMessage({cmd:"init",typeSupported:o,vendor:"",id:t,config:JSON.stringify(i)})}catch(Cm){_n.warn(`Error setting up "${t}" Web Worker, fallback to inline`,Cm),this.resetWorker(),this.error=null,this.transmuxer=new xo(this.observer,o,i,"",t)}return}}this.transmuxer=new xo(this.observer,o,i,"",t)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,t,n,r,i,a,s,o,l,c){var u,d;l.transmuxing.start=self.performance.now();const{transmuxer:h}=this,f=a?a.start:i.start,p=i.decryptdata,m=this.frag,g=!(m&&i.cc===m.cc),v=!(m&&l.level===m.level),y=m?l.sn-m.sn:-1,b=this.part?l.part-this.part.index:-1,x=0===y&&l.id>1&&l.id===(null==m?void 0:m.stats.chunkCount),S=!v&&(1===y||0===y&&(1===b||x&&b<=0)),_=self.performance.now();(v||y||0===i.stats.parsing.start)&&(i.stats.parsing.start=_),!a||!b&&S||(a.stats.parsing.start=_);const w=!(m&&(null==(u=i.initSegment)?void 0:u.url)===(null==(d=m.initSegment)?void 0:d.url)),E=new Eo(g,S,o,v,f,w);if(!S||g||w){_n.log(`[transmuxer-interface, ${i.type}]: Starting new transmux session for sn: ${l.sn} p: ${l.part} level: ${l.level} id: ${l.id}\n        discontinuity: ${g}\n        trackSwitch: ${v}\n        contiguous: ${S}\n        accurateTimeOffset: ${o}\n        timeOffset: ${f}\n        initSegmentChange: ${w}`);const e=new wo(n,r,t,s,c);this.configureTransmuxer(e)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:p,chunkMeta:l,state:E},e instanceof ArrayBuffer?[e]:[]);else if(h){const t=h.push(e,p,l,E);_o(t)?(h.async=!0,t.then((e=>{this.handleTransmuxComplete(e)})).catch((e=>{this.transmuxerError(e,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(t))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(t){let n=t.flush(e);_o(n)||t.async?(_o(n)||(n=Promise.resolve(n)),n.then((t=>{this.handleFlushResult(t,e)})).catch((t=>{this.transmuxerError(t,e,"transmuxer-interface flush error")}))):this.handleFlushResult(n,e)}}transmuxerError(e,t,n){this.hls&&(this.error=e,this.hls.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,t){e.forEach((e=>{this.handleTransmuxComplete(e)})),this.onFlush(t)}onWorkerMessage(e){const t=e.data;if(null==t||!t.event)return void _n.warn("worker message received with no "+(t?"event name":"data"));const n=this.hls;if(this.hls)switch(t.event){case"init":{var r;const e=null==(r=this.workerContext)?void 0:r.objectURL;e&&self.URL.revokeObjectURL(e);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":_n[t.data.logType]&&_n[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}}configureTransmuxer(e){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function Ao(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!jo(e[n].attrs,t[n].attrs))return!1;return!0}function jo(e,t,n){const r=e["STABLE-RENDITION-ID"];return r&&!n?r===t["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((n=>e[n]!==t[n]))}function No(e,t){return t.label.toLowerCase()===e.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(e.lang||"").toLowerCase())}class Lo{constructor(e){this.buffered=void 0;const t=(t,n,r)=>{if((n>>>=0)>r-1)throw new DOMException(`Failed to execute '${t}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${r})`);return e[n][t]};this.buffered={get length(){return e.length},end:n=>t("end",n,e.length),start:n=>t("start",n,e.length)}}}class Ro{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,t,n){const r=this.queues[t];r.push(e),1!==r.length||n||this.executeNext(t)}insertAbort(e,t){this.queues[t].unshift(e),this.executeNext(t)}appendBlocker(e){let t;const n=new Promise((e=>{t=e})),r={execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(r,e),n}executeNext(e){const t=this.queues[e];if(t.length){const r=t[0];try{r.execute()}catch(n){_n.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${n}`),r.onError(n);const t=this.buffers[e];null!=t&&t.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const Po=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;function Io(e){const t=e.querySelectorAll("source");[].slice.call(t).forEach((t=>{e.removeChild(t)}))}const Do={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Oo=e=>String.fromCharCode(Do[e]||e),Mo=15,Fo=100,Uo={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},$o={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Bo={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Go={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ho=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class zo{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const n="function"===typeof t?t():t;_n.log(`${this.time} [${e}] ${n}`)}}}const Yo=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toString(16));return t};class Wo{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Vo{constructor(){this.uchar=" ",this.penState=new Wo}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Ko{constructor(e){this.chars=[],this.pos=0,this.currPenState=new Wo,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Fo;t++)this.chars.push(new Vo);this.logger=e}equals(e){for(let t=0;t<Fo;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Fo;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Fo;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Fo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Fo)}moveCursor(e){const t=this.pos+e;if(e>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=Oo(e);this.pos>=Fo?this.logger.log(0,(()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(e){let t;for(t=e;t<Fo;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let n=0;n<Fo;n++){const r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e);this.chars[this.pos].setPenState(this.currPenState)}}class qo{constructor(e){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Mo;t++)this.rows.push(new Ko(e));this.logger=e}reset(){for(let e=0;e<Mo;e++)this.rows[e].clear();this.currRow=14}equals(e){let t=!0;for(let n=0;n<Mo;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}copy(e){for(let t=0;t<Mo;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Mo;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e);this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,(()=>"pacData = "+JSON.stringify(e)));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let t=0;t<Mo;t++)this.rows[t].clear();const e=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const r=n.rows[e].cueStartTime,i=this.logger.time;if(null!==r&&null!==i&&r<i)for(let a=0;a<this.nrRollUpRows;a++)this.rows[t-this.nrRollUpRows+a+1].copy(n.rows[e+a])}}this.currRow=t;const n=this.rows[this.currRow];if(null!==e.indent){const t=e.indent,r=Math.max(t-1,0);n.setCursor(e.indent),e.color=n.chars[r].penState.foreground}const r={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(e){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(e))),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let n="",r=-1;for(let i=0;i<Mo;i++){const n=this.rows[i].getTextString();n&&(r=i+1,e?t.push("Row "+r+": '"+n+"'"):t.push(n.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}getTextAndFormat(){return this.rows}}class Xo{constructor(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new qo(n),this.nonDisplayedMemory=new qo(n),this.lastOutputScreen=new qo(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(()=>"MODE="+e)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>t+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class Zo{constructor(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const r=this.logger=new zo;this.channels=[null,new Xo(e,t,r),new Xo(e+1,n,r)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let n=0;n<t.length;n+=2){const e=127&t[n],r=127&t[n+1];let i=!1,a=null;if(0===e&&0===r)continue;this.logger.log(3,(()=>"["+Yo([t[n],t[n+1]])+"] -> ("+Yo([e,r])+")"));const s=this.cmdHistory;if(e>=16&&e<=31){if(Jo(e,r,s)){Qo(null,null,s),this.logger.log(3,(()=>"Repeated command ("+Yo([e,r])+") is dropped"));continue}Qo(e,r,this.cmdHistory),i=this.parseCmd(e,r),i||(i=this.parseMidrow(e,r)),i||(i=this.parsePAC(e,r)),i||(i=this.parseBackgroundAttributes(e,r))}else Qo(null,null,s);if(!i&&(a=this.parseChars(e,r),a)){const e=this.currentChannel;if(e&&e>0){this.channels[e].insertChars(a)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}i||a||this.logger.log(2,(()=>"Couldn't parse cleaned data "+Yo([e,r])+" orig: "+Yo([t[n],t[n+1]])))}}parseCmd(e,t){if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;const n=20===e||21===e||23===e?1:2,r=this.channels[n];return 20===e||21===e||28===e||29===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.currentChannel=n,!0}parseMidrow(e,t){let n=0;if((17===e||25===e)&&t>=32&&t<=47){if(n=17===e?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return!!r&&(r.ccMIDROW(t),this.logger.log(3,(()=>"MIDROW ("+Yo([e,t])+")")),!0)}return!1}parsePAC(e,t){let n;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;const r=e<=23?1:2;n=t>=64&&t<=95?1===r?Uo[e]:Bo[e]:1===r?$o[e]:Go[e];const i=this.channels[r];return!!i&&(i.setPAC(this.interpretPAC(n,t)),this.currentChannel=r,!0)}interpretPAC(e,t){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}parseChars(e,t){let n,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){let e;e=17===i?t+80:18===i?t+112:t+144,this.logger.log(2,(()=>"Special char '"+Oo(e)+"' in channel "+n)),r=[e]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);return r&&this.logger.log(3,(()=>"Char codes =  "+Yo(r).join(","))),r}parseBackgroundAttributes(e,t){if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;let n;const r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=Ho[n],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));const i=e<=23?1:2;return this.channels[i].setBkgData(r),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}Qo(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(e)}}}function Qo(e,t,n){n.a=e,n.b=t}function Jo(e,t,n){return n.a===e&&n.b===t}class el{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var tl=function(){if(null!=Un&&Un.VTTCue)return self.VTTCue;const e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;const n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=1;for(;i<arguments.length;i++){const t=arguments[i];for(const n in t)e[n]=t[n]}return e}function a(t,a,s){const o=this,l={enumerable:!0};o.hasBeenReset=!1;let c="",u=!1,d=t,h=a,f=s,p=null,m="",g=!0,v="auto",y="start",b=50,x="middle",S=50,_="middle";Object.defineProperty(o,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(o,"pauseOnExit",i({},l,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},l,{get:function(){return h},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},l,{get:function(){return m},set:function(t){const r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");m=r,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},l,{get:function(){return v},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},l,{get:function(){return y},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},l,{get:function(){return x},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");x=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},l,{get:function(){return S},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");S=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},l,{get:function(){return _},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),o.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class nl{decode(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function rl(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}const n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}class il{constructor(){this.values=Object.create(null)}set(e,t){this.get(e)||""===t||(this.values[e]=t)}get(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,n){for(let r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function al(e,t,n,r){const i=r?e.split(r):[e];for(const a in i){if("string"!==typeof i[a])continue;const e=i[a].split(n);if(2!==e.length)continue;t(e[0],e[1])}}const sl=new tl(0,0,""),ol="middle"===sl.align?"middle":"center";function ll(e,t,n){const r=e;function i(){const t=rl(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),a(),t.endTime=i(),a(),function(e,t){const r=new il;al(e,(function(e,t){let i;switch(e){case"region":for(let i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",ol,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",ol,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",ol,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");let i=r.get("line","auto");"auto"===i&&-1===sl.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",ol);let a=r.get("position","auto");"auto"===a&&50===sl.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function cl(e){return e.replace(/<br(?: \/)?>/gi,"\n")}class ul{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new nl,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;function n(){let e=t.buffer,n=0;for(e=cl(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;const r=e.slice(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.slice(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{let e="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;e=n();const r=e.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==r||!r[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let r=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(r?r=!1:e=n(),t.state){case"HEADER":/:/.test(e)?al(e,(function(e,t){}),/:/):e||(t.state="ID");continue;case"NOTE":e||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){t.state="NOTE";break}if(!e)continue;if(t.cue=new tl(0,0,""),t.state="CUE",-1===e.indexOf("--\x3e")){t.cue.id=e;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{ll(e,t.cue,t.regionList)}catch(Vt){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==e.indexOf("--\x3e");if(!e||n&&(r=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=e}continue;case"BADCUE":e||(t.state="ID")}}}catch(Vt){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(Vt){e.onparsingerror&&e.onparsingerror(Vt)}return e.onflush&&e.onflush(),this}}const dl=/\r\n|\n\r|\n|\r/g,hl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.slice(n,n+t.length)===t},fl=function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function pl(e,t,n){return fl(e.toString())+fl(t.toString())+fl(n)}function ml(e,t,n,r,i,a,s){const o=new ul,l=hr(new Uint8Array(e)).trim().replace(dl,"\n").split("\n"),c=[],u=t?function(e){return oo(e,so,1/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}(t.baseTime,t.timescale):0;let d,h="00:00.000",f=0,p=0,m=!0;o.oncue=function(e){const a=n[r];let s=n.ccOffset;const o=(f-u)/9e4;if(null!=a&&a.new&&(void 0!==p?s=n.ccOffset=a.start:function(e,t,n){let r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!=(a=i)&&a.new;){var a;e.ccOffset+=r.start-i.start,r.new=!1,r=i,i=e[r.prevCC]}e.presentationOffset=n}(n,r,o)),o){if(!t)return void(d=new Error("Missing initPTS for VTT MPEGTS"));s=o-n.presentationOffset}const l=e.endTime-e.startTime,h=po(9e4*(e.startTime+s-p),9e4*i)/9e4;e.startTime=Math.max(h,0),e.endTime=Math.max(h+l,0);const m=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(m)),e.id||(e.id=pl(e.startTime,e.endTime,m)),e.endTime>0&&c.push(e)},o.onparsingerror=function(e){d=e},o.onflush=function(){d?s(d):a(c)},l.forEach((e=>{if(m){if(hl(e,"X-TIMESTAMP-MAP=")){m=!1,e.slice(16).split(",").forEach((e=>{hl(e,"LOCAL:")?h=e.slice(6):hl(e,"MPEGTS:")&&(f=parseInt(e.slice(7)))}));try{p=function(e){let t=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!hn(t)||!hn(n)||!hn(r)||!hn(i))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*n,t+=6e4*r,t+=36e5*i,t}(h)/1e3}catch(t){d=t}return}""===e&&(m=!1)}o.parse(e+"\n")})),o.flush()}const gl="stpp.ttml.im1t",vl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,yl=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,bl={left:"start",center:"center",right:"end",start:"start",end:"end"};function xl(e,t,n,r){const i=Tr(new Uint8Array(e),["mdat"]);if(0===i.length)return void r(new Error("Could not parse IMSC1 mdat"));const a=i.map((e=>hr(e))),s=function(e,t){return oo(e,t,1/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1),arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(t.baseTime,1,t.timescale);try{a.forEach((e=>n(function(e,t){const n=(new DOMParser).parseFromString(e,"text/xml"),r=n.getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(i).reduce(((e,t)=>(e[t]=r.getAttribute(`ttp:${t}`)||i[t],e)),{}),s="preserve"!==r.getAttribute("xml:space"),o=_l(Sl(r,"styling","style")),l=_l(Sl(r,"layout","region")),c=Sl(r,"body","[begin]");return[].map.call(c,(e=>{const n=wl(e,s);if(!n||!e.hasAttribute("begin"))return null;const r=Cl(e.getAttribute("begin"),a),i=Cl(e.getAttribute("dur"),a);let c=Cl(e.getAttribute("end"),a);if(null===r)throw Tl(e);if(null===c){if(null===i)throw Tl(e);c=r+i}const u=new tl(r-t,c-t,n);u.id=pl(u.startTime,u.endTime,u.text);const d=function(e,t,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;s&&n.hasOwnProperty(s)&&(i=n[s]);return a.reduce(((n,a)=>{const s=El(t,r,a)||El(e,r,a)||El(i,r,a);return s&&(n[a]=s),n}),{})}(l[e.getAttribute("region")],o[e.getAttribute("style")],o),{textAlign:h}=d;if(h){const e=bl[h];e&&(u.lineAlign=e),u.align=h}return dn(u,d),u})).filter((e=>null!==e))}(e,s))))}catch(o){r(o)}}function Sl(e,t,n){const r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function _l(e){return e.reduce(((e,t)=>{const n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function wl(e,t){return[].slice.call(e.childNodes).reduce(((e,n,r)=>{var i;return"br"===n.nodeName&&r?e+"\n":null!=(i=n.childNodes)&&i.length?wl(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function El(e,t,n){return e&&e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Tl(e){return new Error(`Could not parse ttml timestamp ${e}`)}function Cl(e,t){if(!e)return null;let n=rl(e);return null===n&&(vl.test(e)?n=function(e,t){const n=vl.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):yl.test(e)&&(n=function(e,t){const n=yl.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}function kl(e){return e.characteristics&&/transcribes-spoken-dialog/gi.test(e.characteristics)&&/describes-music-and-sound/gi.test(e.characteristics)?"captions":"subtitles"}function Al(e,t){return!!e&&e.kind===kl(t)&&No(t,e)}class jl{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(mn.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mn.BUFFER_CODECS,this.onBufferCodecs,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(mn.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mn.BUFFER_CODECS,this.onBufferCodecs,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&hn(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const e=this.hls.levels;if(e.length){const t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&_n.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=n,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter(((t,n)=>this.isLevelAllowed(t)&&n<=e));return this.clientRect=null,jl.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(Vt){}return e}isLevelAllowed(e){return!this.restrictedLevels.some((t=>e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height))}static getMaxLevelByMediaSize(e,t,n){if(null==e||!e.length)return-1;let r=e.length-1;const i=Math.max(t,n);for(let o=0;o<e.length;o+=1){const t=e[o];if((t.width>=i||t.height>=i)&&(a=t,!(s=e[o+1])||a.width!==s.width||a.height!==s.height)){r=o;break}}var a,s;return r}}const Nl="[eme]";class Ll{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Ll.CDMCleanupPromise?[Ll.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=_n.debug.bind(_n,Nl),this.log=_n.log.bind(_n,Nl),this.warn=_n.warn.bind(_n,Nl),this.error=_n.error.bind(_n,Nl),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mn.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mn.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:n}=this.config,r=t[e];if(r)return r.licenseUrl;if(e===$n.WIDEVINE&&n)return n;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:t}=this.config,n=t[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,n=(e,t,n)=>!!e&&n.indexOf(e)===t,r=t.map((e=>e.audioCodec)).filter(n),i=t.map((e=>e.videoCodec)).filter(n);return r.length+i.length===0&&i.push("avc1.42e01e"),new Promise(((t,n)=>{const a=e=>{const s=e.shift();this.getMediaKeysPromise(s,r,i).then((e=>t({keySystem:s,mediaKeys:e}))).catch((t=>{e.length?a(e):n(t instanceof Rl?t:new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))};a(e)}))}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!==typeof n){let e=`Configured requestMediaKeySystemAccess is not a function ${n}`;return null===qn&&"http:"===self.location.protocol&&(e=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(e))}return n(e,t)}getMediaKeysPromise(e,t,n){const r=function(e,t,n,r){let i;switch(e){case $n.FAIRPLAY:i=["cenc","sinf"];break;case $n.WIDEVINE:case $n.PLAYREADY:i=["cenc"];break;case $n.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${e}`)}return function(e,t,n,r){return[{initDataTypes:e,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:t.map((e=>({contentType:`audio/mp4; codecs="${e}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}))),videoCapabilities:n.map((e=>({contentType:`video/mp4; codecs="${e}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null})))}]}(i,t,n,r)}(e,t,n,this.config.drmSystemOptions),i=this.keySystemAccessPromises[e];let a=null==i?void 0:i.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(r)}`),a=this.requestMediaKeySystemAccess(e,r);const t=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch((t=>{this.log(`Failed to obtain access to key-system "${e}": ${t}`)})),a.then((n=>{this.log(`Access for key-system "${n.keySystem}" obtained`);const r=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),t.mediaKeys=n.createMediaKeys().then((t=>(this.log(`Media-keys created for "${e}"`),r.then((n=>n?this.setMediaKeysServerCertificate(t,e,n):t))))),t.mediaKeys.catch((t=>{this.error(`Failed to create media-keys for "${e}"}: ${t}`)})),t.mediaKeys}))}return a.then((()=>i.mediaKeys))}createMediaKeySessionContext(e){let{decryptdata:t,keySystem:n,mediaKeys:r}=e;this.log(`Creating key-system session "${n}" keyId: ${mr(t.keyId||[])}`);const i=r.createSession(),a={decryptdata:t,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const n=this.createMediaKeySessionContext(e),r=this.getKeyIdString(t),i="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,i,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return mr(e.keyId)}updateKeySession(e,t){var n;const r=e.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyID ${mr((null==(n=e.decryptdata)?void 0:n.keyId)||[])}\n      } (data length: ${t?t.byteLength:t})`),r.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise(((t,n)=>{const r=Kn(this.config),i=e.map(Yn).filter((e=>!!e&&-1!==r.indexOf(e)));return this.getKeySystemSelectionPromise(i).then((e=>{let{keySystem:r}=e;const i=Vn(r);i?t(i):n(new Error(`Unable to find format for key-system "${r}"`))})).catch(n)}))}loadKey(e){const t=e.keyInfo.decryptdata,n=this.getKeyIdString(t),r=`(keyId: ${n} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${r}`);let i=this.keyIdToKeySessionPromise[n];return i||(i=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(t).then((n=>{let{keySystem:i,mediaKeys:a}=n;return this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${r}`),this.attemptSetMediaKeys(i,a).then((()=>{this.throwIfDestroyed();const e=this.createMediaKeySessionContext({keySystem:i,mediaKeys:a,decryptdata:t});return this.generateRequestWithPreferredKeySession(e,"cenc",t.pssh,"playlist-key")}))})),i.catch((e=>this.handleError(e)))),i}throwIfDestroyed(){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Rl?this.hls.trigger(mn.ERROR,e.data):this.hls.trigger(mn.ERROR,{type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[t];if(!n){const t=Yn(e.keyFormat),n=t?[t]:Kn(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=Kn(this.config)),0===e.length)throw new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:t,initData:n}=e;if(this.debug(`"${e.type}" event: init data type: "${t}"`),null===n)return;let r,i;if("sinf"===t&&this.config.drmSystems[$n.FAIRPLAY]){const e=br(new Uint8Array(n));try{const t=On(JSON.parse(e).sinf),n=Rr(new Uint8Array(t));if(!n)return;r=n.subarray(8,24),i=$n.FAIRPLAY}catch(c){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const e=function(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;const t={version:0,systemId:"",kids:null,data:null},n=new DataView(e),r=n.getUint32(0);if(e.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(t.version=n.getUint32(8)>>>24,t.version>1)return null;t.systemId=mr(new Uint8Array(e,12,16));const i=n.getUint32(28);if(0===t.version){if(r-32<i)return null;t.data=new Uint8Array(e,32,i)}else if(1===t.version){t.kids=[];for(let n=0;n<i;n++)t.kids.push(new Uint8Array(e,32+16*n,16))}return t}(n);if(null===e)return;0===e.version&&e.systemId===Wn&&e.data&&(r=e.data.subarray(8,24)),i=function(e){if(e===Wn)return $n.WIDEVINE}(e.systemId)}if(!i||!r)return;const a=mr(r),{keyIdToKeySessionPromise:s,mediaKeySessions:o}=this;let l=s[a];for(let u=0;u<o.length;u++){const e=o[u],i=e.decryptdata;if(i.pssh||!i.keyId)continue;const c=mr(i.keyId);if(a===c||-1!==i.uri.replace(/-/g,"").indexOf(a)){l=s[c],delete s[c],i.pssh=new Uint8Array(n),i.keyId=r,l=s[a]=l.then((()=>this.generateRequestWithPreferredKeySession(e,t,n,"encrypted-event-key-match")));break}}l||(l=s[a]=this.getKeySystemSelectionPromise([i]).then((e=>{let{keySystem:i,mediaKeys:s}=e;var o;this.throwIfDestroyed();const l=new Br("ISO-23001-7",a,null!=(o=Vn(i))?o:"");return l.pssh=new Uint8Array(n),l.keyId=r,this.attemptSetMediaKeys(i,s).then((()=>{this.throwIfDestroyed();const e=this.createMediaKeySessionContext({decryptdata:l,keySystem:i,mediaKeys:s});return this.generateRequestWithPreferredKeySession(e,t,n,"encrypted-event-no-match")}))}))),l.catch((e=>this.handleError(e)))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,t){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const r=Promise.all(n).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(r),r.then((()=>{this.log(`Media-keys set for "${e}"`),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((e=>-1===n.indexOf(e)))}))}generateRequestWithPreferredKeySession(e,t,n,r){var i,a;const s=null==(i=this.config.drmSystems)||null==(a=i[e.keySystem])?void 0:a.generateRequest;if(s)try{const r=s.call(this.hls,t,n,e);if(!r)throw new Error("Invalid response from configured generateRequest filter");t=r.initDataType,n=e.decryptdata.pssh=r.initData?new Uint8Array(r.initData):null}catch(f){var o;if(this.warn(f.message),null!=(o=this.hls)&&o.config.debug)throw f}if(null===n)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(e);const l=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${r}": ${l} (init data type: ${t} length: ${n?n.byteLength:null})`);const c=new Co,u=e._onmessage=t=>{const n=e.mediaKeysSession;if(!n)return void c.emit("error",new Error("invalid state"));const{messageType:r,message:i}=t;this.log(`"${r}" message event for session "${n.sessionId}" message size: ${i.byteLength}`),"license-request"===r||"license-renewal"===r?this.renewLicense(e,i).catch((e=>{this.handleError(e),c.emit("error",e)})):"license-release"===r?e.keySystem===$n.FAIRPLAY&&(this.updateKeySession(e,Fn("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${r}"`)},d=e._onkeystatuseschange=t=>{if(!e.mediaKeysSession)return void c.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const n=e.keyStatus;c.emit("keyStatus",n),"expired"===n&&(this.warn(`${e.keySystem} expired for key ${l}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",u),e.mediaKeysSession.addEventListener("keystatuseschange",d);const h=new Promise(((e,t)=>{c.on("error",t),c.on("keyStatus",(n=>{n.startsWith("usable")?e():"output-restricted"===n?t(new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?t(new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${n}"`)):"expired"===n?t(new Error("key expired while generating request")):this.warn(`unhandled key status change "${n}"`)}))}));return e.mediaKeysSession.generateRequest(t,n).then((()=>{var t;this.log(`Request generated for key-session "${null==(t=e.mediaKeysSession)?void 0:t.sessionId}" keyId: ${l}`)})).catch((e=>{throw new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},`Error generating key-session request: ${e}`)})).then((()=>h)).catch((t=>{throw c.removeAllListeners(),this.removeSession(e),t})).then((()=>(c.removeAllListeners(),e)))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach(((t,n)=>{this.log(`key status change "${t}" for keyStatuses keyId: ${mr("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${mr(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t}))}fetchServerCertificate(e){const t=this.config,n=new(0,t.loader)(t),r=this.getServerCertificateUrl(e);return r?(this.log(`Fetching server certificate for "${e}"`),new Promise(((i,a)=>{const s={responseType:"arraybuffer",url:r},o=t.certLoadPolicy.default,l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,n,r)=>{i(e.data)},onError:(t,n,i,o)=>{a(new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:ln({url:s.url,data:void 0},t)},`"${e}" certificate request failed (${r}). Status: ${t.code} (${t.text})`))},onTimeout:(t,n,i)=>{a(new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:s.url,data:void 0}},`"${e}" certificate request timed out (${r})`))},onAbort:(e,t,n)=>{a(new Error("aborted"))}};n.load(s,l,c)}))):Promise.resolve()}setMediaKeysServerCertificate(e,t,n){return new Promise(((r,i)=>{e.setServerCertificate(n).then((i=>{this.log(`setServerCertificate ${i?"success":"not supported by CDM"} (${null==n?void 0:n.byteLength}) on "${t}"`),r(e)})).catch((e=>{i(new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then((t=>this.updateKeySession(e,new Uint8Array(t)).catch((e=>{throw new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))))}unpackPlayReadyKeyMessage(e,t){const n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const r=(new DOMParser).parseFromString(n,"application/xml"),i=r.querySelectorAll("HttpHeader");if(i.length>0){let t;for(let n=0,r=i.length;n<r;n++){var a,s;t=i[n];const r=null==(a=t.querySelector("name"))?void 0:a.textContent,o=null==(s=t.querySelector("value"))?void 0:s.textContent;r&&o&&e.setRequestHeader(r,o)}}const o=r.querySelector("Challenge"),l=null==o?void 0:o.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return Fn(atob(l))}setupLicenseXHR(e,t,n,r){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then((()=>{if(!n.decryptdata)throw new Error("Key removed");return i.call(this.hls,e,t,n,r)})).catch((a=>{if(!n.decryptdata)throw a;return e.open("POST",t,!0),i.call(this.hls,e,t,n,r)})).then((n=>{e.readyState||e.open("POST",t,!0);return{xhr:e,licenseChallenge:n||r}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}requestLicense(e,t){const n=this.config.keyLoadPolicy.default;return new Promise(((r,i)=>{const a=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${a}`);const s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return i(new Error("invalid state"));if(4===s.readyState)if(200===s.status){this._requestLicenseFailureCount=0;let t=s.response;this.log(`License received ${t instanceof ArrayBuffer?t.byteLength:t}`);const n=this.config.licenseResponseCallback;if(n)try{t=n.call(this.hls,s,a,e)}catch(o){this.error(o)}r(t)}else{const o=n.errorRetry,l=o?o.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||s.status>=400&&s.status<500)i(new Rl({type:gn.KEY_SYSTEM_ERROR,details:vn.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:a,data:void 0,code:s.status,text:s.statusText}},`License Request XHR failed (${a}). Status: ${s.status} (${s.statusText})`));else{const n=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${n} attempts left`),this.requestLicense(e,t).then(r,i)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,this.setupLicenseXHR(s,a,e,t).then((t=>{let{xhr:n,licenseChallenge:r}=t;e.keySystem==$n.PLAYREADY&&(r=this.unpackPlayReadyKeyMessage(n,r)),n.send(r)}))}))}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const n=t.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Br.clearKeyUriToKeyIdMap();const n=t.length;Ll.CDMCleanupPromise=Promise.all(t.map((e=>this.removeSession(e))).concat(null==e?void 0:e.setMediaKeys(null).catch((e=>{this.log(`Could not clear media keys: ${e}`)})))).then((()=>{n&&(this.log("finished closing key sessions and clearing media keys"),t.length=0)})).catch((e=>{this.log(`Could not close sessions and clear media keys: ${e}`)}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,t){let{sessionKeys:n}=t;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){const e=n.reduce(((e,t)=>(-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e)),[]);this.log(`Selecting key-system from session-keys ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:n}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(e);return r>-1&&this.mediaKeySessions.splice(r,1),t.remove().catch((e=>{this.log(`Could not remove session: ${e}`)})).then((()=>t.close())).catch((e=>{this.log(`Could not close session: ${e}`)}))}}}Ll.CDMCleanupPromise=void 0;class Rl extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}var Pl,Il,Dl;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(Pl||(Pl={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(Il||(Il={})),function(e){e.OBJECT="CMCD-Object",e.REQUEST="CMCD-Request",e.SESSION="CMCD-Session",e.STATUS="CMCD-Status"}(Dl||(Dl={}));const Ol={[Dl.OBJECT]:["br","d","ot","tb"],[Dl.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Dl.SESSION]:["cid","pr","sf","sid","st","v"],[Dl.STATUS]:["bs","rtp"]};class Ml{constructor(e,t){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map((e=>e instanceof Ml?e:new Ml(e)))),this.value=e,this.params=t}}class Fl{constructor(e){this.description=void 0,this.description=e}}const Ul="Dict";function $l(e,t,n,r){return new Error(`failed to ${e} "${i=t,Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":"object"===typeof i?JSON.stringify(i):String(i)}" as ${n}`,{cause:r});var i}const Bl="Bare Item",Gl="Boolean",Hl="Byte Sequence",zl="Decimal",Yl="Integer";const Wl=/[\x00-\x1f\x7f]+/,Vl="Token",Kl="Key";function ql(e,t,n){return $l("serialize",e,t,n)}function Xl(e){if(!1===ArrayBuffer.isView(e))throw ql(e,Hl);return`:${t=e,btoa(String.fromCharCode(...t))}:`;var t}function Zl(e){if(function(e){return e<-999999999999999||999999999999999<e}(e))throw ql(e,Yl);return e.toString()}function Ql(e,t){if(e<0)return-Ql(-e,t);const n=Math.pow(10,t);if(Math.abs(e*n%1-.5)<Number.EPSILON){const t=Math.floor(e*n);return(t%2===0?t:t+1)/n}return Math.round(e*n)/n}function Jl(e){const t=Ql(e,3);if(Math.floor(Math.abs(t)).toString().length>12)throw ql(e,zl);const n=t.toString();return n.includes(".")?n:`${n}.0`}const ec="String";function tc(e){const t=(n=e).description||n.toString().slice(7,-1);var n;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(t))throw ql(t,Vl);return t}function nc(e){switch(typeof e){case"number":if(!hn(e))throw ql(e,Bl);return Number.isInteger(e)?Zl(e):Jl(e);case"string":return function(e){if(Wl.test(e))throw ql(e,ec);return`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(e);case"symbol":return tc(e);case"boolean":return function(e){if("boolean"!==typeof e)throw ql(e,Gl);return e?"?1":"?0"}(e);case"object":if(e instanceof Date)return function(e){return`@${Zl(e.getTime()/1e3)}`}(e);if(e instanceof Uint8Array)return Xl(e);if(e instanceof Fl)return tc(e);default:throw ql(e,Bl)}}function rc(e){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(e))throw ql(e,Kl);return e}function ic(e){return null==e?"":Object.entries(e).map((e=>{let[t,n]=e;return!0===n?`;${rc(t)}`:`;${rc(t)}=${nc(n)}`})).join("")}function ac(e){return e instanceof Ml?`${nc(e.value)}${ic(e.params)}`:nc(e)}function sc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{whitespace:!0};if("object"!==typeof e)throw ql(e,Ul);const n=e instanceof Map?e.entries():Object.entries(e),r=null!=t&&t.whitespace?" ":"";return Array.from(n).map((e=>{let[t,n]=e;n instanceof Ml===!1&&(n=new Ml(n));let r=rc(t);var i;return!0===n.value?r+=ic(n.params):(r+="=",Array.isArray(n.value)?r+=`(${(i=n).value.map(ac).join(" ")})${ic(i.params)}`:r+=ac(n)),r})).join(`,${r}`)}const oc=e=>"ot"===e||"sf"===e||"st"===e,lc=e=>"number"===typeof e?hn(e):null!=e&&""!==e&&!1!==e;const cc=e=>Math.round(e),uc=e=>100*cc(e/100),dc={br:cc,d:cc,bl:uc,dl:uc,mtp:uc,nor:(e,t)=>(null!=t&&t.baseUrl&&(e=function(e,t){const n=new URL(e),r=new URL(t);if(n.origin!==r.origin)return e;const i=n.pathname.split("/").slice(1),a=r.pathname.split("/").slice(1,-1);for(;i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")}(e,t.baseUrl)),encodeURIComponent(e)),rtp:uc,tb:cc};function hc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?function(e,t){return sc(e,t)}(function(e,t){const n={};if(null==e||"object"!==typeof e)return n;const r=Object.keys(e).sort(),i=dn({},dc,null==t?void 0:t.formatters),a=null==t?void 0:t.filter;return r.forEach((r=>{if(null!=a&&a(r))return;let s=e[r];const o=i[r];o&&(s=o(s,t)),"v"===r&&1===s||"pr"==r&&1===s||lc(s)&&(oc(r)&&"string"===typeof s&&(s=new Fl(s)),n[r]=s)})),n}(e,t),dn({whitespace:!1},t)):""}function fc(e,t,n){return dn(e,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};const n=Object.entries(e),r=Object.entries(Ol).concat(Object.entries((null==t?void 0:t.customHeaderMap)||{})),i=n.reduce(((e,t)=>{var n;const[i,a]=t,s=(null==(n=r.find((e=>e[1].includes(i))))?void 0:n[0])||Dl.REQUEST;return null!=e[s]||(e[s]={}),e[s][i]=a,e}),{});return Object.entries(i).reduce(((e,n)=>{let[r,i]=n;return e[r]=hc(i,t),e}),{})}(t,n))}const pc="CMCD";const mc=/CMCD=[^&#]+/;function gc(e,t,n){const r=function(e){if(!e)return"";const t=hc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return`${pc}=${encodeURIComponent(t)}`}(t,n);if(!r)return e;if(mc.test(e))return e.replace(mc,r);const i=e.includes("?")?"&":"?";return`${e}${i}${r}`}function vc(e,t,n,r){e&&Object.keys(t).forEach((i=>{const a=e.filter((e=>e.groupId===i)).map((e=>{const a=dn({},e);return a.details=void 0,a.attrs=new Tn(a.attrs),a.url=a.attrs.URI=yc(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=t[i],a.attrs["PATHWAY-ID"]=r,a}));e.push(...a)}))}function yc(e,t,n,r){const{HOST:i,PARAMS:a,[n]:s}=r;let o;t&&(o=null==s?void 0:s[t],o&&(e=o));const l=new self.URL(e);return i&&!o&&(l.host=i),a&&Object.keys(a).sort().forEach((e=>{e&&l.searchParams.set(e,a[e])})),l.href}const bc=/^age:\s*[\d.]+\s*$/im;class xc{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new An,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then((()=>{if(this.loader===n&&!this.stats.aborted)return i(n,t.url)})).catch((e=>{if(this.loader===n&&!this.stats.aborted)return n.open("GET",t.url,!0),i(n,t.url)})).then((()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,t,e)})).catch((e=>{this.callbacks.onError({code:n.status,text:e.message},t,n,r)})):this.openAndSendXhr(n,t,e)}openAndSendXhr(e,t,n){e.readyState||e.open("GET",t.url,!0);const r=t.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:a}=n.loadPolicy;if(r)for(const s in r)e.setRequestHeader(s,r[s]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=i&&hn(i)?i:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:n}=this;if(!e||!t)return;const r=t.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const r=t.status,a="text"!==t.responseType;if(r>=200&&r<300&&(a&&t.response||null!==t.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const i=a?t.response:t.responseText,s="arraybuffer"===t.responseType?i.byteLength:i.length;if(n.loaded=n.total=s,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const o=this.callbacks.onProgress;if(o&&o(n,e,i,t),!this.callbacks)return;const l={url:t.responseURL,data:i,code:r};this.callbacks.onSuccess(l,n,e,t)}else{const a=i.loadPolicy.errorRetry;ca(a,n.retry,!1,{url:e.url,data:void 0,code:r})?this.retry(a):(_n.error(`${r} while loading ${e.url}`),this.callbacks.onError({code:r,text:t.statusText},e,t,n))}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry;if(ca(e,this.stats.retry,!0))this.retry(e);else{var t;_n.warn(`timeout while loading ${null==(t=this.context)?void 0:t.url}`);const e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:n}=this;this.retryDelay=oa(e,n.retry),n.retry++,_n.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==t?void 0:t.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&bc.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const Sc=/(\d+)-(\d+)\/(\d+)/;class _c{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||wc,this.controller=new self.AbortController,this.stats=new An}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const i=function(e,t){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(dn({},e.headers))};e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return n}(e,this.controller.signal),a=n.onProgress,s="arraybuffer"===e.responseType,o=s?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,i),self.clearTimeout(this.requestTimeout),t.timeout=l&&hn(l)?l:c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,e,this.response)}),t.timeout),self.fetch(this.request).then((i=>{this.response=this.loader=i;const o=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,e,this.response)}),c-(o-r.loading.start)),!i.ok){const{status:e,statusText:t}=i;throw new Ec(t||"fetch, bad network response",e,i)}return r.loading.first=o,r.total=function(e){const t=e.get("Content-Range");if(t){const e=function(e){const t=Sc.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(hn(e))return e}const n=e.get("Content-Length");if(n)return parseInt(n)}(i.headers)||r.total,a&&hn(t.highWaterMark)?this.loadProgressively(i,r,e,t.highWaterMark,a):s?i.arrayBuffer():"json"===e.responseType?i.json():i.text()})).then((i=>{const s=this.response;if(!s)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=i[o];l&&(r.loaded=r.total=l);const c={url:s.url,data:i,code:s.status};a&&!hn(t.highWaterMark)&&a(r,e,i,s),n.onSuccess(c,r,e,s)})).catch((t=>{if(self.clearTimeout(this.requestTimeout),r.aborted)return;const i=t&&t.code||0,a=t?t.message:null;n.onError({code:i,text:a},e,t?t.details:null,r)}))}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;const a=new bs,s=e.body.getReader(),o=()=>s.read().then((s=>{if(s.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));const l=s.value,c=l.length;return t.loaded+=c,c<r||a.dataLength?(a.push(l),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,l,e),o()})).catch((()=>Promise.reject()));return o()}}function wc(e,t){return new self.Request(e.url,t)}class Ec extends Error{constructor(e,t,n){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const Tc=/\s/,Cc={newCue(e,t,n,r){const i=[];let a,s,o,l,c;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(a=r.rows[h],o=!0,l=0,c="",!a.isEmpty()){var d;for(let e=0;e<a.chars.length;e++)Tc.test(a.chars[e].uchar)&&o?l++:(c+=a.chars[e].uchar,o=!1);a.cueStartTime=t,t===n&&(n+=1e-4),l>=16?l--:l++;const r=cl(c.trim()),f=pl(t,n,r);null!=e&&null!=(d=e.cues)&&d.getCueById(f)||(s=new u(t,n,r),s.id=f,s.line=h+1,s.align="left",s.position=10+Math.min(80,10*Math.floor(8*l/32)),i.push(s))}return e&&i.length&&(i.sort(((e,t)=>"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line)),i.forEach((t=>ji(e,t)))),i}},kc=ln(ln({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:xc,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:e,partCurrent:t,hls:n}=this,{autoLevelEnabled:r,media:i}=n;if(!e||!i)return;const a=performance.now(),s=t?t.stats:e.stats,o=t?t.duration:e.duration,l=a-s.loading.start,c=n.minAutoLevel;if(s.aborted||s.loaded&&s.loaded===s.total||e.level<=c)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!r||i.paused||!i.playbackRate||!i.readyState)return;const u=n.mainForwardBufferInfo;if(null===u)return;const d=this.bwEstimator.getEstimateTTFB(),h=Math.abs(i.playbackRate);if(l<=Math.max(d,o/(2*h)*1e3))return;const f=u.len/h,p=s.loading.first?s.loading.first-s.loading.start:-1,m=s.loaded&&p>-1,g=this.getBwEstimate(),v=n.levels,y=v[e.level],b=s.total||Math.max(s.loaded,Math.round(o*y.averageBitrate/8));let x=m?l-p:l;x<1&&m&&(x=Math.min(l,8*s.loaded/g));const S=m?1e3*s.loaded/x:0,_=S?(b-s.loaded)/S:8*b/g+d/1e3;if(_<=f)return;const w=S?8*S:g;let E,T=Number.POSITIVE_INFINITY;for(E=e.level-1;E>c;E--){const e=v[E].maxBitrate;if(T=this.getTimeToLoadFrag(d/1e3,w,o*e,!v[E].details),T<f)break}if(T>=_)return;if(T>10*o)return;n.nextLoadLevel=n.nextAutoLevel=E,m?this.bwEstimator.sample(l-Math.min(d,p),s.loaded):this.bwEstimator.sampleTTFB(l);const C=v[E].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>C&&this.resetEstimator(C),this.clearTimer(),_n.warn(`[abr] Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} is loading too slowly;\n      Time to underbuffer: ${f.toFixed(3)} s\n      Estimated load time for current fragment: ${_.toFixed(3)} s\n      Estimated load time for down switch fragment: ${T.toFixed(3)} s\n      TTFB estimate: ${0|p} ms\n      Current BW estimate: ${hn(g)?0|g:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${E} @ ${0|C} bps`),n.trigger(mn.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:s})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(_n.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new wa(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.FRAG_LOADING,this.onFragLoading,this),e.on(mn.FRAG_LOADED,this.onFragLoaded,this),e.on(mn.FRAG_BUFFERED,this.onFragBuffered,this),e.on(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mn.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(mn.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.FRAG_LOADING,this.onFragLoading,this),e.off(mn.FRAG_LOADED,this.onFragLoaded,this),e.off(mn.FRAG_BUFFERED,this.onFragBuffered,this),e.off(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mn.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(mn.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const n=t.frag;if(!this.ignoreFragment(n)){var r;if(!n.bitrateTest)this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case vn.BUFFER_ADD_CODEC_ERROR:case vn.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case vn.FRAG_LOAD_TIMEOUT:{const e=t.frag,{fragCurrent:n,partCurrent:r}=this;if(e&&n&&e.sn===n.sn&&e.level===n.level){const t=performance.now(),n=r?r.stats:e.stats,i=t-n.loading.start,a=n.loading.first?n.loading.first-n.loading.start:-1;if(n.loaded&&a>-1){const e=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(i-Math.min(e,a),n.loaded)}else this.bwEstimator.sampleTTFB(i)}break}}}getTimeToLoadFrag(e,t,n,r){return e+n/t+(r?this.lastLevelLoadSec:0)}onLevelLoaded(e,t){const n=this.hls.config,{loading:r}=t.stats,i=r.end-r.start;hn(i)&&(this.lastLevelLoadSec=i/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}onFragLoaded(e,t){let{frag:n,part:r}=t;const i=r?r.stats:n.stats;if(n.type===_i&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const e=r?r.duration:n.duration,t=this.hls.levels[n.level],a=(t.loaded?t.loaded.bytes:0)+i.loaded,s=(t.loaded?t.loaded.duration:0)+e;t.loaded={bytes:a,duration:s},t.realBitrate=Math.round(8*a/s)}if(n.bitrateTest){const e={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(mn.FRAG_BUFFERED,e),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,t){const{frag:n,part:r}=t,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(i.aborted)return;if(this.ignoreFragment(n))return;const a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==_i||"initSegment"===e.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,n=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,i=this.findBestLevel(n,t,e,0,r,1,1);if(i>-1)return i;const a=this.hls.firstLevel,s=Math.min(Math.max(a,t),e);return _n.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${s}`),s}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,t=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(-1!==e&&(!t||!n||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const r=t&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==e){const t=this.hls.levels;if(t.length>Math.max(e,r)&&t[e].loadError<=t[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:n}=this,{maxAutoLevel:r,config:i,minAutoLevel:a}=n,s=t?t.duration:e?e.duration:0,o=this.getBwEstimate(),l=this.getStarvationDelay();let c=i.abrBandWidthFactor,u=i.abrBandWidthUpFactor;if(l){const e=this.findBestLevel(o,a,r,l,0,c,u);if(e>=0)return e}let d=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay;if(!l){const e=this.bitrateTestDelay;if(e){d=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-e,_n.info(`[abr] bitrate test took ${Math.round(1e3*e)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),c=u=1}}const h=this.findBestLevel(o,a,r,l,d,c,u);if(_n.info(`[abr] ${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const f=n.levels[a],p=n.levels[n.loadLevel];return(null==f?void 0:f.bitrate)<(null==p?void 0:p.bitrate)?a:n.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const n=t&&0!==t.playbackRate?Math.abs(t.playbackRate):1,r=e.mainForwardBufferInfo;return(r?r.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,n,r,i,a,s){var o;const l=r+i,c=this.lastLoadedFragLevel,u=-1===c?this.hls.firstLevel:c,{fragCurrent:d,partCurrent:h}=this,{levels:f,allAudioTracks:p,loadLevel:m,config:g}=this.hls;if(1===f.length)return 0;const v=f[u],y=!(null==v||null==(o=v.details)||!o.live),b=-1===m||-1===c;let x,S="SDR",_=(null==v?void 0:v.frameRate)||0;const{audioPreference:w,videoPreference:E}=g,T=this.audioTracksByGroup||(this.audioTracksByGroup=function(e){return e.reduce(((e,t)=>{let n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);const r=t.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(p));if(b){if(-1!==this.firstSelection)return this.firstSelection;const r=this.codecTiers||(this.codecTiers=function(e,t,n,r){return e.slice(n,r+1).reduce(((e,n)=>{if(!n.codecSet)return e;const r=n.audioGroups;let i=e[n.codecSet];i||(e[n.codecSet]=i={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),i.minBitrate=Math.min(i.minBitrate,n.bitrate);const a=Math.min(n.height,n.width);return i.minHeight=Math.min(i.minHeight,a),i.minFramerate=Math.min(i.minFramerate,n.frameRate),i.maxScore=Math.max(i.maxScore,n.score),i.fragmentError+=n.fragmentError,i.videoRanges[n.videoRange]=(i.videoRanges[n.videoRange]||0)+1,r&&r.forEach((e=>{if(!e)return;const n=t.groups[e];n&&(i.hasDefaultAudio=i.hasDefaultAudio||t.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(n.channels).forEach((e=>{i.channels[e]=(i.channels[e]||0)+n.channels[e]})))})),e}),{})}(f,T,t,n)),i=function(e,t,n,r,i){const a=Object.keys(e),s=null==r?void 0:r.channels,o=null==r?void 0:r.audioCodec,l=s&&2===parseInt(s);let c=!0,u=!1,d=1/0,h=1/0,f=1/0,p=0,m=[];const{preferHDR:g,allowedVideoRanges:v}=Aa(t,i);for(let x=a.length;x--;){const t=e[a[x]];c=t.channels[2]>0,d=Math.min(d,t.minHeight),h=Math.min(h,t.minFramerate),f=Math.min(f,t.minBitrate);const n=v.filter((e=>t.videoRanges[e]>0));n.length>0&&(u=!0,m=n)}d=hn(d)?d:0,h=hn(h)?h:0;const y=Math.max(1080,d),b=Math.max(30,h);return f=hn(f)?f:n,n=Math.max(f,n),u||(t=void 0,m=[]),{codecSet:a.reduce(((t,r)=>{const i=e[r];if(r===t)return t;if(i.minBitrate>n)return ja(r,`min bitrate of ${i.minBitrate} > current estimate of ${n}`),t;if(!i.hasDefaultAudio)return ja(r,"no renditions with default or auto-select sound found"),t;if(o&&r.indexOf(o.substring(0,4))%5!==0)return ja(r,`audio codec preference "${o}" not found`),t;if(s&&!l){if(!i.channels[s])return ja(r,`no renditions with ${s} channel sound found (channels options: ${Object.keys(i.channels)})`),t}else if((!o||l)&&c&&0===i.channels[2])return ja(r,"no renditions with stereo sound found"),t;return i.minHeight>y?(ja(r,`min resolution of ${i.minHeight} > maximum of ${y}`),t):i.minFramerate>b?(ja(r,`min framerate of ${i.minFramerate} > maximum of ${b}`),t):m.some((e=>i.videoRanges[e]>0))?i.maxScore<p?(ja(r,`max score of ${i.maxScore} < selected max of ${p}`),t):t&&(ei(r)>=ei(t)||i.fragmentError>e[t].fragmentError)?t:(p=i.maxScore,r):(ja(r,`no variants with VIDEO-RANGE of ${JSON.stringify(m)} found`),t)}),void 0),videoRanges:m,preferHDR:g,minFramerate:h,minBitrate:f}}(r,S,e,w,E),{codecSet:a,videoRanges:s,minFramerate:o,minBitrate:l,preferHDR:c}=i;x=a,S=c?s[s.length-1]:s[0],_=o,e=Math.max(e,l),_n.log(`[abr] picked start tier ${JSON.stringify(i)}`)}else x=null==v?void 0:v.codecSet,S=null==v?void 0:v.videoRange;const C=h?h.duration:d?d.duration:0,k=this.bwEstimator.getEstimateTTFB()/1e3,A=[];for(let N=n;N>=t;N--){var j;const t=f[N],o=N>u;if(!t)continue;if(g.useMediaCapabilities&&!t.supportedResult&&!t.supportedPromise){const n=navigator.mediaCapabilities;"function"===typeof(null==n?void 0:n.decodingInfo)&&Ca(t,T,S,_,e,w)?(t.supportedPromise=ka(t,T,n),t.supportedPromise.then((e=>{if(!this.hls)return;t.supportedResult=e;const n=this.hls.levels,r=n.indexOf(t);e.error?_n.warn(`[abr] MediaCapabilities decodingInfo error: "${e.error}" for level ${r} ${JSON.stringify(e)}`):e.supported||(_n.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${r} ${JSON.stringify(e)}`),r>-1&&n.length>1&&(_n.log(`[abr] Removing unsupported level ${r}`),this.hls.removeLevel(r)))}))):t.supportedResult=Ea}if(x&&t.codecSet!==x||S&&t.videoRange!==S||o&&_>t.frameRate||!o&&_>0&&_<t.frameRate||t.supportedResult&&(null==(j=t.supportedResult.decodingInfoResults)||!j[0].smooth)){A.push(N);continue}const d=t.details,p=(h?null==d?void 0:d.partTarget:null==d?void 0:d.averagetargetduration)||C;let E;E=o?s*e:a*e;const L=C&&r>=2*C&&0===i?f[N].averageBitrate:f[N].maxBitrate,R=this.getTimeToLoadFrag(k,E,L*p,void 0===d);if(E>=L&&(N===c||0===t.loadError&&0===t.fragmentError)&&(R<=k||!hn(R)||y&&!this.bitrateTestDelay||R<l)){const e=this.forcedAutoLevel;return N===m||-1!==e&&e===m||(A.length&&_n.trace(`[abr] Skipped level(s) ${A.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${f[A[0]].codecs}" ${f[A[0]].videoRange}; not compatible with "${v.codecs}" ${S}`),_n.info(`[abr] switch candidate:${u}->${N} adjustedbw(${Math.round(E)})-bitrate=${Math.round(E-L)} ttfb:${k.toFixed(1)} avgDuration:${p.toFixed(1)} maxFetchDuration:${l.toFixed(1)} fetchDuration:${R.toFixed(1)} firstSelection:${b} codecSet:${x} videoRange:${S} hls.loadLevel:${m}`)),b&&(this.firstSelection=N),N}}return-1}set nextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:n}=this.hls,r=Math.min(Math.max(e,n),t);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}},bufferController:class{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=e=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=e=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:e,mediaSource:t}=this;this.log("Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(mn.MEDIA_ATTACHED,{media:e,mediaSource:t})),t&&t.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:e,_objectUrl:t}=this;e!==t&&_n.error(`Media element src was set while attaching MediaSource (${t} > ${e})`)},this.hls=e;const t="[buffer-controller]";var n;this.appendSource=(n=Kr(e.config.preferManagedMediaSource),"undefined"!==typeof self&&n===self.ManagedMediaSource),this.log=_n.log.bind(_n,t),this.warn=_n.warn.bind(_n,t),this.error=_n.error.bind(_n,t),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mn.BUFFER_RESET,this.onBufferReset,this),e.on(mn.BUFFER_APPENDING,this.onBufferAppending,this),e.on(mn.BUFFER_CODECS,this.onBufferCodecs,this),e.on(mn.BUFFER_EOS,this.onBufferEos,this),e.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(mn.FRAG_PARSED,this.onFragParsed,this),e.on(mn.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mn.BUFFER_RESET,this.onBufferReset,this),e.off(mn.BUFFER_APPENDING,this.onBufferAppending,this),e.off(mn.BUFFER_CODECS,this.onBufferCodecs,this),e.off(mn.BUFFER_EOS,this.onBufferEos,this),e.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(mn.FRAG_PARSED,this.onFragParsed,this),e.off(mn.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Ro(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){let n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,t){const n=this.media=t.media,r=Kr(this.appendSource);if(n&&r){var i;const e=this.mediaSource=new r;this.log(`created media source: ${null==(i=e.constructor)?void 0:i.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming));const t=this._objectUrl=self.URL.createObjectURL(e);if(this.appendSource)try{n.removeAttribute("src");const r=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||r&&e instanceof r,Io(n),function(e,t){const n=self.document.createElement("source");n.type="video/mp4",n.src=t,e.appendChild(n)}(n,t),n.load()}catch(a){n.src=t}else n.src=t;n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:t,_objectUrl:n}=this;if(t){if(this.log("media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(Cm){this.warn(`onMediaDetaching: ${Cm.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(e.removeAttribute("src"),this.appendSource&&Io(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(mn.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach((e=>{this.resetBuffer(e)})),this._initSourceBuffer()}resetBuffer(e){const t=this.sourceBuffer[e];try{var n;if(t)this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,null!=(n=this.mediaSource)&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}catch(Cm){this.warn(`onBufferReset ${e}`,Cm)}}onBufferCodecs(e,t){const n=this.getSourceBufferTypes().length,r=Object.keys(t);if(r.forEach((e=>{if(n){const n=this.tracks[e];if(n&&"function"===typeof n.buffer.changeType){var r;const{id:i,codec:a,levelCodec:s,container:o,metadata:l}=t[e],c=ii(n.codec,n.levelCodec),u=null==c?void 0:c.replace(Po,"$1");let d=ii(a,s);const h=null==(r=d)?void 0:r.replace(Po,"$1");if(d&&u!==h){"audio"===e.slice(0,5)&&(d=ri(d,this.appendSource));const t=`${o};codecs=${d}`;this.appendChangeType(e,t),this.log(`switching codec ${c} to ${d}`),this.tracks[e]={buffer:n.buffer,codec:a,container:o,levelCodec:s,metadata:l,id:i}}}}else this.pendingTracks[e]=t[e]})),n)return;const i=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==i&&(this.log(`${i} bufferCodec event(s) expected ${r.join(",")}`),this.bufferCodecEventsExpected=i),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}appendChangeType(e,t){const{operationQueue:n}=this,r={execute:()=>{const r=this.sourceBuffer[e];r&&(this.log(`changing ${e} sourceBuffer type to ${t}`),r.changeType(t)),n.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn(`Failed to change ${e} SourceBuffer type`,t)}};n.append(r,e,!!this.pendingTracks[e])}onBufferAppending(e,t){const{hls:n,operationQueue:r,tracks:i}=this,{data:a,type:s,frag:o,part:l,chunkMeta:c}=t,u=c.buffering[s],d=self.performance.now();u.start=d;const h=o.stats.buffering,f=l?l.stats.buffering:null;0===h.start&&(h.start=d),f&&0===f.start&&(f.start=d);const p=i.audio;let m=!1;"audio"===s&&"audio/mpeg"===(null==p?void 0:p.container)&&(m=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const g=o.start,v={execute:()=>{if(u.executeStart=self.performance.now(),m){const e=this.sourceBuffer[s];if(e){const t=g-e.timestampOffset;Math.abs(t)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${g} (delta: ${t}) sn: ${o.sn})`),e.timestampOffset=g)}}this.appendExecutor(a,s)},onStart:()=>{},onComplete:()=>{const e=self.performance.now();u.executeEnd=u.end=e,0===h.first&&(h.first=e),f&&0===f.first&&(f.first=e);const{sourceBuffer:t}=this,n={};for(const r in t)n[r]=Ha.getBuffered(t[r]);this.appendErrors[s]=0,"audio"===s||"video"===s?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(mn.BUFFER_APPENDED,{type:s,frag:o,part:l,chunkMeta:c,parent:o.type,timeRanges:n})},onError:e=>{const t={type:gn.MEDIA_ERROR,parent:o.type,details:vn.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:o,part:l,chunkMeta:c,error:e,err:e,fatal:!1};if(e.code===DOMException.QUOTA_EXCEEDED_ERR)t.details=vn.BUFFER_FULL_ERROR;else{const e=++this.appendErrors[s];t.details=vn.BUFFER_APPEND_ERROR,this.warn(`Failed ${e}/${n.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer`),e>=n.config.appendErrorMaxRetry&&(t.fatal=!0)}n.trigger(mn.ERROR,t)}};r.append(v,s,!!this.pendingTracks[s])}onBufferFlushing(e,t){const{operationQueue:n}=this,r=e=>({execute:this.removeExecutor.bind(this,e,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(mn.BUFFER_FLUSHED,{type:e})},onError:t=>{this.warn(`Failed to remove from ${e} SourceBuffer`,t)}});t.type?n.append(r(t.type),t.type):this.getSourceBufferTypes().forEach((e=>{n.append(r(e),e)}))}onFragParsed(e,t){const{frag:n,part:r}=t,i=[],a=r?r.elementaryStreams:n.elementaryStreams;a[Ln]?i.push("audiovideo"):(a[jn]&&i.push("audio"),a[Nn]&&i.push("video"));0===i.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers((()=>{const e=self.performance.now();n.stats.buffering.end=e,r&&(r.stats.buffering.end=e);const t=r?r.stats:n.stats;this.hls.trigger(mn.FRAG_BUFFERED,{frag:n,part:r,stats:t,id:n.type})}),i)}onFragChanged(e,t){this.trimBuffers()}onBufferEos(e,t){this.getSourceBufferTypes().reduce(((e,n)=>{const r=this.sourceBuffer[n];return!r||t.type&&t.type!==n||(r.ending=!0,r.ended||(r.ended=!0,this.log(`${n} sourceBuffer now EOS`))),e&&!(r&&!r.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((e=>{const t=this.sourceBuffer[e];t&&(t.ending=!1)}));const{mediaSource:e}=this;e&&"open"===e.readyState?(this.log("Calling mediaSource.endOfStream()"),e.endOfStream()):e&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${e.readyState}`)})))}onLevelUpdated(e,t){let{details:n}=t;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:t,media:n}=this;if(!n||null===t)return;if(!this.getSourceBufferTypes().length)return;const r=e.config,i=n.currentTime,a=t.levelTargetDuration,s=t.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(hn(s)&&s>0){const e=Math.max(s,a),t=Math.floor(i/a)*a-e;this.flushBackBuffer(i,a,t)}if(hn(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){const e=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),t=Math.max(e,a),n=Math.floor(i/a)*a+t;this.flushFrontBuffer(i,a,n)}}flushBackBuffer(e,t,n){const{details:r,sourceBuffer:i}=this;this.getSourceBufferTypes().forEach((a=>{const s=i[a];if(s){const i=Ha.getBuffered(s);if(i.length>0&&n>i.start(0)){if(this.hls.trigger(mn.BACK_BUFFER_REACHED,{bufferEnd:n}),null!=r&&r.live)this.hls.trigger(mn.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(s.ended&&i.end(i.length-1)-e<2*t)return void this.log(`Cannot flush ${a} back buffer while SourceBuffer is in ended state`);this.hls.trigger(mn.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:a})}}}))}flushFrontBuffer(e,t,n){const{sourceBuffer:r}=this;this.getSourceBufferTypes().forEach((i=>{const a=r[i];if(a){const r=Ha.getBuffered(a),s=r.length;if(s<2)return;const o=r.start(s-1),l=r.end(s-1);if(n>o||e>=o&&e<=l)return;if(a.ended&&e-l<2*t)return void this.log(`Cannot flush ${i} front buffer while SourceBuffer is in ended state`);this.hls.trigger(mn.BUFFER_FLUSHING,{startOffset:o,endOffset:1/0,type:i})}}))}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:e,hls:t,media:n,mediaSource:r}=this,i=e.fragments[0].start+e.totalduration,a=n.duration,s=hn(r.duration)?r.duration:0;e.live&&t.config.liveDurationInfinity?(r.duration=1/0,this.updateSeekableRange(e)):(i>s&&i>a||!hn(a))&&(this.log(`Updating Media Source duration to ${i.toFixed(3)}`),r.duration=i)}updateSeekableRange(e){const t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){const r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);this.log(`Media Source duration is set to ${t.duration}. Setting seekable range to ${r}-${i}.`),t.setLiveSeekableRange(r,i)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:t,pendingTracks:n}=this,r=Object.keys(n).length;if(r&&(!e||2===r||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};const e=this.getSourceBufferTypes();if(e.length)this.hls.trigger(mn.BUFFER_CREATED,{tracks:this.tracks}),e.forEach((e=>{t.executeNext(e)}));else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}}createSourceBuffers(e){const{sourceBuffer:t,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const i in e)if(!t[i]){var r;const a=e[i];if(!a)throw Error(`source buffer exists for track ${i}, however track does not`);let s=-1===(null==(r=a.levelCodec)?void 0:r.indexOf(","))?a.levelCodec:a.codec;s&&"audio"===i.slice(0,5)&&(s=ri(s,this.appendSource));const o=`${a.container};codecs=${s}`;this.log(`creating sourceBuffer(${o})`);try{const e=t[i]=n.addSourceBuffer(o),r=i;this.addBufferListener(r,"updatestart",this._onSBUpdateStart),this.addBufferListener(r,"updateend",this._onSBUpdateEnd),this.addBufferListener(r,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(r,"bufferedchange",((e,t)=>{const n=t.removedRanges;null!=n&&n.length&&this.hls.trigger(mn.BUFFER_FLUSHED,{type:i})})),this.tracks[i]={buffer:e,codec:s,container:a.container,levelCodec:a.levelCodec,metadata:a.metadata,id:a.id}}catch(Cm){this.error(`error while trying to add sourceBuffer: ${Cm.message}`),this.hls.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:Cm,sourceBufferName:i,mimeType:o})}}}get mediaSrc(){var e;const t=(null==(e=this.media)?void 0:e.firstChild)||this.media;return null==t?void 0:t.src}_onSBUpdateStart(e){const{operationQueue:t}=this;t.current(e).onStart()}_onSBUpdateEnd(e){var t;if("closed"===(null==(t=this.mediaSource)?void 0:t.readyState))return void this.resetBuffer(e);const{operationQueue:n}=this;n.current(e).onComplete(),n.shiftAndExecuteNext(e)}_onSBUpdateError(e,t){var n;const r=new Error(`${e} SourceBuffer error. MediaSource readyState: ${null==(n=this.mediaSource)?void 0:n.readyState}`);this.error(`${r}`,t),this.hls.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});const i=this.operationQueue.current(e);i&&i.onError(r)}removeExecutor(e,t,n){const{media:r,mediaSource:i,operationQueue:a,sourceBuffer:s}=this,o=s[e];if(!r||!i||!o)return this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),void a.shiftAndExecuteNext(e);const l=hn(r.duration)?r.duration:1/0,c=hn(i.duration)?i.duration:1/0,u=Math.max(0,t),d=Math.min(n,l,c);d>u&&(!o.ending||o.ended)?(o.ended=!1,this.log(`Removing [${u},${d}] from the ${e} SourceBuffer`),o.remove(u,d)):a.shiftAndExecuteNext(e)}appendExecutor(e,t){const n=this.sourceBuffer[t];if(n)n.ended=!1,n.appendBuffer(e);else if(!this.pendingTracks[t])throw new Error(`Attempting to append to the ${t} SourceBuffer, but it does not exist`)}blockBuffers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);const{operationQueue:n}=this,r=t.map((e=>n.appendBlocker(e)));Promise.all(r).then((()=>{e(),t.forEach((e=>{const t=this.sourceBuffer[e];null!=t&&t.updating||n.shiftAndExecuteNext(e)}))}))}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,t,n){const r=this.sourceBuffer[e];if(!r)return;const i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}removeBufferListeners(e){const t=this.sourceBuffer[e];t&&this.listeners[e].forEach((e=>{t.removeEventListener(e.event,e.listener)}))}},capLevelController:jl,errorController:class{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=_n.log.bind(_n,"[info]:"),this.warn=_n.warn.bind(_n,"[warning]:"),this.error=_n.error.bind(_n,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(mn.ERROR,this.onError,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(mn.ERROR,this.onError,this),e.off(mn.ERROR,this.onErrorOut,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(null==e?void 0:e.type)===_i?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var n,r;if(t.fatal)return;const i=this.hls,a=t.context;switch(t.details){case vn.FRAG_LOAD_ERROR:case vn.FRAG_LOAD_TIMEOUT:case vn.KEY_LOAD_ERROR:case vn.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case vn.FRAG_PARSING_ERROR:if(null!=(n=t.frag)&&n.gap)return void(t.errorAction={action:pa,flags:ya});case vn.FRAG_GAP:case vn.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=ma);case vn.LEVEL_EMPTY_ERROR:case vn.LEVEL_PARSING_ERROR:{var s,o;const e=t.parent===_i?t.level:i.loadLevel;t.details===vn.LEVEL_EMPTY_ERROR&&null!=(s=t.context)&&null!=(o=s.levelDetails)&&o.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,e):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e))}return;case vn.LEVEL_LOAD_ERROR:case vn.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==a?void 0:a.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level)));case vn.AUDIO_TRACK_LOAD_ERROR:case vn.AUDIO_TRACK_LOAD_TIMEOUT:case vn.SUBTITLE_LOAD_ERROR:case vn.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const e=i.levels[i.loadLevel];if(e&&(a.type===xi&&e.hasAudioGroup(a.groupId)||a.type===Si&&e.hasSubtitleGroup(a.groupId)))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=ma,void(t.errorAction.flags=ba)}return;case vn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const e=i.levels[i.loadLevel],n=null==e?void 0:e.attrs["HDCP-LEVEL"];n?t.errorAction={action:ma,flags:xa,hdcpLevel:n}:this.keySystemError(t)}return;case vn.BUFFER_ADD_CODEC_ERROR:case vn.REMUX_ALLOC_ERROR:case vn.BUFFER_APPEND_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(r=t.level)?r:i.loadLevel));case vn.INTERNAL_EXCEPTION:case vn.BUFFER_APPENDING_ERROR:case vn.BUFFER_FULL_ERROR:case vn.LEVEL_SWITCH_ERROR:case vn.BUFFER_STALLED_ERROR:case vn.BUFFER_SEEK_OVER_HOLE:case vn.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:pa,flags:ya})}t.type===gn.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const n=sa(this.hls.config.playlistLoadPolicy,e),r=this.playlistError++;if(ca(n,r,aa(e),e.response))return{action:va,flags:ya,retryConfig:n,retryCount:r};const i=this.getLevelSwitchAction(e,t);return n&&(i.retryConfig=n,i.retryCount=r),i}getFragRetryOrSwitchAction(e){const t=this.hls,n=this.getVariantLevelIndex(e.frag),r=t.levels[n],{fragLoadPolicy:i,keyLoadPolicy:a}=t.config,s=sa(e.details.startsWith("key")?a:i,e),o=t.levels.reduce(((e,t)=>e+t.fragmentError),0);if(r){e.details!==vn.FRAG_GAP&&r.fragmentError++;if(ca(s,o,aa(e),e.response))return{action:va,flags:ya,retryConfig:s,retryCount:o}}const l=this.getLevelSwitchAction(e,n);return s&&(l.retryConfig=s,l.retryCount=o),l}getLevelSwitchAction(e,t){const n=this.hls;null!==t&&void 0!==t||(t=n.loadLevel);const r=this.hls.levels[t];if(r){var i,a;const t=e.details;r.loadError++,t===vn.BUFFER_APPEND_ERROR&&r.fragmentError++;let l=-1;const{levels:c,loadLevel:u,minAutoLevel:d,maxAutoLevel:h}=n;n.autoLevelEnabled||(n.loadLevel=-1);const f=null==(i=e.frag)?void 0:i.type,p=(f===wi&&t===vn.FRAG_PARSING_ERROR||"audio"===e.sourceBufferName&&(t===vn.BUFFER_ADD_CODEC_ERROR||t===vn.BUFFER_APPEND_ERROR))&&c.some((e=>{let{audioCodec:t}=e;return r.audioCodec!==t})),m="video"===e.sourceBufferName&&(t===vn.BUFFER_ADD_CODEC_ERROR||t===vn.BUFFER_APPEND_ERROR)&&c.some((e=>{let{codecSet:t,audioCodec:n}=e;return r.codecSet!==t&&r.audioCodec===n})),{type:g,groupId:v}=null!=(a=e.context)?a:{};for(let n=c.length;n--;){const i=(n+u)%c.length;if(i!==u&&i>=d&&i<=h&&0===c[i].loadError){var s,o;const n=c[i];if(t===vn.FRAG_GAP&&f===_i&&e.frag){const t=c[i].details;if(t){const n=da(e.frag,t.fragments,e.frag.start);if(null!=n&&n.gap)continue}}else{if(g===xi&&n.hasAudioGroup(v)||g===Si&&n.hasSubtitleGroup(v))continue;if(f===wi&&null!=(s=r.audioGroups)&&s.some((e=>n.hasAudioGroup(e)))||f===Ei&&null!=(o=r.subtitleGroups)&&o.some((e=>n.hasSubtitleGroup(e)))||p&&r.audioCodec===n.audioCodec||!p&&r.audioCodec!==n.audioCodec||m&&r.codecSet===n.codecSet)continue}l=i;break}}if(l>-1&&n.loadLevel!==l)return e.levelRetry=!0,this.playlistError=0,{action:ma,flags:ya,nextAutoLevel:l}}return{action:ma,flags:ba}}onErrorOut(e,t){var n;switch(null==(n=t.errorAction)?void 0:n.action){case pa:break;case ma:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===vn.FRAG_GAP?/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):t.fatal=!0}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(e){const t=this.hls,n=e.errorAction;if(!n)return;const{flags:r,hdcpLevel:i,nextAutoLevel:a}=n;switch(r){case ya:this.switchLevel(e,a);break;case xa:i&&(t.maxHdcpLevel=Gi[Gi.indexOf(i)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(e,a)}switchLevel(e,t){void 0!==t&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},fpsController:class{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const e=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=e,e&&"function"===typeof e.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(e,t,n){const r=performance.now();if(t){if(this.lastTime){const e=r-this.lastTime,i=n-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*i/e,o=this.hls;if(o.trigger(mn.FPS_DROP,{currentDropped:i,currentDecoded:a,totalDroppedFrames:n}),s>0&&i>o.config.fpsDroppedMonitoringThreshold*a){let e=o.currentLevel;_n.warn("drop FPS ratio greater than max allowed value for currentLevel: "+e),e>0&&(-1===o.autoLevelCapping||o.autoLevelCapping>=e)&&(e-=1,o.trigger(mn.FPS_DROP_LEVEL_CAPPING,{level:e,droppedLevel:o.currentLevel}),o.autoLevelCapping=e,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:qn,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:Cc,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends ys{constructor(e,t,n){super(e,t,n,"[subtitle-stream-controller]",Ei),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mn.ERROR,this.onError,this),e.on(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(mn.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(mn.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mn.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mn.ERROR,this.onError,this),e.off(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(mn.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(mn.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mn.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=os,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:n,success:r}=t;if(this.fragPrevious=n,this.state=os,!r)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let a;const s=n.start;for(let l=0;l<i.length;l++)if(s>=i[l].start&&s<=i[l].end){a=i[l];break}const o=n.start+n.duration;a?a.end=o:(a={start:s,end:o},i.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}onBufferFlushing(e,t){const{startOffset:n,endOffset:r}=t;if(0===n&&r!==Number.POSITIVE_INFINITY){const e=r-1;if(e<=0)return;t.endOffsetSubtitles=Math.max(0,e),this.tracksBuffered.forEach((t=>{for(let n=0;n<t.length;)if(t[n].end<=e)t.shift();else{if(!(t[n].start<e))break;t[n].start=e,n++}})),this.fragmentTracker.removeFragmentsInRange(n,e,Ei)}}onFragBuffered(e,t){var n;this.loadedmetadata||t.frag.type!==_i||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(e,t){const n=t.frag;(null==n?void 0:n.type)===Ei&&(t.details===vn.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ss&&(this.state=os))}onSubtitleTracksUpdated(e,t){let{subtitleTracks:n}=t;this.levels&&Ao(this.levels,n)?this.levels=n.map((e=>new qi(e))):(this.tracksBuffered=[],this.levels=n.map((e=>{const t=new qi(e);return this.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ei),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(e,t){var n;if(this.currentTrackId=t.id,null==(n=this.levels)||!n.length||-1===this.currentTrackId)return void this.clearInterval();const r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}onSubtitleTrackLoaded(e,t){var n;const{currentTrackId:r,levels:i}=this,{details:a,id:s}=t;if(!i)return void this.warn(`Subtitle tracks were reset while loading level ${s}`);const o=i[s];if(s>=i.length||!o)return;this.log(`Subtitle track ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(a.live||null!=(n=o.details)&&n.live){const e=this.mainDetails;if(a.deltaUpdateFailed||!e)return;const t=e.fragments[0];var c;if(o.details)l=this.alignPlaylists(a,o.details,null==(c=this.levelLastLoaded)?void 0:c.details),0===l&&t&&(l=t.start,ta(a,l));else a.hasProgramDateTime&&e.hasProgramDateTime?(qa(a,e),l=a.fragments[0].start):t&&(l=t.start,ta(a,l))}if(o.details=a,this.levelLastLoaded=o,s===r&&(this.startFragRequested||!this.mainDetails&&a.live||this.setStartPosition(this.mainDetails||a,l),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===os)){da(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),o.details=void 0)}}_handleFragmentLoadComplete(e){const{frag:t,payload:n}=e,r=t.decryptdata,i=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&null!=r&&r.key&&r.iv&&"AES-128"===r.method){const e=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer).catch((e=>{throw i.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((n=>{const r=performance.now();i.trigger(mn.FRAG_DECRYPTED,{frag:t,payload:n,stats:{tstart:e,tdecrypt:r}})})).catch((e=>{this.warn(`${e.name}: ${e.message}`),this.state=os}))}}doTick(){if(this.media){if(this.state===os){const{currentTrackId:e,levels:t}=this,n=null==t?void 0:t[e];if(!n||!t.length||!n.details)return;const{config:r}=this,i=this.getLoadPosition(),a=Ha.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),{end:s,len:o}=a,l=this.getFwdBufferInfo(this.media,_i),c=n.details;if(o>this.getMaxBufferLength(null==l?void 0:l.len)+c.levelTargetDuration)return;const u=c.fragments,d=u.length,h=c.edge;let f=null;const p=this.fragPrevious;if(s<h){const e=r.maxFragLookUpTolerance,t=s>h-e?0:e;f=da(p,u,Math.max(u[0].start,s),t),!f&&p&&p.start<u[0].start&&(f=u[0])}else f=u[d-1];if(!f)return;if(f=this.mapToInitFragWhenRequired(f),"initSegment"!==f.sn){const e=u[f.sn-c.startSN-1];e&&e.cc===f.cc&&this.fragmentTracker.getState(e)===Da&&(f=e)}this.fragmentTracker.getState(f)===Da&&this.loadFragment(f,n,s)}}else this.state=os}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.max(t,e):t}loadFragment(e,t,n){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,super.loadFragment(e,t,n))}get mediaBufferTimeRanges(){return new Lo(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends Sa{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=null;const t=Ri(this.media.textTracks);for(let r=0;r<t.length;r++)if("hidden"===t[r].mode)e=t[r];else if("showing"===t[r].mode){e=t[r];break}const n=this.findTrackForTextTrack(e);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mn.LEVEL_LOADING,this.onLevelLoading,this),e.on(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(mn.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mn.LEVEL_LOADING,this.onLevelLoading,this),e.off(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(mn.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);Ri(this.media.textTracks).forEach((e=>{Ni(e)})),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:n,groupId:r,details:i}=t,a=this.tracksInGroup[n];if(!a||a.groupId!==r)return void this.warn(`Subtitle track with id:${n} and group:${r} not found in active group ${null==a?void 0:a.groupId}`);const s=a.details;a.details=t.details,this.log(`Subtitle track ${n} "${a.name}" lang:${a.lang} group:${r} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,s)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.subtitleGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((e=>-1===(null==r?void 0:r.indexOf(e))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!n||-1!==n.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.subtitlePreference;if(!i&&t){this.selectDefaultTrack=!1;const n=Na(t,e);if(n>-1)i=e[n];else{const e=Na(t,this.tracks);i=this.tracks[e]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const a={subtitleTracks:e};this.log(`Updating subtitle tracks, ${e.length} track(s) found in "${null==n?void 0:n.join(",")}" group-id`),this.hls.trigger(mn.SUBTITLE_TRACKS_UPDATED,a),-1!==r&&-1===this.trackId&&this.setSubtitleTrack(r)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const t=this.tracksInGroup,n=this.selectDefaultTrack;for(let r=0;r<t.length;r++){const i=t[r];if((!n||i.default)&&(n||e)&&(!e||La(i,e)))return r}if(e){for(let n=0;n<t.length;n++){const r=t[n];if(jo(e.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<t.length;n++){const r=t[n];if(jo(e.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){if(No(t[n],e))return n}}return-1}onError(e,t){!t.fatal&&t.context&&(t.context.type!==Si||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const n=this.currentTrack;if(n&&La(e,n))return n;const r=Na(e,this.tracksInGroup);if(r>-1){const e=this.tracksInGroup[r];return this.setSubtitleTrack(r),e}if(n)return null;{const n=Na(e,t);if(n>-1)return t[n]}}}return null}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){const r=t.id,i=t.groupId;let a=t.url;if(e)try{a=e.addDirectives(a)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(mn.SUBTITLE_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Ri(e.textTracks),n=this.currentTrack;let r;if(n&&(r=t.filter((e=>No(n,e)))[0],r||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(t).forEach((e=>{"disabled"!==e.mode&&e!==r&&(e.mode="disabled")})),r){const e=this.subtitleDisplay?"showing":"hidden";r.mode!==e&&(r.mode=e)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=e);if(e<-1||e>=t.length||!hn(e))return void this.warn(`Invalid subtitle track id: ${e}`);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),!r)return void this.hls.trigger(mn.SUBTITLE_TRACK_SWITCH,{id:e});const i=!!r.details&&!r.details.live;if(e===this.trackId&&r===n&&i)return;this.log(`Switching to subtitle-track ${e}`+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:a,groupId:s="",name:o,type:l,url:c}=r;this.hls.trigger(mn.SUBTITLE_TRACK_SWITCH,{id:a,groupId:s,name:o,type:l,url:c});const u=this.switchParams(r.url,null==n?void 0:n.details,r.details);this.loadPlaylist(u)}},timelineController:class{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(mn.FRAG_LOADING,this.onFragLoading,this),e.on(mn.FRAG_LOADED,this.onFragLoaded,this),e.on(mn.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(mn.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(mn.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(mn.FRAG_LOADING,this.onFragLoading,this),e.off(mn.FRAG_LOADED,this.onFragLoaded,this),e.off(mn.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(mn.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(mn.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new el(this,"textTrack1"),t=new el(this,"textTrack2"),n=new el(this,"textTrack3"),r=new el(this,"textTrack4");this.cea608Parser1=new Zo(1,e,t),this.cea608Parser2=new Zo(3,n,r)}}addCues(e,t,n,r,i){let a=!1;for(let u=i.length;u--;){const e=i[u],r=(s=e[0],o=e[1],l=t,c=n,Math.min(o,c)-Math.max(s,l));if(r>=0&&(e[0]=Math.min(e[0],t),e[1]=Math.max(e[1],n),a=!0,r/(n-t)>.5))return}var s,o,l,c;if(a||i.push([t,n]),this.config.renderTextTracksNatively){const i=this.captionsTracks[e];this.Cues.newCue(i,t,n,r)}else{const i=this.Cues.newCue(null,t,n,r);this.hls.trigger(mn.CUES_PARSED,{type:"captions",cues:i,track:e})}}onInitPtsFound(e,t){let{frag:n,id:r,initPTS:i,timescale:a}=t;const{unparsedVttFrags:s}=this;"main"===r&&(this.initPTS[n.cc]={baseTime:i,timescale:a}),s.length&&(this.unparsedVttFrags=[],s.forEach((e=>{this.onFragLoaded(mn.FRAG_LOADED,e)})))}getExistingTrack(e,t){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const i=n.textTracks[r];if(Al(i,{name:e,lang:t,attrs:{}}))return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:n,media:r}=this,{label:i,languageCode:a}=t[e],s=this.getExistingTrack(i,a);if(s)n[e]=s,Ni(n[e]),Ai(n[e],r);else{const t=this.createTextTrack("captions",i,a);t&&(t[e]=!0,n[e]=t)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(mn.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(e,t,n){const r=this.media;if(r)return r.addTextTrack(e,t,n)}onMediaAttaching(e,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach((t=>{Ni(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let n=0;n<t.length;n++)Ni(t[n])}onSubtitleTracksUpdated(e,t){const n=t.subtitleTracks||[],r=n.some((e=>e.textCodec===gl));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(Ao(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const e=this.media,t=e?Ri(e.textTracks):null;if(this.tracks.forEach(((e,n)=>{let r;if(t){let n=null;for(let r=0;r<t.length;r++)if(t[r]&&Al(t[r],e)){n=t[r],t[r]=null;break}n&&(r=n)}if(r)Ni(r);else{const t=kl(e);r=this.createTextTrack(t,e.name,e.lang),r&&(r.mode="disabled")}r&&this.textTracks.push(r)})),null!=t&&t.length){const e=t.filter((e=>null!==e)).map((e=>e.label));e.length&&_n.warn(`Media element contains unused subtitle tracks: ${e.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const e=this.tracks.map((e=>({label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e})));this.hls.trigger(mn.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:e})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((e=>{const t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(!t)return;const n=`textTrack${t[1]}`,r=this.captionsProperties[n];r&&(r.label=e.name,e.lang&&(r.languageCode=e.lang),r.media=e)}))}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===_i){var n,r;const{cea608Parser1:e,cea608Parser2:i,lastSn:a}=this,{cc:s,sn:o}=t.frag,l=null!=(n=null==(r=t.part)?void 0:r.index)?n:-1;e&&i&&(o!==a+1||o===a&&l!==this.lastPartIndex+1||s!==this.lastCc)&&(e.reset(),i.reset()),this.lastCc=s,this.lastSn=o,this.lastPartIndex=l}}onFragLoaded(e,t){const{frag:n,payload:r}=t;if(n.type===Ei)if(r.byteLength){const e=n.decryptdata,i="stats"in t;if(null==e||!e.encrypted||i){const e=this.tracks[n.level],i=this.vttCCs;i[n.cc]||(i[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),e&&e.textCodec===gl?this._parseIMSC1(n,r):this._parseVTTs(t)}}else this.hls.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const n=this.hls;xl(t,this.initPTS[e.cc],(t=>{this._appendCues(t,e.level),n.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(t=>{_n.log(`Failed to parse IMSC1: ${t}`),n.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}_parseVTTs(e){var t;const{frag:n,payload:r}=e,{initPTS:i,unparsedVttFrags:a}=this,s=i.length-1;if(!i[n.cc]&&-1===s)return void a.push(e);const o=this.hls;ml(null!=(t=n.initSegment)&&t.data?Ir(n.initSegment.data,new Uint8Array(r)):r,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,(e=>{this._appendCues(e,n.level),o.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(t=>{const i="Missing initPTS for VTT MPEGTS"===t.message;i?a.push(e):this._fallbackToIMSC1(n,r),_n.log(`Failed to parse VTT cue: ${t}`),i&&s>n.cc||o.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:t})}))}_fallbackToIMSC1(e,t){const n=this.tracks[e.level];n.textCodec||xl(t,this.initPTS[e.cc],(()=>{n.textCodec=gl,this._parseIMSC1(e,t)}),(()=>{n.textCodec="wvtt"}))}_appendCues(e,t){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((e=>ji(n,e)))}else{const r=this.tracks[t];if(!r)return;const i=r.default?"default":"subtitles"+t;n.trigger(mn.CUES_PARSED,{type:"subtitles",cues:e,track:i})}}onFragDecrypted(e,t){const{frag:n}=t;n.type===Ei&&this.onFragLoaded(mn.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r}=this;if(!this.enabled||!n||!r)return;const{frag:i,samples:a}=t;if(i.type!==_i||"NONE"!==this.closedCaptionsForLevel(i))for(let s=0;s<a.length;s++){const e=a[s].bytes;if(e){const t=this.extractCea608Data(e);n.addData(a[s].pts,t[0]),r.addData(a[s].pts,t[1])}}}onBufferFlushing(e,t){let{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:a}=t;const{media:s}=this;if(s&&!(s.currentTime<r)){if(!a||"video"===a){const{captionsTracks:e}=this;Object.keys(e).forEach((t=>Li(e[t],n,r)))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){const{textTracks:e}=this;Object.keys(e).forEach((t=>Li(e[t],n,i)))}}}extractCea608Data(e){const t=[[],[]],n=31&e[0];let r=2;for(let i=0;i<n;i++){const n=e[r++],i=127&e[r++],a=127&e[r++];if(0===i&&0===a)continue;if(0!==(4&n)){const e=3&n;0!==e&&1!==e||(t[e].push(i),t[e].push(a))}}return t}},audioStreamController:class extends ys{constructor(e,t,n){super(e,t,n,"[audio-stream-controller]",wi),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mn.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(mn.ERROR,this.onError,this),e.on(mn.BUFFER_RESET,this.onBufferReset,this),e.on(mn.BUFFER_CREATED,this.onBufferCreated,this),e.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(mn.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mn.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(mn.ERROR,this.onError,this),e.off(mn.BUFFER_RESET,this.onBufferReset,this),e.off(mn.BUFFER_CREATED,this.onBufferCreated,this),e.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(mn.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,t){let{frag:n,id:r,initPTS:i,timescale:a}=t;if("main"===r){const e=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:a},this.log(`InitPTS for cc: ${e} found from main: ${i}`),this.videoTrackCC=e,this.state===gs&&this.tick()}}startLoad(e){if(!this.levels)return this.startPosition=e,void(this.state=ss);const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t,this.state=os):(this.loadedmetadata=!1,this.state=ds),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case os:this.doTickIdle();break;case ds:{var e;const{levels:t,trackId:n}=this,r=null==t||null==(e=t[n])?void 0:e.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=gs}break}case us:{var t;const e=performance.now(),n=this.retryDate;if(!n||e>=n||null!=(t=this.media)&&t.seeking){const{levels:e,trackId:t}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==e?void 0:e[t])||null),this.state=os}break}case gs:{const e=this.waitingData;if(e){const{frag:t,part:n,cache:r,complete:i}=e;if(void 0!==this.initPTS[t.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=cs;const e={frag:t,part:n,payload:r.flush(),networkDetails:null};this._handleFragmentLoadProgress(e),i&&super._handleFragmentLoadComplete(e)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${t.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const e=this.getLoadPosition(),n=Ha.bufferInfo(this.mediaBuffer,e,this.config.maxBufferHole);ha(n.end,this.config.maxFragLookUpTolerance,t)<0&&(this.log(`Waiting fragment cc (${t.cc}) @ ${t.start} cancelled because another fragment at ${n.end} is needed`),this.clearWaitingFragment())}}else this.state=os}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=os)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:t,media:n,trackId:r}=this,i=e.config;if(!n&&(this.startFragRequested||!i.startFragPrefetch)||null==t||!t[r])return;const a=t[r],s=a.details;if(!s||s.live&&this.levelLastLoaded!==a||this.waitForCdnTuneIn(s))return void(this.state=ds);const o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,jn,wi));const l=this.getFwdBufferInfo(o,wi);if(null===l)return;const{bufferedTrack:c,switchingTrack:u}=this;if(!u&&this._streamEnded(l,s))return e.trigger(mn.BUFFER_EOS,{type:"audio"}),void(this.state=ps);const d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,_i),h=l.len,f=this.getMaxBufferLength(null==d?void 0:d.len),p=s.fragments,m=p[0].start;let g=this.flushing?this.getLoadPosition():l.end;if(u&&n){const e=this.getLoadPosition();c&&!jo(u.attrs,c.attrs)&&(g=e),s.PTSKnown&&e<m&&(l.end>m||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=m+.05)}if(h>=f&&!u&&g<p[p.length-1].start)return;let v=this.getNextFragment(g,s),y=!1;if(v&&this.isLoopLoading(v,g)&&(y=!!v.gap,v=this.getNextFragmentLoopLoading(v,s,l,_i,f)),!v)return void(this.bufferFlushed=!0);const b=d&&v.start>d.end+s.targetduration;if(b||(null==d||!d.len)&&l.len){const e=this.getAppendedFrag(v.start,_i);if(null===e)return;if(y||(y=!!e.gap||!!b&&0===d.len),b&&!y||y&&l.nextStart&&l.nextStart<e.end)return}this.loadFragment(v,a,g)}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,t){let{audioTracks:n}=t;this.resetTransmuxer(),this.levels=n.map((e=>new qi(e)))}onAudioTrackSwitching(e,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=t,this.state=os,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=ss),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(mn.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,t){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=t);const{levels:r}=this,{details:i,id:a}=t;if(!r)return void this.warn(`Audio tracks were reset while loading level ${a}`);this.log(`Audio track ${a} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const s=r[a];let o=0;if(i.live||null!=(n=s.details)&&n.live){this.checkLiveUpdate(i);const e=this.mainDetails;if(i.deltaUpdateFailed||!e)return;var l;if(!s.details&&i.hasProgramDateTime&&e.hasProgramDateTime)qa(i,e),o=i.fragments[0].start;else o=this.alignPlaylists(i,s.details,null==(l=this.levelLastLoaded)?void 0:l.details)}s.details=i,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(this.mainDetails||i,o),this.state!==ds||this.waitForCdnTuneIn(i)||(this.state=os),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:n,part:r,payload:i}=e,{config:a,trackId:s,levels:o}=this;if(!o)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const l=o[s];if(!l)return void this.warn("Audio track is undefined on fragment load progress");const c=l.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const u=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new ko(this.hls,wi,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],f=null==(t=n.initSegment)?void 0:t.data;if(void 0!==h){const e=!1,t=r?r.index:-1,a=-1!==t,s=new za(n.level,n.sn,n.stats.chunkCount,i.byteLength,t,a);d.push(i,f,u,"",n,r,c.totalduration,e,s,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${c.startSN} ,${c.endSN}],track ${s}`);const{cache:e}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new bs,complete:!1};e.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=gs}}_handleFragmentLoadComplete(e){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,t){const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(e,t){const{frag:n,part:r}=t;if(n.type===wi)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const e=this.switchingTrack;e&&(this.bufferedTrack=e,this.switchingTrack=null,this.hls.trigger(mn.AUDIO_TRACK_SWITCHED,ln({},e)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===_i){const e=this.videoBuffer||this.media;if(e){Ha.getBuffered(e).length&&(this.loadedmetadata=!0)}}}onError(e,t){var n;if(t.fatal)this.state=ms;else switch(t.details){case vn.FRAG_GAP:case vn.FRAG_PARSING_ERROR:case vn.FRAG_DECRYPT_ERROR:case vn.FRAG_LOAD_ERROR:case vn.FRAG_LOAD_TIMEOUT:case vn.KEY_LOAD_ERROR:case vn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(wi,t);break;case vn.AUDIO_TRACK_LOAD_ERROR:case vn.AUDIO_TRACK_LOAD_TIMEOUT:case vn.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==ds||(null==(n=t.context)?void 0:n.type)!==xi||(this.state=os);break;case vn.BUFFER_APPEND_ERROR:case vn.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;if(t.details===vn.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case vn.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushing(e,t){let{type:n}=t;n!==Nn&&(this.flushing=!0)}onBufferFlushed(e,t){let{type:n}=t;if(n!==Nn){this.flushing=!1,this.bufferFlushed=!0,this.state===ps&&(this.state=os);const e=this.mediaBuffer||this.media;e&&(this.afterBufferFlushed(e,n,wi),this.tick())}}_handleTransmuxComplete(e){var t;const n="audio",{hls:r}=this,{remuxResult:i,chunkMeta:a}=e,s=this.getCurrentContext(a);if(!s)return void this.resetWhenMissingContext(a);const{frag:o,part:l,level:c}=s,{details:u}=c,{audio:d,text:h,id3:f,initSegment:p}=i;if(!this.fragContextChanged(o)&&u){if(this.state=hs,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){const e=o.initSegment||o;this._bufferInitSegment(c,p.tracks,e,a),r.trigger(mn.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:n,tracks:p.tracks})}if(d){const{startPTS:e,endPTS:t,startDTS:n,endDTS:r}=d;l&&(l.elementaryStreams[jn]={startPTS:e,endPTS:t,startDTS:n,endDTS:r}),o.setElementaryStreamInfo(jn,e,t,n,r),this.bufferFragmentData(d,o,l,a)}if(null!=f&&null!=(t=f.samples)&&t.length){const e=dn({id:n,frag:o,details:u},f);r.trigger(mn.FRAG_PARSING_METADATA,e)}if(h){const e=dn({id:n,frag:o,details:u},h);r.trigger(mn.FRAG_PARSING_USERDATA,e)}}else this.fragmentTracker.removeFragment(o)}_bufferInitSegment(e,t,n,r){if(this.state!==hs)return;t.video&&delete t.video;const i=t.audio;if(!i)return;i.id="audio";const a=e.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${a}/${i.codec}]`),a&&1===a.split(",").length&&(i.levelCodec=a),this.hls.trigger(mn.BUFFER_CODECS,t);const s=i.initSegment;if(null!=s&&s.byteLength){const e={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:s};this.hls.trigger(mn.BUFFER_APPENDING,e)}this.tickImmediate()}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);var i;if(this.fragCurrent=e,this.switchingTrack||r===Da||r===Ma)if("initSegment"===e.sn)this._loadInitSegment(e,t);else if(null!=(i=t.details)&&i.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=gs;const n=this.mainDetails;n&&n.fragments[0].start!==t.details.fragments[0].start&&qa(t.details,n)}else this.startFragRequested=!0,super.loadFragment(e,t,n);else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:t,bufferedTrack:n}=this,r=null==n?void 0:n.attrs,i=e.attrs;t&&r&&(r.CHANNELS!==i.CHANNELS||n.name!==e.name||n.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(mn.AUDIO_TRACK_SWITCHED,ln({},e))}},audioTrackController:class extends Sa{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mn.LEVEL_LOADING,this.onLevelLoading,this),e.on(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(mn.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mn.LEVEL_LOADING,this.onLevelLoading,this),e.off(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(mn.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:n,groupId:r,details:i}=t,a=this.tracksInGroup[n];if(!a||a.groupId!==r)return void this.warn(`Audio track with id:${n} and group:${r} not found in active group ${null==a?void 0:a.groupId}`);const s=a.details;a.details=t.details,this.log(`Audio track ${n} "${a.name}" lang:${a.lang} group:${r} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,s)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.audioGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((e=>-1===(null==r?void 0:r.indexOf(e))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!n||-1!==n.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.audioPreference;if(!i&&t){const n=Na(t,e,Ra);if(n>-1)i=e[n];else{const e=Na(t,this.tracks);i=this.tracks[e]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const s={audioTracks:e};this.log(`Updating audio tracks, ${e.length} track(s) found in group(s): ${null==n?void 0:n.join(",")}`),this.hls.trigger(mn.AUDIO_TRACKS_UPDATED,s);const o=this.trackId;if(-1!==r&&-1===o)this.setAudioTrack(r);else if(e.length&&-1===o){var a;const t=new Error(`No audio track selected for current audio group-ID(s): ${null==(a=this.groupIds)?void 0:a.join(",")} track count: ${e.length}`);this.warn(t.message),this.hls.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:t})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}onError(e,t){!t.fatal&&t.context&&(t.context.type!==xi||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||(this.requestScheduled=-1,this.checkRetry(t)))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&La(e,r,Ra))return r;const i=Na(e,this.tracksInGroup,Ra);if(i>-1){const e=this.tracksInGroup[i];return this.setAudioTrack(i),e}if(r){let r=t.loadLevel;-1===r&&(r=t.firstAutoLevel);const i=function(e,t,n,r,i){const a=t[r],s=t.reduce(((e,t,n)=>{const r=t.uri;return(e[r]||(e[r]=[])).push(n),e}),{})[a.uri];s.length>1&&(r=Math.max.apply(Math,s));const o=a.videoRange,l=a.frameRate,c=a.codecSet.substring(0,4),u=Pa(t,r,(t=>{if(t.videoRange!==o||t.frameRate!==l||t.codecSet.substring(0,4)!==c)return!1;const r=t.audioGroups,a=n.filter((e=>!r||-1!==r.indexOf(e.groupId)));return Na(e,a,i)>-1}));return u>-1?u:Pa(t,r,(t=>{const r=t.audioGroups,a=n.filter((e=>!r||-1!==r.indexOf(e.groupId)));return Na(e,a,i)>-1}))}(e,t.levels,n,r,Ra);if(-1===i)return null;t.nextLoadLevel=i}if(e.channels||e.audioCodec){const t=Na(e,n);if(t>-1)return n[t]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length)return void this.warn(`Invalid audio track id: ${e}`);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e],i=r.details&&!r.details.live;if(e===this.trackId&&r===n&&i)return;if(this.log(`Switching to audio-track ${e} "${r.name}" lang:${r.lang} group:${r.groupId} channels:${r.channels}`),this.trackId=e,this.currentTrack=r,this.hls.trigger(mn.AUDIO_TRACK_SWITCHING,ln({},r)),i)return;const a=this.switchParams(r.url,null==n?void 0:n.details,r.details);this.loadPlaylist(a)}findTrackId(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||La(e,r,Ra)))return n}if(e){const{name:n,lang:r,assocLang:i,characteristics:a,audioCodec:s,channels:o}=e;for(let e=0;e<t.length;e++){if(La({name:n,lang:r,assocLang:i,characteristics:a,audioCodec:s,channels:o},t[e],Ra))return e}for(let l=0;l<t.length;l++){const n=t[l];if(jo(e.attrs,n.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<t.length;l++){const n=t[l];if(jo(e.attrs,n.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){super.loadPlaylist();const r=t.id,i=t.groupId;let a=t.url;if(e)try{a=e.addDirectives(a)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}this.log(`loading audio-track playlist ${r} "${t.name}" lang:${t.lang} group:${i}`),this.clearTimer(),this.hls.trigger(mn.AUDIO_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}}},emeController:Ll,cmcdController:class{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=e=>{try{this.apply(e,{ot:Pl.MANIFEST,su:!this.initialized})}catch(t){_n.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=e=>{try{const t=e.frag,n=this.hls.levels[t.level],r=this.getObjectType(t),i={d:1e3*t.duration,ot:r};r!==Pl.VIDEO&&r!==Pl.AUDIO&&r!=Pl.MUXED||(i.br=n.bitrate/1e3,i.tb=this.getTopBandwidth(r)/1e3,i.bl=this.getBufferLength(r)),this.apply(e,i)}catch(t){_n.warn("Could not generate segment CMCD data.",t)}},this.hls=e;const t=this.config=e.config,{cmcd:n}=t;null!=n&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||function(){try{return crypto.randomUUID()}catch(e){try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){let t=(new Date).getTime();const n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}));return n}}}(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mn.MEDIA_DETACHED,this.onMediaDetached,this),e.on(mn.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mn.MEDIA_DETACHED,this.onMediaDetached,this),e.off(mn.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var n,r;this.audioBuffer=null==(n=t.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=t.tracks.video)?void 0:r.buffer}createData(){var e;return{v:1,sf:Il.HLS,sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dn(t,this.createData());const n=t.ot===Pl.INIT||t.ot===Pl.VIDEO||t.ot===Pl.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);const{includeKeys:r}=this;r&&(t=Object.keys(t).reduce(((e,n)=>(r.includes(n)&&(e[n]=t[n]),e)),{})),this.useHeaders?(e.headers||(e.headers={}),fc(e.headers,t)):e.url=gc(e.url,t)}getObjectType(e){const{type:t}=e;return"subtitle"===t?Pl.TIMED_TEXT:"initSegment"===e.sn?Pl.INIT:"audio"===t?Pl.AUDIO:"main"===t?this.hls.audioTracks.length?Pl.VIDEO:Pl.MUXED:void 0}getTopBandwidth(e){let t,n=0;const r=this.hls;if(e===Pl.AUDIO)t=r.audioTracks;else{const e=r.maxAutoLevel,n=e>-1?e+1:r.levels.length;t=r.levels.slice(0,n)}for(const i of t)i.bitrate>n&&(n=i.bitrate);return n>0?n:NaN}getBufferLength(e){const t=this.hls.media,n=e===Pl.AUDIO?this.audioBuffer:this.videoBuffer;if(!n||!t)return NaN;return 1e3*Ha.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new n(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,n,r){t(e),this.loader.load(e,n,r)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,n=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new n(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,n,r){t(e),this.loader.load(e,n,r)}}}},contentSteeringController:class{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=_n.log.bind(_n,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mn.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mn.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=1e3*this.timeToLoad-(performance.now()-this.updated);if(e>0)return void this.scheduleRefresh(this.uri,e)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter((t=>t!==e)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:n}=t;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:n}=t;if((null==n?void 0:n.action)===ma&&n.flags===ba){const e=this.levels;let r=this.pathwayPriority,i=this.pathwayId;if(t.context){const{groupId:n,pathwayId:r,type:a}=t.context;n&&e?i=this.getPathwayForGroupId(n,a,i):r&&(i=r)}i in this.penalizedPathways||(this.penalizedPathways[i]=performance.now()),!r&&e&&(r=e.reduce(((e,t)=>(-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e)),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==i),n.resolved||_n.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${i} levels: ${e?e.length:e} priorities: ${JSON.stringify(r)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length?(this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t):e}getLevelsForPathway(e){return null===this.levels?[]:this.levels.filter((t=>e===t.pathwayId))}updatePathwayPriority(e){let t;this.pathwayPriority=e;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((e=>{r-n[e]>3e5&&delete n[e]}));for(let i=0;i<e.length;i++){const r=e[i];if(r in n)continue;if(r===this.pathwayId)return;const a=this.hls.nextLoadLevel,s=this.hls.levels[a];if(t=this.getLevelsForPathway(r),t.length>0){this.log(`Setting Pathway to "${r}"`),this.pathwayId=r,ia(t),this.hls.trigger(mn.LEVELS_UPDATED,{levels:t});const e=this.hls.levels[a];s&&e&&this.levels&&(e.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&e.bitrate!==s.bitrate&&this.log(`Unstable Pathways change from bitrate ${s.bitrate} to ${e.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,t,n){const r=this.getLevelsForPathway(n).concat(this.levels||[]);for(let i=0;i<r.length;i++)if(t===xi&&r[i].hasAudioGroup(e)||t===Si&&r[i].hasSubtitleGroup(e))return r[i].pathwayId;return n}clonePathways(e){const t=this.levels;if(!t)return;const n={},r={};e.forEach((e=>{const{ID:i,"BASE-ID":a,"URI-REPLACEMENT":s}=e;if(t.some((e=>e.pathwayId===i)))return;const o=this.getLevelsForPathway(a).map((e=>{const t=new Tn(e.attrs);t["PATHWAY-ID"]=i;const a=t.AUDIO&&`${t.AUDIO}_clone_${i}`,o=t.SUBTITLES&&`${t.SUBTITLES}_clone_${i}`;a&&(n[t.AUDIO]=a,t.AUDIO=a),o&&(r[t.SUBTITLES]=o,t.SUBTITLES=o);const l=yc(e.uri,t["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",s),c=new qi({attrs:t,audioCodec:e.audioCodec,bitrate:e.bitrate,height:e.height,name:e.name,url:l,videoCodec:e.videoCodec,width:e.width});if(e.audioGroups)for(let n=1;n<e.audioGroups.length;n++)c.addGroupId("audio",`${e.audioGroups[n]}_clone_${i}`);if(e.subtitleGroups)for(let n=1;n<e.subtitleGroups.length;n++)c.addGroupId("text",`${e.subtitleGroups[n]}_clone_${i}`);return c}));t.push(...o),vc(this.audioTracks,n,s,i),vc(this.subtitleTracks,r,s,i)}))}loadSteeringManifest(e){const t=this.hls.config,n=t.loader;let r;this.loader&&this.loader.destroy(),this.loader=new n(t);try{r=new self.URL(e)}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${e}`)}if("data:"!==r.protocol){const e=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+e)}const i={responseType:"json",url:r.href},a=t.steeringManifestLoadPolicy.default,s=a.errorRetry||a.timeoutRetry||{},o={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},l={onSuccess:(e,t,n,i)=>{this.log(`Loaded steering manifest: "${r}"`);const a=e.data;if(1!==a.VERSION)return void this.log(`Steering VERSION ${a.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=a.TTL;const{"RELOAD-URI":s,"PATHWAY-CLONES":o,"PATHWAY-PRIORITY":l}=a;if(s)try{this.uri=new self.URL(s,r).href}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${s}`)}this.scheduleRefresh(this.uri||n.url),o&&this.clonePathways(o);const u={steeringManifest:a,url:r.toString()};this.hls.trigger(mn.STEERING_MANIFEST_LOADED,u),l&&this.updatePathwayPriority(l)},onError:(e,t,n,r)=>{if(this.log(`Error loading steering manifest: ${e.code} ${e.text} (${t.url})`),this.stopLoad(),410===e.code)return this.enabled=!1,void this.log(`Steering manifest ${t.url} no longer available`);let i=1e3*this.timeToLoad;if(429!==e.code)this.scheduleRefresh(this.uri||t.url,i);else{const e=this.loader;if("function"===typeof(null==e?void 0:e.getResponseHeader)){const t=e.getResponseHeader("Retry-After");t&&(i=1e3*parseFloat(t))}this.log(`Steering manifest ${t.url} rate limited`)}},onTimeout:(e,t,n)=>{this.log(`Timeout loading steering manifest (${t.url})`),this.scheduleRefresh(this.uri||t.url)}};this.log(`Requesting steering manifest: ${r}`),this.loader.load(i,o,l)}scheduleRefresh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var t;const n=null==(t=this.hls)?void 0:t.media;!n||n.ended?this.scheduleRefresh(e,1e3*this.timeToLoad):this.loadSteeringManifest(e)}),t)}}});function Ac(e){return e&&"object"===typeof e?Array.isArray(e)?e.map(Ac):Object.keys(e).reduce(((t,n)=>(t[n]=Ac(e[n]),t)),{}):e}function jc(e){const t=e.loader;if(t!==_c&&t!==xc)_n.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(Vt){}return!1})()&&(e.loader=_c,e.progressive=!0,e.enableSoftwareAES=!0,_n.log("[config]: Progressive streaming enabled, using FetchLoader"))}}let Nc;class Lc extends Sa{constructor(e,t){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mn.FRAG_BUFFERED,this.onFragBuffered,this),e.on(mn.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mn.FRAG_BUFFERED,this.onFragBuffered,this),e.off(mn.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((e=>{e.loadError=0,e.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const n=this.hls.config.preferManagedMediaSource,r=[],i={},a={};let s=!1,o=!1,l=!1;t.levels.forEach((e=>{var t,c;const u=e.attrs;let{audioCodec:d,videoCodec:h}=e;-1!==(null==(t=d)?void 0:t.indexOf("mp4a.40.34"))&&(Nc||(Nc=/chrome|firefox/i.test(navigator.userAgent)),Nc&&(e.audioCodec=d=void 0)),d&&(e.audioCodec=d=ri(d,n)),0===(null==(c=h)?void 0:c.indexOf("avc1"))&&(h=e.videoCodec=function(e){const t=e.split(",");for(let n=0;n<t.length;n++){const e=t[n].split(".");if(e.length>2){let r=e.shift()+".";r+=parseInt(e.shift()).toString(16),r+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t[n]=r}}return t.join(",")}(h));const{width:f,height:p,unknownCodecs:m}=e;if(s||(s=!(!f||!p)),o||(o=!!h),l||(l=!!d),null!=m&&m.length||d&&!Xr(d,"audio",n)||h&&!Xr(h,"video",n))return;const{CODECS:g,"FRAME-RATE":v,"HDCP-LEVEL":y,"PATHWAY-ID":b,RESOLUTION:x,"VIDEO-RANGE":S}=u,_=`${`${b||"."}-`}${e.bitrate}-${x}-${v}-${g}-${S}-${y}`;if(i[_])if(i[_].uri===e.url||e.attrs["PATHWAY-ID"])i[_].addGroupId("audio",u.AUDIO),i[_].addGroupId("text",u.SUBTITLES);else{const t=a[_]+=1;e.attrs["PATHWAY-ID"]=new Array(t+1).join(".");const n=new qi(e);i[_]=n,r.push(n)}else{const t=new qi(e);i[_]=t,a[_]=1,r.push(t)}})),this.filterAndSortMediaOptions(r,t,s,o,l)}filterAndSortMediaOptions(e,t,n,r,i){let a=[],s=[],o=e;if((n||r)&&i&&(o=o.filter((e=>{let{videoCodec:t,videoRange:n,width:r,height:i}=e;return(!!t||!(!r||!i))&&(!!(a=n)&&Hi.indexOf(a)>-1);var a}))),0===o.length)return void Promise.resolve().then((()=>{if(this.hls){t.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(t.levels[0].attrs)}`);const e=new Error("no level with compatible codecs found in manifest");this.hls.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}));if(t.audioTracks){const{preferManagedMediaSource:e}=this.hls.config;a=t.audioTracks.filter((t=>!t.audioCodec||Xr(t.audioCodec,"audio",e))),Rc(a)}t.subtitles&&(s=t.subtitles,Rc(s));const l=o.slice(0);o.sort(((e,t)=>{if(e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"])return(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&e.height!==t.height)return e.height-t.height;if(e.frameRate!==t.frameRate)return e.frameRate-t.frameRate;if(e.videoRange!==t.videoRange)return Hi.indexOf(e.videoRange)-Hi.indexOf(t.videoRange);if(e.videoCodec!==t.videoCodec){const n=Jr(e.videoCodec),r=Jr(t.videoCodec);if(n!==r)return r-n}if(e.uri===t.uri&&e.codecSet!==t.codecSet){const n=ei(e.codecSet),r=ei(t.codecSet);if(n!==r)return r-n}return e.averageBitrate!==t.averageBitrate?e.averageBitrate-t.averageBitrate:0}));let c=l[0];if(this.steering&&(o=this.steering.filterParsedLevels(o),o.length!==l.length))for(let f=0;f<l.length;f++)if(l[f].pathwayId===o[0].pathwayId){c=l[f];break}this._levels=o;for(let f=0;f<o.length;f++)if(o[f]===c){var u;this._firstLevel=f;const e=c.bitrate,t=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${o.length} level(s) found, first bitrate: ${e}`),void 0===(null==(u=this.hls.userConfig)?void 0:u.abrEwmaDefaultEstimate)){const n=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);n>t&&t===kc.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=n)}break}const d=i&&!r,h={levels:o,audioTracks:a,subtitleTracks:s,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:i,video:r,altAudio:!d&&a.some((e=>!!e.url))};this.hls.trigger(mn.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(0===t.length)return;if(e<0||e>=t.length){const n=new Error("invalid level idx"),r=e<0;if(this.hls.trigger(mn.ERROR,{type:gn.OTHER_ERROR,details:vn.LEVEL_SWITCH_ERROR,level:e,fatal:r,error:n,reason:n.message}),r)return;e=Math.min(e,t.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,i=r?r.attrs["PATHWAY-ID"]:void 0,a=t[e],s=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,n===e&&a.details&&r&&i===s)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${s?" with Pathway "+s:""} from level ${n}${i?" with Pathway "+i:""}`);const o={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(mn.LEVEL_SWITCHING,o);const l=a.details;if(!l||l.live){const e=this.switchParams(a.uri,null==r?void 0:r.details,l);this.loadPlaylist(e)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(void 0===this._startLevel){const e=this.hls.config.startLevel;return void 0!==e?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,t){!t.fatal&&t.context&&t.context.type===bi&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,t){let{frag:n}=t;if(void 0!==n&&n.type===_i){const e=n.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return;const t=this._levels[n.level];null!=t&&t.loadError&&(this.log(`Resetting level error count of ${t.loadError} on frag buffered`),t.loadError=0)}}onLevelLoaded(e,t){var n;const{level:r,details:i}=t,a=this._levels[r];var s;if(!a)return this.warn(`Invalid level index ${r}`),void(null!=(s=t.deliveryDirectives)&&s.skip&&(i.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0),this.playlistLoaded(r,t,a.details)):null!=(n=t.deliveryDirectives)&&n.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const t=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){let i=n.uri;if(e)try{i=e.addDirectives(i)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}const a=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""} with${a?" Pathway "+a:""} ${i}`),this.clearTimer(),this.hls.trigger(mn.LEVEL_LOADING,{url:i,level:t,pathwayId:n.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;const n=this._levels.filter(((t,n)=>n!==e||(this.steering&&this.steering.removeLevel(t),t===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,t.details&&t.details.fragments.forEach((e=>e.level=-1))),!1)));ia(n),this._levels=n,this.currentLevelIndex>-1&&null!=(t=this.currentLevel)&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(mn.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,t){let{levels:n}=t;this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(mn.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function Rc(e){const t={};e.forEach((e=>{const n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}class Pc{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[n].loader;if(r){var t;if(e&&e!==(null==(t=r.context)?void 0:t.frag.type))return;r.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn.KEY_LOAD_ERROR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return new es({type:gn.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:n,networkDetails:r})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:r}=e;for(let e=0;e<t.length;e++){const i=t[e];if(r<=i.cc&&("initSegment"===n||"initSegment"===i.sn||n<i.sn)){this.emeController.selectKeySystemFormat(i).then((e=>{i.setKeyFormat(e)}));break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((t=>this.loadInternal(e,t))):this.loadInternal(e)}loadInternal(e,t){var n,r;t&&e.setKeyFormat(t);const i=e.decryptdata;if(!i){const n=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,vn.KEY_LOAD_ERROR,n))}const a=i.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,vn.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let s=this.keyUriToKeyInfo[a];if(null!=(n=s)&&n.decryptdata.key)return i.key=s.decryptdata.key,Promise.resolve({frag:e,keyInfo:s});var o;if(null!=(r=s)&&r.keyLoadPromise)switch(null==(o=s.mediaKeySessionContext)?void 0:o.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return s.keyLoadPromise.then((t=>(i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:s})))}switch(s=this.keyUriToKeyInfo[a]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(s,e):this.loadKeyEME(s,e);case"AES-128":return this.loadKeyHTTP(s,e);default:return Promise.reject(this.createKeyLoadError(e,vn.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(e,t){const n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const t=this.emeController.loadKey(n);if(t)return(e.keyLoadPromise=t.then((t=>(e.mediaKeySessionContext=t,n)))).catch((t=>{throw e.keyLoadPromise=null,t}))}return Promise.resolve(n)}loadKeyHTTP(e,t){const n=this.config,r=new(0,n.loader)(n);return t.keyLoader=e.loader=r,e.keyLoadPromise=new Promise(((i,a)=>{const s={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},o=n.keyLoadPolicy.default,l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,n,r)=>{const{frag:s,keyInfo:o,url:l}=n;if(!s.decryptdata||o!==this.keyUriToKeyInfo[l])return a(this.createKeyLoadError(s,vn.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),r));o.decryptdata.key=s.decryptdata.key=new Uint8Array(e.data),s.keyLoader=null,o.loader=null,i({frag:s,keyInfo:o})},onError:(e,n,r,i)=>{this.resetLoader(n),a(this.createKeyLoadError(t,vn.KEY_LOAD_ERROR,new Error(`HTTP Error ${e.code} loading key ${e.text}`),r,ln({url:s.url,data:void 0},e)))},onTimeout:(e,n,r)=>{this.resetLoader(n),a(this.createKeyLoadError(t,vn.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:(e,n,r)=>{this.resetLoader(n),a(this.createKeyLoadError(t,vn.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};r.load(s,l,c)}))}resetLoader(e){const{frag:t,keyInfo:n,url:r}=e,i=n.loader;t.keyLoader===i&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}function Ic(){return self.SourceBuffer||self.WebKitSourceBuffer}function Dc(){if(!Kr())return!1;const e=Ic();return!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove}class Oc{constructor(e,t,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,t){const{config:n,media:r,stalled:i}=this;if(null===r)return;const{currentTime:a,seeking:s}=r,o=this.seeking&&!s,l=!this.seeking&&s;if(this.seeking=s,a!==e){if(this.moved=!0,s||(this.nudgeRetry=0),null!==i){if(this.stallReported){const e=self.performance.now()-i;_n.warn(`playback not stuck anymore @${a}, after ${Math.round(e)}ms`),this.stallReported=!1}this.stalled=null}return}if(l||o)return void(this.stalled=null);if(r.paused&&!s||r.ended||0===r.playbackRate||!Ha.getBuffered(r).length)return void(this.nudgeRetry=0);const c=Ha.bufferInfo(r,a,0),u=c.nextStart||0;if(s){const e=c.len>2,n=!u||t&&t.start<=a||u-a>2&&!this.fragmentTracker.getPartialFragment(a);if(e||n)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var d;if(!(c.len>0)&&!u)return;const e=Math.max(u,c.start||0)-a,t=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,n=(null==t||null==(d=t.details)?void 0:d.live)?2*t.details.targetduration:2,i=this.fragmentTracker.getPartialFragment(a);if(e>0&&(e<=n||i))return void(r.paused||this._trySkipBufferHole(i))}const h=self.performance.now();if(null===i)return void(this.stalled=h);const f=h-i;if(!s&&f>=250&&(this._reportStall(c),!this.media))return;const p=Ha.bufferInfo(r,a,n.maxBufferHole);this._tryFixBufferStall(p,f)}_tryFixBufferStall(e,t){const{config:n,fragmentTracker:r,media:i}=this;if(null===i)return;const a=i.currentTime,s=r.getPartialFragment(a);if(s){if(this._trySkipBufferHole(s)||!this.media)return}(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-a<n.maxBufferHole)&&t>1e3*n.highBufferWatchdogPeriod&&(_n.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:t,media:n,stallReported:r}=this;if(!r&&n){this.stallReported=!0;const r=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(e)})`);_n.warn(r.message),t.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:e.len})}}_trySkipBufferHole(e){const{config:t,hls:n,media:r}=this;if(null===r)return 0;const i=r.currentTime,a=Ha.bufferInfo(r,i,0),s=i<a.start?a.start:a.nextStart;if(s){const o=a.len<=t.maxBufferHole,l=a.len>0&&a.len<1&&r.readyState<3,c=s-i;if(c>0&&(o||l)){if(c>t.maxBufferHole){const{fragmentTracker:t}=this;let n=!1;if(0===i){const e=t.getAppendedFrag(0,_i);e&&s<e.end&&(n=!0)}if(!n){const n=e||t.getAppendedFrag(i,_i);if(n){let e=!1,r=n.end;for(;r<s;){const n=t.getPartialFragment(r);if(!n){e=!0;break}r+=n.duration}if(e)return 0}}}const a=Math.max(s+.05,i+.1);if(_n.warn(`skipping hole, adjusting currentTime from ${i} to ${a}`),this.moved=!0,this.stalled=null,r.currentTime=a,e&&!e.gap){const t=new Error(`fragment loaded with buffer holes, seeking from ${i} to ${a}`);n.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:t,reason:t.message,frag:e})}return a}}return 0}_tryNudgeBuffer(){const{config:e,hls:t,media:n,nudgeRetry:r}=this;if(null===n)return;const i=n.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){const a=i+(r+1)*e.nudgeOffset,s=new Error(`Nudging 'currentTime' from ${i} to ${a}`);_n.warn(s.message),n.currentTime=a,t.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.BUFFER_NUDGE_ON_STALL,error:s,fatal:!1})}else{const n=new Error(`Playhead still not moving while enough data buffered @${i} after ${e.nudgeMaxRetry} nudges`);_n.error(n.message),t.trigger(mn.ERROR,{type:gn.MEDIA_ERROR,details:vn.BUFFER_STALLED_ERROR,error:n,fatal:!0})}}}class Mc extends ys{constructor(e,t,n){super(e,t,n,"[stream-controller]",_i),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mn.LEVEL_LOADING,this.onLevelLoading,this),e.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mn.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(mn.ERROR,this.onError,this),e.on(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(mn.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(mn.BUFFER_CREATED,this.onBufferCreated,this),e.on(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mn.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mn.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(mn.ERROR,this.onError,this),e.off(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(mn.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(mn.BUFFER_CREATED,this.onBufferCreated,this),e.off(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mn.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:t,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let e=n.startLevel;-1===e&&(n.config.testBandwidth&&this.levels.length>1?(e=0,this.bitrateTest=!0):e=n.firstAutoLevel),n.nextLoadLevel=e,this.level=n.loadLevel,this.loadedmetadata=!1}t>0&&-1===e&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t),this.state=os,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=ss}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case vs:{const{levels:e,level:t}=this,n=null==e?void 0:e[t],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n)){if(this.waitForCdnTuneIn(r))break;this.state=os;break}if(this.hls.nextLoadLevel!==this.level){this.state=os;break}break}case us:{var e;const t=self.performance.now(),n=this.retryDate;if(!n||t>=n||null!=(e=this.media)&&e.seeking){const{levels:e,level:t}=this,n=null==e?void 0:e[t];this.resetStartWhenNotLoaded(n||null),this.state=os}}}this.state===os&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:n,media:r}=this;if(null===t||!r&&(this.startFragRequested||!e.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const i=e.nextLoadLevel;if(null==n||!n[i])return;const a=n[i],s=this.getMainFwdBufferInfo();if(null===s)return;const o=this.getLevelDetails();if(o&&this._streamEnded(s,o)){const e={};return this.altAudio&&(e.type="video"),this.hls.trigger(mn.BUFFER_EOS,e),void(this.state=ps)}e.loadLevel!==i&&-1===e.manualLevel&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=e.nextLoadLevel=i;const l=a.details;if(!l||this.state===vs||l.live&&this.levelLastLoaded!==a)return this.level=i,void(this.state=vs);const c=s.len,u=this.getMaxBufferLength(a.maxBitrate);if(c>=u)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:s.end;let h=this.getNextFragment(d,l);if(this.couldBacktrack&&!this.fragPrevious&&h&&"initSegment"!==h.sn&&this.fragmentTracker.getState(h)!==Fa){var f;const e=(null!=(f=this.backtrackFragment)?f:h).sn-l.startSN,t=l.fragments[e-1];t&&h.cc===t.cc&&(h=t,this.fragmentTracker.removeFragment(t))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,d)){if(!h.gap){const e=this.audioOnly&&!this.altAudio?jn:Nn,t=(e===Nn?this.videoBuffer:this.mediaBuffer)||this.media;t&&this.afterBufferFlushed(t,e,_i)}h=this.getNextFragmentLoopLoading(h,l,s,_i,u)}h&&(!h.initSegment||h.initSegment.data||this.bitrateTest||(h=h.initSegment),this.loadFragment(h,a,d))}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);this.fragCurrent=e,r===Da||r===Ma?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,super.loadFragment(e,t,n)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,_i)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(null!=t&&t.readyState){let n;const r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const i=this.getLevelDetails();if(null!=i&&i.live){const e=this.getMainFwdBufferInfo();if(!e||e.len<2*i.targetduration)return}if(!t.paused&&e){const t=e[this.hls.nextLoadLevel],r=this.fragLastKbps;n=r&&this.fragCurrent?this.fragCurrent.duration*t.maxBitrate/(1e3*r)+1:0}else n=0;const a=this.getBufferedFrag(t.currentTime+n);if(a){const e=this.followingBufferedFrag(a);if(e){this.abortCurrentFrag();const t=e.maxStartPTS?e.maxStartPTS:e.start,n=e.duration,r=Math.max(a.end,t+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,n*(this.couldBacktrack?.5:.125)),n*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(r,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case ls:case cs:case us:case hs:case fs:this.state=os}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const n=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new Oc(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,t=e?e.currentTime:null;hn(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(mn.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,t){let n=!1,r=!1;t.levels.forEach((e=>{const t=e.audioCodec;t&&(n=n||-1!==t.indexOf("mp4a.40.2"),r=r||-1!==t.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=n&&r&&!function(){var e;const t=Ic();return"function"===typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:n}=this;if(!n||this.state!==os)return;const r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=vs)}onLevelLoaded(e,t){var n;const{levels:r}=this,i=t.level,a=t.details,s=a.totalduration;if(!r)return void this.warn(`Levels were reset while loading level ${i}`);this.log(`Level ${i} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${s}`);const o=r[i],l=this.fragCurrent;!l||this.state!==cs&&this.state!==us||l.level!==t.level&&l.loader&&this.abortCurrentFrag();let c=0;if(a.live||null!=(n=o.details)&&n.live){var u;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;c=this.alignPlaylists(a,o.details,null==(u=this.levelLastLoaded)?void 0:u.details)}if(o.details=a,this.levelLastLoaded=o,this.hls.trigger(mn.LEVEL_UPDATED,{details:a,level:i}),this.state===vs){if(this.waitForCdnTuneIn(a))return;this.state=os}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,c),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:n,part:r,payload:i}=e,{levels:a}=this;if(!a)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const s=a[n.level],o=s.details;if(!o)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const l=s.videoCodec,c=o.PTSKnown||!o.live,u=null==(t=n.initSegment)?void 0:t.data,d=this._getAudioCodec(s),h=this.transmuxer=this.transmuxer||new ko(this.hls,_i,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=r?r.index:-1,p=-1!==f,m=new za(n.level,n.sn,n.stats.chunkCount,i.byteLength,f,p),g=this.initPTS[n.cc];h.push(i,u,d,l,n,r,o.totalduration,c,m,g)}onAudioTrackSwitching(e,t){const n=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const e=this.fragCurrent;e&&(this.log("Switching to main audio track, cancel main fragment load"),e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const e=this.hls;n&&(e.trigger(mn.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),e.trigger(mn.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const n=t.id,r=!!this.hls.audioTracks[n].url;if(r){const e=this.videoBuffer;e&&this.mediaBuffer!==e&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e)}this.altAudio=r,this.tick()}onBufferCreated(e,t){const n=t.tracks;let r,i,a=!1;for(const s in n){const e=n[s];if("main"===e.id){if(i=s,r=e,"video"===s){const e=n[s];e&&(this.videoBuffer=e.buffer)}}else a=!0}a&&r?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:n,part:r}=t;if(n&&n.type!==_i)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===fs&&(this.state=os));const i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}onError(e,t){var n;if(t.fatal)this.state=ms;else switch(t.details){case vn.FRAG_GAP:case vn.FRAG_PARSING_ERROR:case vn.FRAG_DECRYPT_ERROR:case vn.FRAG_LOAD_ERROR:case vn.FRAG_LOAD_TIMEOUT:case vn.KEY_LOAD_ERROR:case vn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(_i,t);break;case vn.LEVEL_LOAD_ERROR:case vn.LEVEL_LOAD_TIMEOUT:case vn.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==vs||(null==(n=t.context)?void 0:n.type)!==bi||(this.state=os);break;case vn.BUFFER_APPEND_ERROR:case vn.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;if(t.details===vn.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case vn.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}checkBuffer(){const{media:e,gapController:t}=this;if(e&&t&&e.readyState){if(this.loadedmetadata||!Ha.getBuffered(e).length){const e=this.state!==os?this.fragCurrent:null;t.poll(this.lastCurrentTime,e)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=os,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,t){let{type:n}=t;if(n!==jn||this.audioOnly&&!this.altAudio){const e=(n===Nn?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(e,n,_i),this.tick()}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void this.log(`could not seek to ${n}, already seeking at ${t}`);const r=Ha.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${i} to match buffer start`),n+=i,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${t}`),e.currentTime=n}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then((n=>{const{hls:r}=this;if(!n||this.fragContextChanged(e))return;t.fragmentError=0,this.state=os,this.startFragRequested=!1,this.bitrateTest=!1;const i=e.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),r.trigger(mn.FRAG_LOADED,n),e.bitrateTest=!1}))}_handleTransmuxComplete(e){var t;const n="main",{hls:r}=this,{remuxResult:i,chunkMeta:a}=e,s=this.getCurrentContext(a);if(!s)return void this.resetWhenMissingContext(a);const{frag:o,part:l,level:c}=s,{video:u,text:d,id3:h,initSegment:f}=i,{details:p}=c,m=this.altAudio?void 0:i.audio;if(this.fragContextChanged(o))this.fragmentTracker.removeFragment(o);else{if(this.state=hs,f){if(null!=f&&f.tracks){const e=o.initSegment||o;this._bufferInitSegment(c,f.tracks,e,a),r.trigger(mn.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:n,tracks:f.tracks})}const e=f.initPTS,t=f.timescale;hn(e)&&(this.initPTS[o.cc]={baseTime:e,timescale:t},r.trigger(mn.INIT_PTS_FOUND,{frag:o,id:n,initPTS:e,timescale:t}))}if(u&&p&&"initSegment"!==o.sn){const e=p.fragments[o.sn-1-p.startSN],t=o.sn===p.startSN,n=!e||o.cc>e.cc;if(!1!==i.independent){const{startPTS:e,endPTS:r,startDTS:i,endDTS:s}=u;if(l)l.elementaryStreams[u.type]={startPTS:e,endPTS:r,startDTS:i,endDTS:s};else if(u.firstKeyFrame&&u.independent&&1===a.id&&!n&&(this.couldBacktrack=!0),u.dropped&&u.independent){const i=this.getMainFwdBufferInfo(),a=(i?i.end:this.getLoadPosition())+this.config.maxBufferHole,l=u.firstKeyFramePTS?u.firstKeyFramePTS:e;if(!t&&a<l-this.config.maxBufferHole&&!n)return void this.backtrack(o);n&&(o.gap=!0),o.setElementaryStreamInfo(u.type,o.start,r,o.start,s,!0)}else t&&e>2&&(o.gap=!0);o.setElementaryStreamInfo(u.type,e,r,i,s),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(u,o,l,a,t||n)}else{if(!t&&!n)return void this.backtrack(o);o.gap=!0}}if(m){const{startPTS:e,endPTS:t,startDTS:n,endDTS:r}=m;l&&(l.elementaryStreams[jn]={startPTS:e,endPTS:t,startDTS:n,endDTS:r}),o.setElementaryStreamInfo(jn,e,t,n,r),this.bufferFragmentData(m,o,l,a)}if(p&&null!=h&&null!=(t=h.samples)&&t.length){const e={id:n,frag:o,details:p,samples:h.samples};r.trigger(mn.FRAG_PARSING_METADATA,e)}if(p&&d){const e={id:n,frag:o,details:p,samples:d.samples};r.trigger(mn.FRAG_PARSING_USERDATA,e)}}}_bufferInitSegment(e,t,n,r){if(this.state!==hs)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:i,video:a,audiovideo:s}=t;if(i){let t=e.audioCodec;const n=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");const e=i.metadata;e&&"channelCount"in e&&1!==(e.channelCount||1)&&-1===n.indexOf("firefox")&&(t="mp4a.40.5")}t&&-1!==t.indexOf("mp4a.40.5")&&-1!==n.indexOf("android")&&"audio/mpeg"!==i.container&&(t="mp4a.40.2",this.log(`Android: force audio codec to ${t}`)),e.audioCodec&&e.audioCodec!==t&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${t}"`),i.levelCodec=t,i.id="main",this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${t||""}/${e.audioCodec||""}/${i.codec}]`)}a&&(a.levelCodec=e.videoCodec,a.id="main",this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${a.codec}]`)),s&&this.log(`Init audiovideo buffer, container:${s.container}, codecs[level/parsed]=[${e.codecs}/${s.codec}]`),this.hls.trigger(mn.BUFFER_CODECS,t),Object.keys(t).forEach((e=>{const i=t[e].initSegment;null!=i&&i.byteLength&&this.hls.trigger(mn.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,_i)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=os}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&!1===e.seeking){const n=e.currentTime;if(Ha.isBuffered(e,n)?t=this.getAppendedFrag(n):Ha.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const e=this.fragPlaying,n=t.level;e&&t.sn===e.sn&&e.level===n||(this.fragPlaying=t,this.hls.trigger(mn.FRAG_CHANGED,{frag:t}),e&&e.level===n||this.hls.trigger(mn.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const t=e.currentTime,n=this.currentFrag;if(n&&hn(t)&&hn(n.programDateTime)){const e=n.programDateTime+1e3*(t-n.start);return new Date(e)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Fc{static get version(){return"1.5.13"}static isMSESupported(){return Dc()}static isSupported(){return function(){if(!Dc())return!1;const e=Kr();return"function"===typeof(null==e?void 0:e.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((t=>e.isTypeSupported(Qr(t,"video"))))||["mp4a.40.2","fLaC"].some((t=>e.isTypeSupported(Qr(t,"audio")))))}()}static getMediaSource(){return Kr()}static get Events(){return mn}static get ErrorTypes(){return gn}static get ErrorDetails(){return vn}static get DefaultConfig(){return Fc.defaultConfig?Fc.defaultConfig:kc}static set DefaultConfig(e){Fc.defaultConfig=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Co,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(e,t){if("object"===typeof console&&!0===e||"object"===typeof e){Sn(e,"debug","log","info","warn","error");try{xn.log(`Debug logs enabled for "${t}" in hls.js version 1.5.13`)}catch(Vt){xn=bn}}else xn=bn}(e.debug||!1,"Hls instance");const t=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=Ac(e),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((e=>{const i=`${"level"===e?"playlist":e}LoadPolicy`,a=void 0===t[i],s=[];r.forEach((r=>{const o=`${e}Loading${r}`,l=t[o];if(void 0!==l&&a){s.push(o);const e=n[i].default;switch(t[i]={default:e},r){case"TimeOut":e.maxLoadTimeMs=l,e.maxTimeToFirstByteMs=l;break;case"MaxRetry":e.errorRetry.maxNumRetry=l,e.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":e.errorRetry.retryDelayMs=l,e.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":e.errorRetry.maxRetryDelayMs=l,e.timeoutRetry.maxRetryDelayMs=l}}})),s.length&&_n.warn(`hls.js config: "${s.join('", "')}" setting(s) are deprecated, use "${i}": ${JSON.stringify(t[i])}`)})),ln(ln({},n),t)}(Fc.DefaultConfig,e);this.userConfig=e,t.progressive&&jc(t);const{abrController:n,bufferController:r,capLevelController:i,errorController:a,fpsController:s}=t,o=new a(this),l=this.abrController=new n(this),c=this.bufferController=new r(this),u=this.capLevelController=new i(this),d=new s(this),h=new ki(this),f=new $i(this),p=t.contentSteeringController,m=p?new p(this):null,g=this.levelController=new Lc(this,m),v=new Ua(this),y=new Pc(this.config),b=this.streamController=new Mc(this,v,y);u.setStreamController(b),d.setStreamController(b);const x=[h,g,b];m&&x.splice(1,0,m),this.networkControllers=x;const S=[l,c,u,d,f,v];this.audioTrackController=this.createController(t.audioTrackController,x);const _=t.audioStreamController;_&&x.push(new _(this,v,y)),this.subtitleTrackController=this.createController(t.subtitleTrackController,x);const w=t.subtitleStreamController;w&&x.push(new w(this,v,y)),this.createController(t.timelineController,S),y.emeController=this.emeController=this.createController(t.emeController,S),this.cmcdController=this.createController(t.cmcdController,S),this.latencyController=this.createController(Bi,S),this.coreComponents=S,x.push(o);const E=o.onErrorOut;"function"===typeof E&&this.on(mn.ERROR,E,o)}createController(e,t){if(e){const n=new e(this);return t&&t.push(n),n}return null}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(e,t,n)}once(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(e,t,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=arguments.length>3?arguments[3]:void 0;this._emitter.off(e,t,n,r)}listeners(e){return this._emitter.listeners(e)}emit(e,t,n){return this._emitter.emit(e,t,n)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){if(_n.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const t=e===mn.ERROR;this.trigger(mn.ERROR,{type:gn.OTHER_ERROR,details:vn.INTERNAL_EXCEPTION,fatal:t,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){_n.log("destroy"),this.trigger(mn.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((e=>e.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((e=>e.destroy())),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){_n.log("attachMedia"),this._media=e,this.trigger(mn.MEDIA_ATTACHING,{media:e})}detachMedia(){_n.log("detachMedia"),this.trigger(mn.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const t=this.media,n=this.url,r=this.url=sn.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,_n.log(`loadSource:${r}`),t&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(mn.MANIFEST_LOADING,{url:e})}startLoad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;_n.log(`startLoad(${e})`),this.started=!0,this.networkControllers.forEach((t=>{t.startLoad(e)}))}stopLoad(){_n.log("stopLoad"),this.started=!1,this.networkControllers.forEach((e=>{e.stopLoad()}))}resumeBuffering(){this.started&&this.networkControllers.forEach((e=>{"fragmentLoader"in e&&e.startLoad(-1)}))}pauseBuffering(){this.networkControllers.forEach((e=>{"fragmentLoader"in e&&e.stopLoad()}))}swapAudioCodec(){_n.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){_n.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){_n.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){_n.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){_n.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){_n.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return-1===e&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){_n.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(_n.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){(function(e){return Gi.indexOf(e)>-1})(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const n=e.length;for(let r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:n}=this;let r;if(r=-1===t&&null!=e&&e.length?e.length-1:t,n)for(let i=r;i--;){const t=e[i].attrs["HDCP-LEVEL"];if(t&&t<=n)return i}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var t;return null==(t=this.audioTrackController)?void 0:t.setAudioOption(e)}setSubtitleOption(e){var t;return null==(t=this.subtitleTrackController)||t.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Fc.defaultConfig=void 0;const Uc=e=>{let{isOpen:n,onClose:r,videoUrl:i}=e;const a=(0,t.useRef)(null);if((0,t.useEffect)((()=>{if(n&&i&&a.current){if(Fc.isSupported()&&i.includes(".m3u8")){const e=new Fc;return e.loadSource(i),e.attachMedia(a.current),e.on(Fc.Events.MANIFEST_PARSED,(()=>{a.current.play().catch((e=>{console.error("Error playing HLS stream:",e)}))})),()=>{e.destroy()}}a.current.src=i,a.current.play().catch((e=>{console.error("Error playing video:",e)}))}}),[n,i]),!n)return null;return(0,At.jsx)("div",{className:"modal-overlay video-frame",onClick:r,children:(0,At.jsxs)("div",{className:"modal-content video-play-data",onClick:e=>e.stopPropagation(),children:[(0,At.jsx)("button",{className:"close-button",onClick:r,children:"\xd7"}),(0,At.jsx)("video",{ref:a,controls:!0,autoPlay:!0})]})})};var $c=n(718);const Bc=e=>{var n,r;let{videos:a,loading:s}=e;const[o,l]=(0,t.useState)(null);return(0,At.jsx)("section",{className:"live",children:(0,At.jsxs)("div",{className:"container",children:[s?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("h2",{children:(0,At.jsx)(tn.A,{width:150,height:30})}),(0,At.jsx)("div",{className:"social-carousel",children:[...Array(6)].map(((e,t)=>(0,At.jsxs)("div",{className:"item",children:[(0,At.jsx)("div",{className:"img-box",children:(0,At.jsx)(tn.A,{height:350,width:250})}),(0,At.jsxs)("div",{className:"content",children:[(0,At.jsx)(tn.A,{width:100}),(0,At.jsx)(tn.A,{width:150})]})]},t)))})]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("h2",{children:a.heading}),(0,At.jsx)("div",{className:"social-carousel",children:(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(r=n.carousel)||void 0===r?void 0:r.length)>0?a.data.carousel.map(((e,t)=>(0,At.jsxs)("div",{className:"item",children:[(0,At.jsx)("div",{className:"img-box",children:(0,At.jsx)("img",{src:e.video_thumbnail_web,alt:`Social Image ${t+1}`,onClick:()=>{return t=e.video_url,l(t);var t}})}),(0,At.jsxs)("div",{className:"content",children:[(0,At.jsx)("h3",{children:(0,At.jsx)(i.N_,{to:`/visit-store/${e.store_uuid}`,children:e.store_name})}),(0,At.jsx)("h4",{children:e.video_description})]})]},t))):(0,At.jsx)("p",{children:"No videos available"})})]}),(0,At.jsx)(Uc,{isOpen:!!o,onClose:()=>l(null),videoUrl:o})]})})};var Gc=n(768),Hc=n.n(Gc);n(33);const zc=e=>{var t,n,r;let{products:a={},loading:s}=e;const o=(0,Bt.Zp)(),l=(null===(t=a.data)||void 0===t?void 0:t.carousel)||[],c=a.heading||"Latest Arrivals";return(0,At.jsx)("section",{className:"latest",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsxs)("h2",{children:[s?(0,At.jsx)(tn.A,{width:200}):c,!s&&l.length>0&&(0,At.jsx)(i.N_,{to:`/latest-arrivals/${(null===(n=l[0])||void 0===n?void 0:n.tag_id)||""}/${(null===(r=l[0])||void 0===r?void 0:r.tag_type)||""}`,className:"read-more"})]}),s?(0,At.jsx)("div",{className:"carousel-skeleton social-carousel",children:[...Array(6)].map(((e,t)=>(0,At.jsxs)("div",{className:"item",children:[(0,At.jsx)("div",{className:"img-box",children:(0,At.jsx)(tn.A,{height:350,width:230})}),(0,At.jsxs)("div",{className:"content",children:[(0,At.jsx)(tn.A,{width:100,height:30,style:{marginTop:"10px"}}),(0,At.jsx)(tn.A,{width:150,height:40})]})]},t)))}):(0,At.jsx)("div",{className:"social-carousel",children:l.length>0?l.map(((e,t)=>(0,At.jsxs)("div",{className:"item",onClick:()=>{return t=e.sui,void o(`/product/${t}`);var t},children:[(0,At.jsx)("div",{className:"img-box",children:(0,At.jsxs)(i.N_,{to:`/product/${e.sui}`,children:[(0,At.jsx)($c.A,{thumbnailSrc:e.image_url_thumb||"https://via.placeholder.com/300",fullImageSrc:e.image_url||"https://via.placeholder.com/300",alt:e.product_title,onError:e=>e.target.src="https://via.placeholder.com/300"}),(0===e.in_stock||"0"===e.in_stock)&&(0,At.jsx)("span",{className:"sold-out",children:"Sold Out"})]})}),(0,At.jsxs)("div",{className:"content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/visit-store/${e.store_uuid}`,children:e.store_name})}),(0,At.jsxs)("div",{className:"price",children:[(0,At.jsx)("span",{children:(0,At.jsx)(i.N_,{to:`/product/${e.sui}`,children:e.product_title})}),(0,At.jsxs)("div",{className:"price-content-sec",children:[e.display_total_price!==e.display_final_price&&(0,At.jsx)("span",{className:"strike_price",children:`${e.display_currency_symbol}${e.display_total_price}`}),(0,At.jsx)("span",{className:"final_price",children:`${e.display_currency_symbol}${e.display_final_price}`}),e.display_total_price!==e.display_final_price&&(0,At.jsx)("span",{className:"discount",children:`${e.display_discount}% off`})]})]})]})]},t))):(0,At.jsx)("p",{children:"No products available."})})]})})},Yc=e=>{var n;let{digital_stores:r={},loading:a}=e;const[s,o]=(0,t.useState)("carousel"),l=(null===(n=r.carousel)||void 0===n?void 0:n.length)>0,c={items:1,loop:l&&r.carousel.length>1,autoplay:l&&r.carousel.length>1,autoplayTimeout:5e3,dots:!0};return(0,At.jsx)("section",{className:"store",children:(0,At.jsxs)("div",{className:"visit-store-digitally",children:[(0,At.jsxs)("h2",{children:[a?(0,At.jsx)(tn.A,{width:200}):r.heading,!a&&(0,At.jsx)(i.N_,{to:"/stores",className:"read-more"})]}),(0,At.jsxs)("div",{className:"view-toggle",style:{display:"none"},children:[(0,At.jsx)("button",{onClick:()=>o("carousel"),disabled:"carousel"===s,children:"Carousel View"}),(0,At.jsx)("button",{onClick:()=>o("grid"),disabled:"grid"===s,children:"Grid View"})]}),"carousel"===s?(0,At.jsx)("div",{className:"carousel-section",children:a?(0,At.jsx)(tn.A,{height:800,count:1}):l?(0,At.jsx)(Hc(),{className:"store-carousel owl-carousel owl-theme",...c,children:r.carousel.map(((e,t)=>(0,At.jsx)("div",{className:"item",children:(0,At.jsx)(i.N_,{to:e.store_uuid?`/visit-store/${e.store_uuid}`:"/stores",className:"banner-btn",children:(0,At.jsx)($c.A,{thumbnailSrc:e.profile_image_thumb,fullImageSrc:e.profile_image,alt:e.store_name||"Store Image",className:"carousel-image",onError:e=>e.target.src="https://via.placeholder.com/300"})})},t)))}):(0,At.jsx)("p",{children:"No digital stores available."})}):"Store Not Found"]})})},Wc=(0,t.lazy)((()=>n.e(720).then(n.bind(n,720)))),Vc=(0,t.lazy)((()=>n.e(25).then(n.bind(n,25)))),Kc=()=>{const{logout:e}=It(),{setCurrencyPreference:n}=Ft(),r=(0,Bt.Zp)(),{setCartCount:i}=Nt(),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{let t=localStorage.getItem("apiToken");null!=t&&(async()=>{u(!0);try{const n=localStorage.getItem("clientId");"guest"!==localStorage.getItem("userRole")||t.startsWith("guest_")||(t="guest_"+t);const a=await yt.post("/user/user_home_web",{api_token:t,app_type:"web",app_version:"1.0",country_code:"US",advertiser_id:"",device_token:n});if(200===a.data.status){const e=await yt.post("/cart/create_cart",{api_token:t});if(e.data&&e.data.cart_data){const{cart_id:t,order_num:n,item_count:r}=e.data.cart_data;localStorage.setItem("cart_id",t),localStorage.setItem("order_num",n),localStorage.setItem("item_count",r),localStorage.setItem("cartCount",r),"number"!==typeof r||isNaN(r)?console.error("Invalid item_count:",r):i(r)}else console.error("Cart data is missing:",e.data);s(a.data),localStorage.setItem("userCountryCode",a.data.user_data.base_country_code),localStorage.setItem("userUuid",a.data.user_data.user_uuid)}else 401===a.data.status&&(e(),r("/home"))}catch(o){l(o.message)}finally{u(!1)}})()}),[e,i,r]),(0,At.jsxs)("div",{className:"main-content",children:[(0,At.jsx)(t.Suspense,{fallback:(0,At.jsx)(tn.A,{height:800,count:1}),children:a.slider_1?(0,At.jsx)(Wc,{banners:a.slider_1}):(0,At.jsx)(tn.A,{height:800,count:1})}),c?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)(Bc,{loading:c}),(0,At.jsx)(zc,{loading:c}),(0,At.jsx)(Yc,{loading:c})]}):(0,At.jsxs)(At.Fragment,{children:[a.live_social&&(0,At.jsx)(Bc,{videos:a.live_social}),(0,At.jsx)(t.Suspense,{fallback:(0,At.jsx)(tn.A,{height:800,count:1}),children:a.slider_2?(0,At.jsx)(Vc,{bannerImage:a.slider_2}):(0,At.jsx)(tn.A,{height:800,count:1})}),a.latest_arrival&&(0,At.jsx)(zc,{products:a.latest_arrival}),a.digital_stores&&(0,At.jsx)(Yc,{digital_stores:a.digital_stores})]})]})};var qc=n(195),Xc=n.n(qc);const Zc=JSON.parse('{"1":"US","7":"RU","20":"EG","27":"ZA","30":"GR","31":"NL","32":"BE","33":"FR","34":"ES","36":"HU","39":"IT","40":"RO","41":"CH","43":"AT","44":"GB","45":"DK","46":"SE","47":"NO","48":"PL","49":"DE","51":"PE","52":"MX","53":"CU","54":"AR","55":"BR","56":"CL","57":"CO","58":"VE","60":"MY","61":"AU","62":"ID","63":"PH","64":"NZ","65":"SG","66":"TH","81":"JP","82":"KR","84":"VN","86":"CN","90":"TR","91":"IN","92":"PK","93":"AF","94":"LK","95":"MM","98":"IR","211":"SS","212":"MA","213":"DZ","216":"TN","218":"LY","220":"GM","221":"SN","222":"MR","223":"ML","224":"GN","225":"CI","226":"BF","227":"NE","228":"TG","229":"BJ","230":"MU","231":"LR","232":"SL","233":"GH","234":"NG","235":"TD","236":"CF","237":"CM","238":"CV","239":"ST","240":"GQ","241":"GA","242":"CG","243":"CD","244":"AO","245":"GW","246":"IO","247":"AC","248":"SC","249":"SD","250":"RW","251":"ET","252":"SO","253":"DJ","254":"KE","255":"TZ","256":"UG","257":"BI","258":"MZ","260":"ZM","261":"MG","262":"RE","263":"ZW","264":"NA","265":"MW","266":"LS","267":"BW","268":"SZ","269":"KM","290":"SH","291":"ER","297":"AW","298":"FO","299":"GL"}'),Qc=e=>{const[t,n]=e.split("-"),r=Zc[t];if(r)return`${r}-${n}`;throw new Error("Invalid country code")},Jc=e=>{const[t]=e.split("-"),n=Zc[t];if(n)return`${n}`;throw new Error("Invalid country code")},eu=()=>{const e=(0,Bt.Zp)();(0,t.useEffect)((()=>{localStorage.getItem("userUid")&&localStorage.getItem("LoggedIn")&&"shopper"===localStorage.getItem("userRole")&&e("/")}));const{login:n}=It(),[r,i]=(0,t.useState)("login"),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[w,E]=(0,t.useState)(!1),[T,C]=(0,t.useState)(null),[k,A]=(0,t.useState)(!0),[j,N]=(0,t.useState)(!1),L=e=>{i(e),s(""),l(""),u(""),h(""),p(""),g(""),y(!1),x(!1),_(!1),C(null),N(!1)},R=async e=>{e.preventDefault();try{let e;const t=o||(a?Qc(a):"");if(!t)return console.error("Error: Both email and phone are empty."),void C("Error: Both email and phone are empty.");const n=await yt.post("/user/check_user",{username:t});if("login"===r)if(200===n.data.status)e=await yt.post("/user/otp_login",{email:o||"",phone:a?Qc(a):""}),C(null),y(!0);else{if(404!==n.data.status||"User not found"!==n.data.message)throw new Error("Unexpected response from server.");C("Your account doesn't exist with this phone or email. Please sign up first, then try again.")}else if("signup"===r)if(404===n.data.status&&"User not found"===n.data.message){const t=localStorage.getItem("apiToken");let n;t&&!t.startsWith("guest_")&&(n=`guest_${t}`,localStorage.setItem("apiToken",n)),e=await yt.post("/user/signup",{email:o||"",phone:a?Qc(a):"",country_code:a?Jc(a):"US",guest_token:n,password:"",referral_code:"",gender:"",role:"shopper",name:""}),y(!0),C(null)}else{if(200!==n.data.status)throw new Error("Unexpected response from server.");C("Your account already exists with this phone or email. Please sign in.")}}catch(Cm){console.error("OTP request error:",Cm),C("Failed to get OTP. Please try again.")}finally{E(!1)}},P=t=>{localStorage.setItem("apiToken",t.api_token),localStorage.setItem("userRole",t.role),localStorage.setItem("userName",t.name),localStorage.setItem("userEmail",t.email),localStorage.setItem("userUid",t.user_uid),localStorage.setItem("LoggedIn",!0),n(t.api_token,t.role),C(null),e("/")},I=async(e,t)=>{var n,r;const i=o||(a?Qc(a):""),s=a?Jc(a):"US",l=localStorage.getItem("clientId"),c=await yt.post("/user/login",{otp:"",username:i,country_code:s,device_token:l,device_type:"web",app_version:"1.0",guest_api_token:t,password:e});200===(null===(n=c.data)||void 0===n?void 0:n.status)&&"success"===(null===(r=c.data)||void 0===r?void 0:r.message)?P(c.data):C("OTP verification failed.")},D=async e=>{var t;const n=await yt.post("/user/signup",{email:o||"",phone:a?Qc(a):"",country_code:a?Jc(a):"US",guest_token:e,password:f,referral_code:"",gender:"",role:"shopper",name:""});400===(null===(t=n.data)||void 0===t?void 0:t.status)?C(n.data.message):(y(!0),localStorage.setItem("user_uuid",n.data.user_uuid))},O=()=>{y(!1),x(!0),_(!0),N(!0)},M=e=>{const t=e.replace(/^\+/,""),n=t.slice(0,2),r=t.slice(2);s(`${n}-${r}`),l("")},F=e=>{l(e.target.value),s("")};return(0,At.jsx)("div",{id:"wrapper",children:(0,At.jsx)("div",{className:"signin-block",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("div",{className:"tabs",children:[(0,At.jsxs)("ul",{id:"tabs-nav",children:[(0,At.jsx)("li",{className:"login"===r?"active":"",children:(0,At.jsx)("button",{onClick:()=>L("login"),children:"Sign in"})}),(0,At.jsx)("li",{className:"signup"===r?"active":"",children:(0,At.jsx)("button",{onClick:()=>L("signup"),children:"Sign Up"})})]}),(0,At.jsxs)("div",{id:"tabs-content",children:["login"===r&&(0,At.jsx)("div",{id:"tab1",className:"tab-content",children:(0,At.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d)try{const t=localStorage.getItem("apiToken"),r=(t.split("_")[1],o||(a?Qc(a):"")),i=a?Jc(a):"US",s=localStorage.getItem("clientId"),l=await yt.post("/user/login",{otp:d,username:r,country_code:i,device_token:s,device_type:"web",app_version:"1.0",guest_api_token:t,password:""});l.data&&l.data.api_token&&200===l.data.status&&"success"===l.data.message?(localStorage.setItem("apiToken",l.data.api_token),localStorage.setItem("userRole",l.data.role),localStorage.setItem("userName",l.data.name),localStorage.setItem("userEmail",l.data.email),localStorage.setItem("userUid",l.data.user_uid),localStorage.setItem("LoggedIn",!0),n(l.data.api_token,l.data.role),e("/")):C("OTP verification failed.")}catch(Cm){console.error("OTP confirmation error:",Cm),C("Failed to confirm OTP.")}finally{E(!1)}else if(c)try{localStorage.getItem("apiToken");const t=o||(a?Qc(a):""),r=a?Jc(a):"US";if(!t)return console.error("Error: Both email and phone are empty."),void C("Error: Both email and phone are empty.");{const i=await yt.post("/user/check_user",{username:t}),a=localStorage.getItem("clientId");if(200===i.data.status){const i=await yt.post("/user/login",{username:t,password:c,app_version:"1.0",device_type:"web",device_token:a,country_code:r});i.data&&i.data.api_token?(localStorage.setItem("apiToken",i.data.api_token),localStorage.setItem("userRole",i.data.role),localStorage.setItem("userName",i.data.name),localStorage.setItem("userUid",i.data.user_uid),localStorage.setItem("userEmail",i.data.email),localStorage.setItem("LoggedIn",!0),n(i.data.api_token,i.data.role),e("/")):C(i.data.message)}else{if(404!==i.data.status||"User not found"!==i.data.message)throw new Error("Unexpected response from server.");C("Your account doesn't exist with this phone or email. Please sign up first, then try again.")}}}catch(Cm){console.error("Login error:",Cm),C("Login failed.")}finally{E(!1)}else E(!1),C("Please enter either an OTP or a password.")},autoComplete:"off",children:[(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)(Xc(),{country:"us",value:a,onChange:M,inputStyle:{width:"100%"},disabledCountryCode:!0,inputProps:{name:`phone_${Math.random()}`,id:`phone_${Math.random()}`,autoComplete:"off"}})}),(0,At.jsx)("span",{children:"or"}),(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"email",placeholder:"Email",value:o,onChange:F,name:`email_${Math.random()}`,id:`email_${Math.random()}`,autoComplete:"off"})}),(0,At.jsx)("div",{className:"btn-row",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",id:"otp",onClick:R,children:"Get OTP"})}),(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",onClick:O,children:"Enter Password"})})]})}),v&&(0,At.jsx)("div",{className:"input-row otp",children:(0,At.jsx)("input",{type:"number",placeholder:"Enter OTP Here",value:d,onChange:e=>h(e.target.value),name:`otp_${Math.random()}`,id:`otp_${Math.random()}`,autoComplete:"off"})}),b&&(0,At.jsx)(At.Fragment,{children:(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"password",placeholder:"Password",value:c,onChange:e=>u(e.target.value),name:`password_${Math.random()}`,id:`password_${Math.random()}`,autoComplete:"off"})})}),(0,At.jsx)("a",{href:"/reset-password",className:"forgot-pass",children:"Forgot password?"}),(0,At.jsx)("div",{className:"input-submit",children:(0,At.jsx)("input",{type:"submit",value:w?"Logging in...":"Sign in",disabled:w})}),T&&(0,At.jsx)("div",{className:"error-message",children:T})]})}),"signup"===r&&(0,At.jsx)("div",{id:"tab2",className:"tab-content",children:(0,At.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{let e=localStorage.getItem("apiToken");if(e&&!e.startsWith("guest_")&&(e=`guest_${e}`,localStorage.setItem("apiToken",e)),b)if(f&&m&&d){var t,n;const r=localStorage.getItem("user_uuid"),i=await yt.post("/user/confirm_otp",{otp:d,email:o||"",phone:a?Qc(a):"",user_uuid:r});200===(null===(t=i.data)||void 0===t?void 0:t.status)&&"OTP verified"===(null===(n=i.data)||void 0===n?void 0:n.message)?await I(f,e):C("OTP verification failed.")}else f&&m&&(f===m?await D(e):C("Passwords do not match."));else{var r,i;const t=o||(a?Qc(a):""),n=a?Jc(a):"US",s=localStorage.getItem("clientId"),l=await yt.post("/user/login",{otp:d,username:t,app_version:"1.0",country_code:n,device_token:s,device_type:"web",guest_api_token:e,password:""});200===(null===(r=l.data)||void 0===r?void 0:r.status)&&"success"===(null===(i=l.data)||void 0===i?void 0:i.message)?P(l.data):(y(!0),C("OTP verification failed."))}}catch(Cm){console.error("Sign-up error:",Cm),C("Sign-up failed.")}finally{E(!1)}},autoComplete:"off",children:[(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)(Xc(),{country:"us",value:a,onChange:M,inputStyle:{width:"100%"},disabledCountryCode:!0,inputProps:{name:`phone_${Math.random()}`,id:`phone_${Math.random()}`,autoComplete:"off"}})}),(0,At.jsx)("span",{children:"or"}),(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"email",placeholder:"Email",value:o,onChange:F,name:`email_${Math.random()}`,id:`email_${Math.random()}`,autoComplete:"off"})}),(0,At.jsx)("div",{className:"btn-row",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",id:"otp",onClick:R,children:"Get OTP"})}),(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",onClick:O,children:"Enter Password"})})]})}),v&&(0,At.jsx)("div",{className:"input-row otp",children:(0,At.jsx)("input",{type:"number",placeholder:"123456",value:d,onChange:e=>h(e.target.value),name:`otp_${Math.random()}`,id:`otp_${Math.random()}`,autoComplete:"off"})}),b&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"password",placeholder:"New Password",value:f,onChange:e=>p(e.target.value),name:`newPassword_${Math.random()}`,id:`newPassword_${Math.random()}`,autoComplete:"off"})}),(0,At.jsx)("div",{className:"input-row confirm-pass",children:(0,At.jsx)("input",{type:"password",placeholder:"Confirm Password",value:m,onChange:e=>g(e.target.value),name:`confirmPassword_${Math.random()}`,id:`confirmPassword_${Math.random()}`,autoComplete:"off"})})]}),(0,At.jsxs)("div",{className:"agree-text",children:[(0,At.jsx)("input",{type:"checkbox",checked:k,onChange:()=>{A(!k)},name:`agree_${Math.random()}`,id:`agree_${Math.random()}`}),(0,At.jsxs)("label",{htmlFor:`agree_${Math.random()}`,children:["By clicking Create account, I agree that I have read and accepted the"," ",(0,At.jsx)("a",{href:"#",children:"Terms of use"})," and"," ",(0,At.jsx)("a",{href:"#",children:"Privacy Policy"})]})]}),(0,At.jsx)("div",{className:"signin-block",children:(0,At.jsxs)("div",{className:"container",children:[T&&(0,At.jsx)("div",{className:"error-message",children:T})," "]})}),(0,At.jsx)("div",{className:"input-submit",children:(0,At.jsx)("input",{type:"submit",value:w?"Signing up...":"Sign Up",disabled:w||!k})})]})})]})]})})})})},tu=()=>{const e=(0,Bt.Zp)(),[n,r]=(0,t.useState)(null),[i,a]=(0,t.useState)({email:"",phone:"",otp:"",newPassword:""}),[s,o]=(0,t.useState)({email:"",phone:"",otp:"",newPassword:""}),[l,c]=(0,t.useState)(1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),p=e=>{a({...i,[e.target.name]:e.target.value}),o({...s,[e.target.name]:""})},m=()=>{f(!h),a({...i,email:"",phone:""}),o({...s,email:"",phone:""})};return(0,At.jsx)("div",{className:"frg-pass",id:"wrapper",children:(0,At.jsxs)("div",{className:"forgot-password-block",children:[(0,At.jsx)("h3",{children:"Account Signup"}),(0,At.jsx)("h4",{children:"Reset Your Password"}),(0,At.jsxs)("p",{children:["Enter the ",h?"phone number":"email address"," associated with your account and we\u2019ll send you a link to reset your password"]}),(0,At.jsxs)("form",{className:"auth-form",onSubmit:async t=>{if(t.preventDefault(),(()=>{let e=!0,t={};var n;return 1===l&&(h||(n=i.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(t.email="Invalid email format",e=!1)),h&&!i.phone&&(t.phone="Phone number is required",e=!1)),2===l&&(i.otp||(t.otp="OTP is required",e=!1)),3===l&&(!i.newPassword||i.newPassword.length<4)&&(t.newPassword="Password must be at least 4 characters",e=!1),o(t),e})())try{if(1===l){const e=i.email||(i.phone?Qc(i.phone):""),t=await yt.post("/user/check_user",{username:e});if(200===t.data.status){const e=await yt.post("/user/forgot_password",{email:h?"":i.email,phone:h?i.phone:""}),t=await e.data;200===e.status?(d(t.message.user_uuid||""),r(null),c(2)):alert(t.message||"Error sending reset password request")}else{if(404!==t.data.status||"User not found"!==t.data.message)throw new Error("Unexpected response from server.");r("Your account doesn't exist with this phone or email. Please sign up first, then try again.")}}else if(2===l){const e=await yt.post("/user/confirm_otp",{otp:i.otp,email:h?"":i.email,phone:h?i.phone:"",user_uuid:u}),t=await e.data;200===t.status?c(3):alert(t.message||"Invalid OTP")}else if(3===l){const t=await yt.post("/user/change_password_confirm",{new_password:i.newPassword,user_uuid:u}),n=await t.data;200===t.status?(alert("Password changed successfully"),a({email:"",phone:"",otp:"",newPassword:""}),e("/login"),c(1),f(!1)):alert(n.message||"Error changing password")}}catch(n){console.error("Error:",n),alert("An error occurred. Please try again later.")}},children:[1===l&&(0,At.jsx)("div",{className:"form-group",children:h?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)(Xc(),{country:"us",value:i.phone,onChange:(e,t,n,r)=>{const l=e.replace(/^\+/,""),c=`${l.slice(0,2)}-${l.slice(2)}`;a({...i,phone:c}),o({...s,phone:""})},placeholder:"Enter your phone number",inputStyle:{width:"100%"},disabledCountryCode:!0}),s.phone&&(0,At.jsx)("div",{className:"error",children:s.phone})]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:p,placeholder:"Enter your email"}),s.email&&(0,At.jsx)("div",{className:"error",children:s.email})]})}),2===l&&(0,At.jsxs)("div",{className:"form-group",children:[(0,At.jsx)("input",{type:"text",id:"otp",name:"otp",value:i.otp,onChange:p,placeholder:"Enter OTP"}),s.otp&&(0,At.jsx)("div",{className:"error",children:s.otp})]}),3===l&&(0,At.jsxs)("div",{className:"form-group",children:[(0,At.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:i.newPassword,onChange:p,placeholder:"Enter new password"}),s.newPassword&&(0,At.jsx)("div",{className:"error",children:s.newPassword})]}),(0,At.jsxs)("button",{type:"submit",children:[1===l&&"Reset Password",2===l&&"Confirm OTP",3===l&&"Change Password"]}),1===l&&(0,At.jsx)("p",{children:h?(0,At.jsxs)("span",{children:["Don\u2019t have access to email? ",(0,At.jsx)("a",{href:"#!",onClick:m,children:"Use Email Instead"})]}):(0,At.jsxs)("span",{children:["Don\u2019t have access to phone? ",(0,At.jsx)("a",{href:"#!",onClick:m,children:"Use Phone Number"})]})}),n&&(0,At.jsx)("div",{className:"error-message",children:n})]})]})})},nu=()=>{const[e,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{const e=await kt();n(e)})()}),[]),(0,At.jsxs)("div",{children:["Your IP Address: ",e]})},ru=()=>(0,At.jsx)("div",{className:"logo account-sign",children:(0,At.jsx)("a",{href:"/",children:(0,At.jsx)("img",{src:"/images/logo.png",alt:"Logo"})})}),iu=e=>{let{activeTab:t,handleTabSwitch:n}=e;return(0,At.jsx)("div",{className:"tabs",children:(0,At.jsxs)("ul",{id:"tabs-nav",children:[(0,At.jsx)("li",{className:"login"===t?"active":"",children:(0,At.jsx)("button",{onClick:()=>n("login"),children:"Sign in"})}),(0,At.jsx)("li",{className:"signup"===t?"active":"",children:(0,At.jsx)("button",{onClick:()=>n("signup"),children:"Sign Up"})})]})})},au=e=>{let{phone:t,email:n,password:r,otp:i,showOtpField:a,showPasswordField:s,loading:o,error:l,handlePhoneChange:c,handleEmailChange:u,handleGetOtp:d,handleResendOtp:h,togglePasswordField:f,handleProceed:p,handleLogin:m,setOtp:g,setPassword:v,showForgotPassword:y,showProceedButton:b}=e;return(0,At.jsxs)("form",{onSubmit:m,autoComplete:"off",children:[(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)(Xc(),{country:"us",value:t,onChange:c,inputStyle:{width:"100%"},disabledCountryCode:!0,inputProps:{name:`phone_${Math.random()}`,id:`phone_${Math.random()}`,autoComplete:"off"}})}),(0,At.jsx)("span",{children:"or"}),(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"email",placeholder:"Email Id",value:n,onChange:u,name:`email_${Math.random()}`,id:`email_${Math.random()}`,autoComplete:"off"})}),(0,At.jsx)("div",{className:"btn-row",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",id:"otp",onClick:d,children:"Get OTP"})}),(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",onClick:f,children:"Enter Password"})})]})}),s&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>v(e.target.value),name:`password_${Math.random()}`,id:`password_${Math.random()}`,autoComplete:"off"})}),(0,At.jsx)("a",{href:"/reset-password",className:"forgot-pass",style:{display:y?"block":"none"},children:"Forgot password?"}),b&&(0,At.jsx)("div",{className:"input-submit",children:(0,At.jsx)("button",{type:"button",onClick:p,children:"Proceed"})})]}),a&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"input-row otp",children:[(0,At.jsx)("input",{type:"number",placeholder:"Enter OTP Here",value:i,onChange:e=>g(e.target.value),name:`otp_${Math.random()}`,id:`otp_${Math.random()}`,autoComplete:"off"}),(0,At.jsx)("button",{type:"button",onClick:h,children:"Resend OTP"})]}),(0,At.jsx)("div",{className:"input-submit",children:(0,At.jsx)("input",{type:"submit",value:o?"Logging in...":"Sign in",disabled:o})})]}),l&&(0,At.jsx)("div",{className:"error-message",children:l})]})},su=e=>{let{phone:t,email:n,otp:r,newPassword:i,confirmPassword:a,showOtpField:s,showPasswordField:o,agreeTerms:l,loading:c,error:u,handlePhoneChange:d,handleEmailChange:h,handleGetOtp:f,togglePasswordField:p,handleSignup:m,setOtp:g,setNewPassword:v,setConfirmPassword:y,handleCheckboxChange:b}=e;return(0,At.jsx)("div",{id:"tab2",className:"tab-content",children:(0,At.jsxs)("form",{onSubmit:m,autoComplete:"off",children:[(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)(Xc(),{country:"US",value:t,onChange:d,inputStyle:{width:"100%"},disabledCountryCode:!0,inputProps:{name:`phone_${Math.random()}`,id:`phone_${Math.random()}`,autoComplete:"off"}})}),(0,At.jsx)("span",{children:"or"}),(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"email",placeholder:"Email Id",value:n,onChange:h,name:`email_${Math.random()}`,id:`email_${Math.random()}`,autoComplete:"off"})}),(0,At.jsx)("div",{className:"btn-row",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",id:"otp",onClick:f,children:"Get OTP"})}),(0,At.jsx)("li",{children:(0,At.jsx)("button",{type:"button",onClick:p,children:"Enter Password"})})]})}),s&&(0,At.jsx)("div",{className:"input-row otp",children:(0,At.jsx)("input",{type:"number",placeholder:"123456",value:r,onChange:e=>g(e.target.value),name:`otp_${Math.random()}`,id:`otp_${Math.random()}`,autoComplete:"off"})}),o&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("div",{className:"input-row",children:(0,At.jsx)("input",{type:"password",placeholder:"New Password",value:i,onChange:e=>v(e.target.value),name:`newPassword_${Math.random()}`,id:`newPassword_${Math.random()}`,autoComplete:"off"})}),(0,At.jsx)("div",{className:"input-row confirm-pass",children:(0,At.jsx)("input",{type:"password",placeholder:"Confirm Password",value:a,onChange:e=>y(e.target.value),name:`confirmPassword_${Math.random()}`,id:`confirmPassword_${Math.random()}`,autoComplete:"off"})})]}),(0,At.jsxs)("div",{className:"agree-text",children:[(0,At.jsx)("input",{type:"checkbox",checked:l,onChange:b,name:`agree_${Math.random()}`,id:`agree_${Math.random()}`}),(0,At.jsxs)("label",{htmlFor:`agree_${Math.random()}`,children:["By clicking Create account, I agree that I have read and accepted the"," ",(0,At.jsx)("a",{href:"#",children:"Terms of use"})," and ",(0,At.jsx)("a",{href:"#",children:"Privacy Policy"})]})]}),(0,At.jsx)("div",{className:"input-submit",children:(0,At.jsx)("input",{type:"submit",value:c?"Signing up...":"Sign Up",disabled:c||!l})}),u&&(0,At.jsx)("div",{className:"error-message",children:u})]})})},ou=()=>{const e=(0,Bt.Zp)(),{login:n}=(()=>{const[e,n]=(0,t.useState)(null);return{user:e,login:async(e,t)=>{}}})(),[r,i]=(0,t.useState)("login"),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[w,E]=(0,t.useState)(!1),[T,C]=(0,t.useState)(!1),[k,A]=(0,t.useState)(null),[j,N]=(0,t.useState)(!1);(0,t.useEffect)((()=>{localStorage.getItem("userUid")&&localStorage.getItem("LoggedIn")&&"shopper"===localStorage.getItem("userRole")&&e("/")}),[e]);const L=e=>{const t=e.replace(/^\+/,""),n=t.slice(0,2),r=t.slice(2);s(`${n}-${r}`),l("")},R=e=>{l(e.target.value),s("")},P=t=>{localStorage.setItem("apiToken",t.api_token),localStorage.setItem("userRole",t.role),localStorage.setItem("userName",t.name),localStorage.setItem("userEmail",t.email),localStorage.setItem("userUid",t.user_uid),localStorage.setItem("LoggedIn",!0),n(t.api_token,t.role),A(null),e("/")},I=async e=>{e.preventDefault();try{let e;console.log(a,"phone");const t=o||(a?Qc(a):"");if(!t)return console.error("Error: Both email and phone are empty."),void A("Error: Both email and phone are empty.");const n=await yt.post("/user/check_user",{username:t});if("login"===r)if(200===n.data.status)e=await yt.post("/user/otp_login",{email:o||"",phone:a?Qc(a):""}),A(null),y(!0);else{if(404!==n.data.status||"User not found"!==n.data.message)throw new Error("Unexpected response from server.");A("Your account doesn't exist with this phone or email. Please sign up first, then try again.")}else if("signup"===r)if(404===n.data.status&&"User not found"===n.data.message){const t=localStorage.getItem("apiToken");let n;t&&!t.startsWith("guest_")&&(n=`guest_${t}`,localStorage.setItem("apiToken",n)),e=await yt.post("/user/signup",{email:o||"",phone:a?Qc(a):"",country_code:a?Jc(a):"US",guest_token:n,password:"",referral_code:"",gender:"",role:"shopper",name:""}),console.log(e.data,"Signup response"),y(!0),A(null)}else{if(200!==n.data.status)throw new Error("Unexpected response from server.");A("Your account already exists with this phone or email. Please sign in.")}}catch(Cm){console.error("OTP request error:",Cm),A("Failed to get OTP. Please try again.")}finally{N(!1)}},D=()=>{x(!0),_(!0),E(!0),y(!1)},O=()=>{y(!0),x(!1),_(!1),E(!1)};return(0,At.jsxs)("div",{id:"wrapper",children:[(0,At.jsx)(ru,{}),(0,At.jsx)("div",{className:"signin-block",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)(iu,{activeTab:r,handleTabSwitch:e=>{i(e),y(!1),x(!1),_(!1),E(!1)}}),(0,At.jsxs)("div",{id:"tabs-content",children:["login"===r&&(0,At.jsx)(au,{phone:a,email:o,password:c,otp:d,showOtpField:v,showPasswordField:b,loading:j,error:k,handlePhoneChange:L,handleEmailChange:R,handleGetOtp:I,handleResendOtp:()=>{},togglePasswordField:D,handleProceed:O,handleLogin:async t=>{if(t.preventDefault(),d)try{const t=localStorage.getItem("apiToken");console.log(a,"phone"),console.log(localStorage,"localStorage");t.split("_")[1];console.log(t,"device_token");const r=o||(a?Qc(a):""),i=a?Jc(a):"US";console.log(i,"country_code");const s=await yt.post("/user/login",{otp:d,username:r,country_code:i,device_token:t,device_type:"android",app_version:"1.0",guest_api_token:t,password:""});console.log(s.data,"OTP confirmation response"),s.data&&s.data.api_token&&200===s.data.status&&"success"===s.data.message?(localStorage.setItem("apiToken",s.data.api_token),localStorage.setItem("userRole",s.data.role),localStorage.setItem("userName",s.data.name),localStorage.setItem("userEmail",s.data.email),localStorage.setItem("userUid",s.data.user_uid),localStorage.setItem("LoggedIn",!0),n(s.data.api_token,s.data.role),e("/")):A("OTP verification failed.")}catch(Cm){console.error("OTP confirmation error:",Cm),A("Failed to confirm OTP.")}finally{N(!1)}else if(c)try{const t=localStorage.getItem("apiToken");console.log(a,"phone");const r=o||(a?Qc(a):""),i=a?Jc(a):"US";if(!r)return console.error("Error: Both email and phone are empty."),void A("Error: Both email and phone are empty.");{const a=await yt.post("/user/check_user",{username:r});if(console.log("checkUserResponse",a.data),200===a.data.status){const a=await yt.post("/user/login",{username:r,password:c,app_version:"1.0",device_type:"android",device_token:t,country_code:i});console.log(a.data,"Password login response"),a.data&&a.data.api_token?(localStorage.setItem("apiToken",a.data.api_token),localStorage.setItem("userRole",a.data.role),localStorage.setItem("userName",a.data.name),localStorage.setItem("userUid",a.data.user_uid),localStorage.setItem("userEmail",a.data.email),localStorage.setItem("LoggedIn",!0),n(a.data.api_token,a.data.role),e("/")):A(a.data.message)}else{if(404!==a.data.status||"User not found"!==a.data.message)throw new Error("Unexpected response from server.");A("Your account doesn't exist with this phone or email. Please sign up first, then try again.")}}}catch(Cm){console.error("Login error:",Cm),A("Login failed.")}finally{N(!1)}else N(!1),A("Please enter either an OTP or a password.")},setOtp:h,setPassword:u,showForgotPassword:S,showProceedButton:w}),"signup"===r&&(0,At.jsx)(su,{phone:a,email:o,otp:d,newPassword:f,confirmPassword:m,showOtpField:v,showPasswordField:b,agreeTerms:T,loading:j,error:k,handlePhoneChange:L,handleEmailChange:R,handleGetOtp:I,togglePasswordField:D,handleProceed:O,handleSignup:async e=>{e.preventDefault();try{let e=localStorage.getItem("apiToken");if(e&&!e.startsWith("guest_")&&(e=`guest_${e}`,localStorage.setItem("apiToken",e)),b)if(f&&m&&d){var t,n;const r=localStorage.getItem("user_uuid"),i=await yt.post("/user/confirm_otp",{otp:d,email:o||"",phone:a?Qc(a):"",user_uuid:r});console.log(i.data,"OTP confirmation response"),200===(null===(t=i.data)||void 0===t?void 0:t.status)&&"OTP verified"===(null===(n=i.data)||void 0===n?void 0:n.message)?await(async(e,t)=>{var n,r;const i=o||(a?Qc(a):""),s=a?Jc(a):"US",l=localStorage.getItem("clientId"),c=await yt.post("/user/login",{otp:"",username:i,country_code:s,device_token:l,device_type:"web",app_version:"1.0",guest_api_token:t,password:e});console.log(c.data,"Password login response"),200===(null===(n=c.data)||void 0===n?void 0:n.status)&&"success"===(null===(r=c.data)||void 0===r?void 0:r.message)?P(c.data):A("OTP verification failed.")})(f,e):A("OTP verification failed.")}else f&&m&&(f===m?await(async e=>{var t;const n=await yt.post("/user/signup",{email:o||"",phone:a?Qc(a):"",country_code:a?Jc(a):"US",guest_token:e,password:f,referral_code:"",gender:"",role:"shopper",name:""});console.log(n.data,"Password signup response"),400===(null===(t=n.data)||void 0===t?void 0:t.status)?A(n.data.message):(y(!0),localStorage.setItem("user_uuid",n.data.user_uuid))})(e):A("Passwords do not match."));else{var r,i;console.log("Handling OTP-based signup/login");const t=o||(a?Qc(a):""),n=a?Jc(a):"US",s=await yt.post("/user/login",{otp:d,username:t,app_version:"1.0",country_code:n,device_token:e,device_type:"android",guest_api_token:e,password:""});console.log(s.data,"OTP Login response"),200===(null===(r=s.data)||void 0===r?void 0:r.status)&&"success"===(null===(i=s.data)||void 0===i?void 0:i.message)?P(s.data):(y(!0),A("OTP verification failed."))}}catch(Cm){console.error("Sign-up error:",Cm),A("Sign-up failed.")}finally{N(!1)}},setOtp:h,setNewPassword:p,setConfirmPassword:g,handleCheckboxChange:()=>{C(!T)}})]})]})})]})},lu=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),a=(0,Bt.Zp)();return(0,At.jsxs)("div",{children:[(0,At.jsx)("button",{onClick:async()=>{n(!0);try{const e=await gt.post("https://development.seashels.com:7777/api/guest/guest_login",{app_version:"1.0",country_code:"IN",device_token:"",device_type:"web"});e.data&&e.data.api_token&&(localStorage.setItem("apiToken",e.data.api_token),localStorage.setItem("userRole","guest"),a("/home"))}catch(Cm){i("Guest login failed.")}finally{n(!1)}},disabled:e,children:e?"Logging in...":"Login as Guest"}),r&&(0,At.jsx)("div",{children:r})]})},cu=()=>(0,At.jsx)("div",{id:"sub-tab-1"}),uu=()=>(0,At.jsx)("div",{id:"sub-tab-2",children:(0,At.jsx)("h2",{children:"This is the second sub tab!"})}),du=()=>(0,At.jsx)("div",{id:"sub-tab-3",children:(0,At.jsx)("h2",{children:"This is the third sub tab!"})}),hu=()=>(0,At.jsxs)("div",{id:"tab-1",children:[(0,At.jsx)("nav",{className:"tab-nav",children:(0,At.jsxs)("div",{className:"tab active",children:[(0,At.jsxs)("div",{className:"top-block",children:[(0,At.jsxs)("div",{className:"message-div",children:[(0,At.jsx)("ul",{children:(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"messages",children:["Messages ",(0,At.jsx)("span",{className:"badge",children:"12"})]})})}),(0,At.jsx)("div",{className:"add",children:(0,At.jsx)("a",{href:"#",children:(0,At.jsx)("img",{src:"/images/add.png",alt:""})})})]}),(0,At.jsx)("form",{method:"post",children:(0,At.jsx)("input",{type:"text",className:"textbox",placeholder:"Search"})})]}),(0,At.jsx)("ul",{id:"msg-list",children:(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"sub-tab-1",className:"users-name",children:[(0,At.jsxs)("div",{className:"author",children:[(0,At.jsxs)("span",{children:[(0,At.jsx)("img",{src:"/images/profile-1.png",alt:""}),(0,At.jsx)("span",{className:"status green"})]}),(0,At.jsxs)("div",{className:"author-details",children:[(0,At.jsx)("h6",{children:"Elmer Laverty"}),(0,At.jsx)("span",{className:"letest-msg",children:"Haha oh man \ud83d\udd25"})]})]}),(0,At.jsx)("span",{className:"min",children:"12m"})]})})})]})}),(0,At.jsxs)(Bt.BV,{children:[(0,At.jsx)(Bt.qh,{path:"sub-tab-1",element:(0,At.jsx)(cu,{})}),(0,At.jsx)(Bt.qh,{path:"sub-tab-2",element:(0,At.jsx)(uu,{})}),(0,At.jsx)(Bt.qh,{path:"sub-tab-3",element:(0,At.jsx)(du,{})})]}),(0,At.jsx)(Bt.sv,{})]}),fu=()=>(0,At.jsxs)("div",{id:"tab-2",children:[(0,At.jsx)("nav",{className:"tab-nav secondcall",children:(0,At.jsxs)("div",{className:"tab active",children:[(0,At.jsx)("div",{className:"top-block",children:(0,At.jsx)("div",{className:"message-div",children:(0,At.jsx)("ul",{children:(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"call-log",children:"Call Log"})})})})}),(0,At.jsx)("ul",{id:"call-log-list",children:(0,At.jsxs)("li",{children:[(0,At.jsx)("div",{className:"call-notification",children:(0,At.jsx)("img",{src:"/images/incoming.png",alt:""})}),(0,At.jsx)("div",{className:"call-from",children:(0,At.jsx)("img",{src:"/images/ceylan.png",alt:""})}),(0,At.jsxs)("div",{className:"call-details",children:[(0,At.jsxs)("div",{className:"top",children:[(0,At.jsx)("h4",{className:"name",children:"Ceylan"}),(0,At.jsx)("span",{className:"date-time",children:"2024/08/01 14:03pm"})]}),(0,At.jsxs)("div",{className:"call-summary",children:[(0,At.jsx)("span",{className:"minutes",children:"Ended . 6s"}),(0,At.jsxs)("ul",{className:"dial",children:[(0,At.jsx)("li",{children:(0,At.jsx)("a",{href:"#",children:(0,At.jsx)("img",{src:"/images/call-log-icon1.png",alt:""})})}),(0,At.jsx)("li",{children:(0,At.jsx)("a",{href:"#",children:(0,At.jsx)("img",{src:"/images/call-log-icon2.png",alt:""})})})]})]})]})]})})]})}),(0,At.jsx)(Bt.sv,{})]}),pu=()=>(0,At.jsxs)("div",{id:"tab-3",children:[(0,At.jsx)("nav",{className:"tab-nav secondcall",children:(0,At.jsxs)("div",{className:"tab active",children:[(0,At.jsxs)("div",{className:"top-block",children:[(0,At.jsxs)("div",{className:"message-div",children:[(0,At.jsx)("ul",{children:(0,At.jsx)("li",{className:"particip",children:(0,At.jsxs)("a",{href:"#",children:[(0,At.jsx)("span",{className:"icon",children:(0,At.jsx)("img",{src:"/images/close_small.png",alt:""})})," Add Participants "]})})}),(0,At.jsx)("div",{className:"add",children:(0,At.jsx)("a",{href:"#",children:(0,At.jsx)("img",{src:"/images/add.png",alt:""})})})]}),(0,At.jsx)("form",{method:"post",children:(0,At.jsx)("input",{type:"text",className:"textbox",placeholder:"Search"})})]}),(0,At.jsx)("ul",{id:"call-user-list",children:(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"#",children:[(0,At.jsx)("span",{className:"remove",children:"X"}),(0,At.jsx)("span",{className:"img",children:(0,At.jsx)("img",{src:"/images/ceylan.png",alt:""})}),(0,At.jsx)("h5",{children:"Laverty"})]})})})]})}),(0,At.jsx)(Bt.sv,{})]}),mu=()=>{const e=(0,Bt.zy)();return(0,At.jsx)("div",{className:"main-content not-home",children:(0,At.jsx)("div",{className:"chat-tab",children:(0,At.jsxs)("div",{className:"tabs",children:[(0,At.jsxs)("nav",{className:"tab-nav",children:[(0,At.jsx)("div",{className:"acc-img",children:(0,At.jsx)("img",{src:"/images/profile.png",alt:""})}),(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{className:e.pathname.includes("/chat/tab-1")?"active":"",children:(0,At.jsx)(i.N_,{to:"/chat/tab-1",children:(0,At.jsx)("span",{className:"icon1",children:(0,At.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,At.jsx)("g",{"clip-path":"url(#clip0_457_674)",children:(0,At.jsx)("path",{d:"M20 0H4C2.93913 0 1.92172 0.421427 1.17157 1.17157C0.421427 1.92172 0 2.93913 0 4L0 16C0 17.0609 0.421427 18.0783 1.17157 18.8284C1.92172 19.5786 2.93913 20 4 20H6.9L11.351 23.763C11.5316 23.9158 11.7605 23.9997 11.997 23.9997C12.2335 23.9997 12.4624 23.9158 12.643 23.763L17.1 20H20C21.0609 20 22.0783 19.5786 22.8284 18.8284C23.5786 18.0783 24 17.0609 24 16V4C24 2.93913 23.5786 1.92172 22.8284 1.17157C22.0783 0.421427 21.0609 0 20 0ZM7 5H12C12.2652 5 12.5196 5.10536 12.7071 5.29289C12.8946 5.48043 13 5.73478 13 6C13 6.26522 12.8946 6.51957 12.7071 6.70711C12.5196 6.89464 12.2652 7 12 7H7C6.73478 7 6.48043 6.89464 6.29289 6.70711C6.10536 6.51957 6 6.26522 6 6C6 5.73478 6.10536 5.48043 6.29289 5.29289C6.48043 5.10536 6.73478 5 7 5ZM17 15H7C6.73478 15 6.48043 14.8946 6.29289 14.7071C6.10536 14.5196 6 14.2652 6 14C6 13.7348 6.10536 13.4804 6.29289 13.2929C6.48043 13.1054 6.73478 13 7 13H17C17.2652 13 17.5196 13.1054 17.7071 13.2929C17.8946 13.4804 18 13.7348 18 14C18 14.2652 17.8946 14.5196 17.7071 14.7071C17.5196 14.8946 17.2652 15 17 15ZM17 11H7C6.73478 11 6.48043 10.8946 6.29289 10.7071C6.10536 10.5196 6 10.2652 6 10C6 9.73478 6.10536 9.48043 6.29289 9.29289C6.48043 9.10536 6.73478 9 7 9H17C17.2652 9 17.5196 9.10536 17.7071 9.29289C17.8946 9.48043 18 9.73478 18 10C18 10.2652 17.8946 10.5196 17.7071 10.7071C17.5196 10.8946 17.2652 11 17 11Z",fill:"#001017","fill-opacity":"0.5"})}),(0,At.jsx)("defs",{children:(0,At.jsx)("clipPath",{id:"clip0_457_674",children:(0,At.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})})})}),(0,At.jsx)("li",{className:e.pathname.includes("/chat/tab-2")?"active":"",children:(0,At.jsx)(i.N_,{to:"/chat/tab-2",children:(0,At.jsx)("span",{className:"icon2",children:(0,At.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,At.jsx)("g",{"clip-path":"url(#clip0_457_677)",children:(0,At.jsx)("path",{d:"M23.0003 11.0001C22.7351 11.0001 22.4807 10.8947 22.2932 10.7072C22.1057 10.5196 22.0003 10.2653 22.0003 10.0001C21.9982 7.87897 21.1546 5.84537 19.6548 4.34554C18.155 2.8457 16.1214 2.00217 14.0003 2.00005C13.7351 2.00005 13.4807 1.89469 13.2932 1.70716C13.1057 1.51962 13.0003 1.26527 13.0003 1.00005C13.0003 0.734834 13.1057 0.48048 13.2932 0.292944C13.4807 0.105408 13.7351 5.06813e-05 14.0003 5.06813e-05C16.6516 0.00296228 19.1934 1.05747 21.0681 2.9322C22.9429 4.80693 23.9974 7.34878 24.0003 10.0001C24.0003 10.2653 23.8949 10.5196 23.7074 10.7072C23.5199 10.8947 23.2655 11.0001 23.0003 11.0001ZM20.0003 10.0001C20.0003 8.40875 19.3682 6.88263 18.2429 5.75741C17.1177 4.63219 15.5916 4.00005 14.0003 4.00005C13.7351 4.00005 13.4807 4.10541 13.2932 4.29294C13.1057 4.48048 13.0003 4.73483 13.0003 5.00005C13.0003 5.26527 13.1057 5.51962 13.2932 5.70716C13.4807 5.89469 13.7351 6.00005 14.0003 6.00005C15.0612 6.00005 16.0786 6.42148 16.8287 7.17162C17.5789 7.92177 18.0003 8.93919 18.0003 10.0001C18.0003 10.2653 18.1057 10.5196 18.2932 10.7072C18.4807 10.8947 18.7351 11.0001 19.0003 11.0001C19.2655 11.0001 19.5199 10.8947 19.7074 10.7072C19.8949 10.5196 20.0003 10.2653 20.0003 10.0001ZM22.1833 22.1641L23.0933 21.1151C23.6725 20.534 23.9977 19.747 23.9977 18.9266C23.9977 18.1061 23.6725 17.3191 23.0933 16.7381C23.0623 16.7071 20.6563 14.8561 20.6563 14.8561C20.0788 14.3064 19.3118 14.0003 18.5146 14.0014C17.7174 14.0025 16.9512 14.3108 16.3753 14.8621L14.4693 16.4681C12.9135 15.8241 11.5002 14.8792 10.3106 13.6876C9.12098 12.4959 8.17851 11.081 7.5373 9.52405L9.1373 7.62405C9.68901 7.04822 9.99759 6.28193 9.9989 5.48445C10.0002 4.68698 9.69413 3.91968 9.1443 3.34205C9.1443 3.34205 7.2913 0.939051 7.2603 0.908051C6.68975 0.333799 5.91618 0.0070727 5.10672 -0.00153454C4.29727 -0.0101418 3.51693 0.300061 2.9343 0.862051L1.7843 1.86205C-5.0097 9.74405 9.62029 24.2611 17.7623 24.0001C18.5845 24.0048 19.3993 23.8448 20.1586 23.5295C20.9179 23.2141 21.6064 22.7499 22.1833 22.1641Z",fill:"#001017","fill-opacity":"0.5"})}),(0,At.jsx)("defs",{children:(0,At.jsx)("clipPath",{id:"clip0_457_677",children:(0,At.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})})})}),(0,At.jsx)("li",{className:e.pathname.includes("/chat/tab-3")?"active":"",children:(0,At.jsx)(i.N_,{to:"/chat/tab-3",children:(0,At.jsx)("span",{className:"icon3",children:(0,At.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,At.jsx)("g",{"clip-path":"url(#clip0_583_563)",children:(0,At.jsx)("path",{d:"M19 17C17.9465 16.9996 16.9118 16.7216 16 16.194C15.0882 16.7216 14.0535 16.9996 13 17H11C9.94509 16.9987 8.90959 16.7163 8 16.182C7.09045 16.7164 6.05492 16.9988 5 17H4C2.94562 16.9996 1.91028 16.7191 1 16.187V21C1 21.7956 1.31607 22.5587 1.87868 23.1213C2.44129 23.6839 3.20435 24 4 24H20C20.7956 24 21.5587 23.6839 22.1213 23.1213C22.6839 22.5587 23 21.7956 23 21V16.188C22.0895 16.7193 21.0542 16.9995 20 17H19ZM17 0V6H15V0H9V6H7V0H2.2L0.024 9.783L0 11C0 12.0609 0.421427 13.0783 1.17157 13.8284C1.92172 14.5786 2.93913 15 4 15H5C5.56989 14.9982 6.13273 14.8738 6.65034 14.6354C7.16795 14.3969 7.62824 14.0499 8 13.618C8.37176 14.0499 8.83205 14.3969 9.34966 14.6354C9.86727 14.8738 10.4301 14.9982 11 15H13C13.5678 15.0003 14.1292 14.8794 14.6465 14.6454C15.1639 14.4114 15.6253 14.0696 16 13.643C16.3747 14.0696 16.8361 14.4114 17.3535 14.6454C17.8708 14.8794 18.4322 15.0003 19 15H20C21.0609 15 22.0783 14.5786 22.8284 13.8284C23.5786 13.0783 24 12.0609 24 11V10L21.8 0H17Z",fill:"#001017","fill-opacity":"0.5"})}),(0,At.jsx)("defs",{children:(0,At.jsx)("clipPath",{id:"clip0_583_563",children:(0,At.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})})})})]}),(0,At.jsx)("div",{className:"setting",children:(0,At.jsx)("a",{href:"#",children:(0,At.jsx)("img",{src:"/images/setting.png",alt:""})})})]}),(0,At.jsxs)(Bt.BV,{children:[(0,At.jsx)(Bt.qh,{path:"tab-1/*",element:(0,At.jsx)(hu,{})}),(0,At.jsx)(Bt.qh,{path:"tab-2/*",element:(0,At.jsx)(fu,{})}),(0,At.jsx)(Bt.qh,{path:"tab-3/*",element:(0,At.jsx)(pu,{})})]})]})})})};function gu(e){let{tags_item_count:n,tags_page_count:r,next_page:i,prev_page:a,tags_items_total_count:s}=e;const[o,l]=(0,t.useState)(1),c=e=>{l(e)},u=-1!==i,d=-1!==a;return(0,At.jsx)("div",{children:(0,At.jsxs)("div",{children:[(0,At.jsxs)("p",{children:["Displaying items for page ",o]}),(0,At.jsxs)("div",{children:[(0,At.jsx)("button",{onClick:()=>c(a),disabled:!d,children:"Previous"}),(0,At.jsxs)("span",{children:["Page ",o," of ",r]}),(0,At.jsx)("button",{onClick:()=>c(i),disabled:!u,children:"Next"})]})]})})}const vu=54,yu=46,bu=2,xu=0,Su=451;const _u=function(){return(0,At.jsx)("div",{children:(0,At.jsx)(gu,{tags_item_count:vu,tags_page_count:yu,next_page:bu,prev_page:xu,tags_items_total_count:Su})})},wu=e=>{let{totalPages:t,currentPage:n,onPageChange:r}=e;const i=e=>{e>=1&&e<=t&&r(e)},a=(()=>{const e=[];for(let r=1;r<=t;r++)1===r||r===t||r>=n-2&&r<=n+2?e.push(r):r!==n-2-1&&r!==n+2+1||e.push("...");return e})();return(0,At.jsx)("nav",{children:(0,At.jsxs)("ul",{className:"pagination",children:[(0,At.jsx)("li",{className:"page-item "+(1===n?"disabled":""),children:(0,At.jsx)("button",{className:"page-link",onClick:()=>i(n-1),disabled:1===n,children:"\xab Previous"})}),a.map(((e,t)=>(0,At.jsx)("li",{className:`page-item ${"..."===e?"disabled":""} ${e===n?"active":""}`,children:"..."===e?(0,At.jsx)("span",{className:"page-link",children:"..."}):(0,At.jsx)("button",{className:"page-link",onClick:()=>i(e),children:e})},t))),(0,At.jsx)("li",{className:"page-item "+(n===t?"disabled":""),children:(0,At.jsx)("button",{className:"page-link",onClick:()=>i(n+1),disabled:n===t,children:"Next \xbb"})})]})})},Eu=e=>{let{apiEndpoint:n="/tags/get_list_for_tag",pageTitle:r=""}=e;const{logout:a}=It(),s=(0,Bt.Zp)(),{tag_id:o,tag_type:l}=(0,Bt.g)(),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!0),[b,x]=(0,t.useState)(1),[S,_]=(0,t.useState)(0),[w,E]=(0,t.useState)("all"),[T,C]=(0,t.useState)(!1),[k,A]=(0,t.useState)(""),j="https://via.placeholder.com/150";(0,t.useEffect)((()=>{!async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{var t;y(!0);const r=localStorage.getItem("apiToken"),i=await yt.get(n,{params:{api_token:r,tag_type:"video",page:e-1,per_page:54}});if(401===i.data.status)a(),s("/home");else if(200!==i.data.status)throw new Error(`HTTP error! status: ${i.status}`);const o=i.data,l=o.tag_list||[];p(l);const c=(null===(t=o.tags_data)||void 0===t?void 0:t.map((e=>({id:e.reference_id,image:e.video_thumbnail||j,alt:e.tag_name,title:e.store_name,video_description:e.video_description,category:e.tag_name,sui:e.store_uuid,videoUrl:e.video_url}))))||[];u(c),1===b&&h(c),_(Math.ceil(o.tags_items_total_count/54))}catch(m){g(m.message)}finally{y(!1)}}(b)}),[n,o,l,b]);const N=e=>{A(e),C(!0)},L=e=>{E(e.tag_id);const t="all"===e.tag_id?d:d.filter((t=>t.category===e.tag_name));_(Math.ceil(t.length/54)),x(1),u(t)};return v?(0,At.jsx)("div",{className:"main-content",children:(0,At.jsx)("div",{className:"wear-offer store-videos live-social",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)(tn.A,{height:40,width:200}),(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{width:100})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{width:100})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{width:100})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{width:100})})]})}),(0,At.jsx)(tn.A,{count:6,height:200}),(0,At.jsx)(tn.A,{height:40})]})})}):m?(0,At.jsxs)("p",{children:["Error: ",m]}):(0,At.jsxs)("div",{className:"main-content",children:[(0,At.jsx)("div",{className:"wear-offer store-videos live-social",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("h2",{children:r}),(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{className:"all"===w?"active":"",children:(0,At.jsx)("a",{href:"#",onClick:()=>L({tag_id:"all",tag_name:"All"}),children:"All"})}),f.map((e=>(0,At.jsx)("li",{className:w===e.tag_id?"active":"",children:(0,At.jsx)("a",{href:"#",onClick:()=>L(e),children:e.tag_name})},e.tag_id)))]})}),(0,At.jsx)("ul",{className:"product-list",children:c.length>0?c.map((e=>(0,At.jsxs)("li",{children:[(0,At.jsxs)("div",{className:"img-box",children:[(0,At.jsx)(i.N_,{to:"#",onClick:()=>N(e.videoUrl),children:(0,At.jsx)("img",{src:e.image||j,alt:e.alt,onError:e=>e.target.src=j})}),(0,At.jsx)("a",{href:"#",className:"trigger",onClick:()=>N(e.videoUrl)})]}),(0,At.jsx)("div",{className:"heading-text",children:(0,At.jsx)("h4",{children:e.title})}),(0,At.jsx)("p",{children:e.video_description})]},e.id))):(0,At.jsx)("p",{children:"No products available"})}),(0,At.jsx)(wu,{totalPages:S,currentPage:b,onPageChange:e=>{x(e)}})]})}),(0,At.jsx)(Uc,{isOpen:T,onClose:()=>C(!1),videoUrl:k})]})},Tu=e=>{let{products:n,loading:r,loadedItemCount:a,ITEMS_PER_PAGE:s,handleProductClick:o,sortOrder:l}=e;const c=(0,t.useMemo)((()=>(console.log("Sorting products:",n),"low"===l?[...n].sort(((e,t)=>e.price-t.price)):"high"===l?[...n].sort(((e,t)=>t.price-e.price)):n)),[n,l]);return console.log("Rendered products:",c),(0,At.jsx)("div",{className:"also-like latest",children:(0,At.jsx)("ul",{children:r&&0===a?[...Array(s)].map(((e,t)=>(0,At.jsxs)("li",{children:[(0,At.jsxs)(i.N_,{to:"#",className:"img-box",children:[(0,At.jsx)(tn.A,{height:400,width:300}),(0,At.jsx)(tn.A,{width:100})]}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)(tn.A,{width:150}),(0,At.jsx)(tn.A,{width:100}),(0,At.jsx)(tn.A,{width:80})]})]},`skeleton-${t}`))):c.length>0?c.map(((e,t)=>(0,At.jsxs)("li",{onClick:()=>o(e.sui),children:[(0,At.jsxs)(i.N_,{to:"#",className:"img-box",children:[(0,At.jsx)($c.A,{thumbnailSrc:e.image_url_thumb,fullImageSrc:e.image_url,alt:e.alt,onError:e=>e.target.src="https://via.placeholder.com/150"}),(0===e.inStock||"0"===e.inStock)&&(0,At.jsx)("span",{className:"sold-out",children:"Sold Out"})]}),(0,At.jsx)("h4",{children:e.store_name}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${e.sui}`,children:e.product_title})}),(0,At.jsx)("div",{className:"price-value",children:e.display_total_price!==e.display_final_price?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${e.display_currency_symbol}${e.display_total_price}`}),(0,At.jsx)("span",{className:"final_price",children:`${e.display_currency_symbol}${e.display_final_price}`}),(0,At.jsx)("span",{className:"discount",children:`${e.display_discount||e.platform_discount}% off`})]}):(0,At.jsx)("span",{className:"final_price",children:`${e.display_currency_symbol}${e.display_final_price}`})})]})]},`${e.id}-${t}`))):(0,At.jsx)("p",{children:"No products available"})})})},Cu=e=>{let{loadedItemCount:t,totalItems:n,onLoadMore:r,loadingMore:i}=e;return(0,At.jsxs)("div",{children:[!i&&t<n&&(0,At.jsxs)("div",{className:"container_j8XTO",children:[(0,At.jsxs)("p",{className:"label_Ph1fi",children:["You've viewed ",t," of ",n," products"]}),(0,At.jsx)("progress",{max:n,value:t,className:"progressBar_anIzC","aria-hidden":"true"})]}),i&&(0,At.jsx)("div",{className:"loading-spinner",children:(0,At.jsx)("img",{src:"/images/circle-1700_256.gif",alt:"Loading..."})}),!i&&t<n&&(0,At.jsx)("button",{onClick:r,className:"load-more-button",children:"View More"})]})},ku=e=>{let{data:n=[],onChange:r,selectedValue:i}=e;const a=n.map((e=>({label:null===e||void 0===e?void 0:e.label,value:`${null===e||void 0===e?void 0:e.value}`}))),[s,o]=(0,t.useState)(i||null),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{o(i)}),[i]);const u="ASC"===s?"Low":"DESC"===s?"High":"";return(0,At.jsxs)("div",{className:"filters__item--top js-dropdown dropdown dropdown--full",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,At.jsxs)("button",{className:"js-dropdown__trigger filters__item-title "+(l?"btn_open":""),"aria-haspopup":"dialog",role:"button","aria-expanded":l,children:["Sort By Price",(0,At.jsx)("span",{className:"h5 filters__count filters__count-size sort_multi",children:u?`(${u})`:""}),(0,At.jsx)("span",{className:"icon icon--arrow-down icon--sm",children:(0,At.jsx)("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",role:"presentation",children:(0,At.jsx)("path",{d:"M8 10.5a.751.751 0 0 1-.55-.24L4.2 6.76A.75.75 0 1 1 5.3 5.74L8 8.648l2.7-2.908a.75.75 0 1 1 1.1 1.021l-3.25 3.5a.751.751 0 0 1-.55.24z"})})})]}),(0,At.jsxs)("div",{className:"filters__dropdown-menu js-dropdown__menu dropdown__menu "+(l?"open":""),role:"dialog",style:{visibility:l?"visible":"hidden",display:l?"block":"none",opacity:l?1:0},children:[(0,At.jsxs)("div",{className:"filters__listings filters__listings--cap-height",children:[(0,At.jsx)("div",{className:"h5 u-margin-t--none u-margin-l--sm",children:"Price"}),(0,At.jsx)("ul",{className:"ui-list ui-list--inline filters__size-list u-margin-l--sm",children:a.map((e=>(0,At.jsxs)("li",{className:""+(s===e.value?"active":""),children:[(0,At.jsx)("input",{className:"js-enterable u-screen-reader",id:`price-top-Price__${e.value}`,type:"radio",name:"price",value:e.value,checked:s===e.value,onChange:()=>{return t=e.value,o(t),void r(t);var t}}),(0,At.jsx)("label",{htmlFor:`price-top-Price__${e.value}`,className:"push-button u-margin-b--none",children:e.label})]},e.value)))})]}),(0,At.jsxs)("div",{className:"filters__actions",children:[(0,At.jsx)("button",{className:"js-dropdown-close btn btn--sm u-margin-l--sm",onClick:()=>c(!1),children:"Done"}),(0,At.jsx)("button",{className:"js-clear-filter",onClick:()=>{o(null),r(null)},children:(0,At.jsx)("span",{className:"u-margin-l--xl link",children:"Clear"})})]})]})]})},Au=e=>{let{apiEndpoint:n="/tags/get_sku_list_for_tag",pageTitle:r=""}=e;const{logout:i}=It(),{tag_id:a,tag_type:s}=(0,Bt.g)(),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(0),[b,x]=(0,t.useState)(0),[S,_]=(0,t.useState)(""),w=(0,Bt.Zp)(),[E,T]=(0,t.useState)(""),[C,k]=(0,t.useState)(""),[A,j]=(0,t.useState)({sizeOptions:[],priceOptions:[],colorOptions:[],sortOptions:[{value:"low",label:"Price Low To High"},{value:"high",label:"Price High To Low"}]}),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{e?g(!0):(p(!0),y(0)),console.log(`Fetching products... (append: ${e})`);const r=localStorage.getItem("apiToken"),o=await yt.get(n,{params:{api_token:r,tag_type:s,tag_id:a,page:Math.floor(v/54),per_page:54,sort:t}});if(401===o.data.status)i(),w("/home");else if(200!==o.status)throw new Error(`HTTP error! status: ${o.status}`);const c=o.data,d=c.tags_data;l((t=>e?[...t,...d]:d)),e||u(d);const h=e?v+d.length:d.length;y(h),x(c.tags_items_total_count),console.log(`New loaded item count: ${h}`)}catch(d){h(d.message)}finally{p(!1),g(!1)}};(0,t.useEffect)((()=>{N(!1,S)}),[n,a,s,S]),(0,t.useEffect)((()=>{console.log(v,"loadedItemCount changed")}),[v]);return d?(0,At.jsxs)("p",{children:["Error: ",d]}):(0,At.jsx)("div",{className:"main-content",children:(0,At.jsx)("div",{className:"wear-offer latest-arrival",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("h2",{children:r}),(0,At.jsxs)("div",{className:"sort-row",children:[(0,At.jsx)("div",{className:"sort-by",children:(0,At.jsx)(ku,{onChange:e=>{T(e),(e=>{console.log(e,"handleSortChange"),k(e),_(e),y(0),l([]),N(!1,e)})(e)},data:A.sortOptions,selectedValue:E})}),(0,At.jsx)("div",{className:"clear",children:(0,At.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),_(""),l(c),N(!1,""),T([])},children:"CLEAR"})})]}),(0,At.jsx)(Tu,{products:o,loading:f,loadedItemCount:v,ITEMS_PER_PAGE:54,defaultImage:"https://via.placeholder.com/150",handleProductClick:e=>{w(`/product/${e}`)}}),(0,At.jsx)(Cu,{loadedItemCount:v,totalItems:b,onLoadMore:()=>{N(!0,S)},loadingMore:m})]})})})},ju=e=>{let{apiEndpoint:n="/tags/get_edit_list",pageTitle:r=""}=e;const{logout:a}=It(),{tag_id:s,tag_type:o}=(0,Bt.g)(),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(0),[x,S]=(0,t.useState)(0),[_,w]=(0,t.useState)(null),[E,T]=(0,t.useState)([]),C="https://via.placeholder.com/150",k=(0,Bt.Zp)(),A=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t;e||m(!0),v(!0);const r=localStorage.getItem("apiToken"),i=await yt.get(n,{params:{api_token:r,tag_type:"edit",page:Math.floor(y/54)+1,per_page:54}});if(401===i.data.status)a(),k("/home");else if(200!==i.status)throw new Error(`HTTP error! status: ${i.status}`);const s=i.data,o=(null===(t=s.edit_list)||void 0===t?void 0:t.map((e=>({id:e.id,image:e.media_url_thumbnail||C,media_url:e.media_url||C,alt:e.tag_name,title:e.tag_name,tag_id:e.tag_id,type_data:e.type,button_text:e.button_text,button_screen:e.button_screen,heading_align:e.heading_align,heading_1:e.heading_1,button_color:e.button_color,sui:e.sui}))))||[];c((t=>e?[...t,...o]:o)),e||d(o),b((e=>e+o.length)),S(s.edit_items_total_count);const l=[{tag_id:null,tag_name:"All"},...s.tag_list];T(l),w(null)}catch(h){f(h.message)}finally{m(!0),v(!1)}};(0,t.useEffect)((()=>{A()}),[n,s,o]);return p&&0===y?(0,At.jsxs)("div",{className:"main-content deals",children:[(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)(tn.A,{height:40,width:200}),(0,At.jsx)("div",{className:"tag-filter",id:"filter-products",children:(0,At.jsx)("ul",{children:Array.from({length:5}).map(((e,t)=>(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{width:100,height:30})},t)))})})]}),(0,At.jsx)("div",{className:"pop-up-content",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("ul",{children:Array.from({length:12}).map(((e,t)=>(0,At.jsx)("li",{className:"product-item",children:(0,At.jsx)(tn.A,{height:450,width:350})},t)))})})}),(0,At.jsx)("div",{className:"container",children:(0,At.jsx)(tn.A,{height:40,width:150})})]}):h?(0,At.jsxs)("p",{children:["Error: ",h]}):(0,At.jsxs)("div",{className:"main-content deals",children:[(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("h2",{children:r}),(0,At.jsx)("div",{className:"tag-filter",id:"filter-products",children:(0,At.jsx)("ul",{children:E.map((e=>(0,At.jsx)("li",{className:e.tag_id===_?"active":"",onClick:()=>(e=>{w(e.tag_id);const t=null===e.tag_id?u:u.filter((t=>t.tag_id===e.tag_id));c(t),b(t.length),S(t.length)})(e),children:e.tag_name},e.tag_id)))})})]}),(0,At.jsx)("div",{className:"pop-up-content",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("ul",{children:l.map((e=>(0,At.jsx)("li",{className:"product-item",children:(0,At.jsx)(i.N_,{to:`/latest-arrivals/${e.tag_id}/${e.type_data}`,children:(0,At.jsx)("img",{src:e.image,alt:e.alt})})},e.id)))})})}),y<x&&(0,At.jsx)(Cu,{loadedItemCount:y,totalItems:x,onLoadMore:()=>{A(!0)},loadingMore:g})]})},Nu=()=>(0,At.jsx)("div",{children:(0,At.jsx)(Au,{tagId:95,pageTitle:"Wedding Store",apiEndpoint:"/tags/get_list_for_tag"})}),Lu=e=>{let{sizeguide:n,sizeguideChart:r,sizeguideType:i}=e;const[a,s]=(0,t.useState)("cm"),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0);(0,t.useEffect)((()=>{n.length>0&&!o&&l(n[0])}),[n,o]),(0,t.useEffect)((()=>{(()=>{const e=r.find((e=>e[a]));u(e?e[a]:[]),h(!1)})()}),[o,r,a]);const f=d?Array.from({length:3}).map(((e,t)=>(0,At.jsxs)("div",{className:"chart-box",children:[(0,At.jsx)("h3",{children:(0,At.jsx)(tn.A,{width:80})}),(0,At.jsxs)("ul",{children:[(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:(0,At.jsx)(tn.A,{width:60})}),(0,At.jsx)("span",{className:"size",children:(0,At.jsx)(tn.A,{width:40})})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:(0,At.jsx)(tn.A,{width:60})}),(0,At.jsx)("span",{className:"size",children:(0,At.jsx)(tn.A,{width:40})})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:(0,At.jsx)(tn.A,{width:60})}),(0,At.jsx)("span",{className:"size",children:(0,At.jsx)(tn.A,{width:40})})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:(0,At.jsx)(tn.A,{width:60})}),(0,At.jsx)("span",{className:"size",children:(0,At.jsx)(tn.A,{width:40})})]})]})]},t))):0===c.length?(0,At.jsx)("div",{style:{display:"none"},children:"No size data available"}):c.map(((e,t)=>(0,At.jsxs)("div",{className:"chart-box",children:[(0,At.jsxs)("h3",{children:["EU"===o&&`${e.Size}-${e.EU}`,"UK"===o&&`${e.Size}-${e.UK}`,"US"===o&&`${e.Size}-${e.US}`,!("EU"===o||"UK"===o||"US"===o)&&e.Size]}),(0,At.jsxs)("ul",{children:[(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:"Bust"}),(0,At.jsx)("span",{className:"size",children:e.Bust})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:"Waist"}),(0,At.jsx)("span",{className:"size",children:e.Waist})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:"Hip"}),(0,At.jsx)("span",{className:"size",children:e.Hip})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{className:"title",children:"Inseam"}),(0,At.jsx)("span",{className:"size",children:e.Inseam})]})]})]},t)));return(0,At.jsxs)("div",{className:"size-guide",id:"size-guide",style:{display:"none"},children:[(0,At.jsxs)("div",{className:"size-head",children:[(0,At.jsxs)("div",{className:"left",children:[(0,At.jsx)("label",{htmlFor:"cm",children:"cm"}),(0,At.jsxs)("div",{className:"switch",children:[(0,At.jsx)("input",{type:"checkbox",id:"switch",checked:"inch"===a,onChange:e=>{s(e.target.checked?"inch":"cm"),h(!0)}}),(0,At.jsx)("label",{htmlFor:"switch",children:"Toggle"})]}),(0,At.jsx)("label",{htmlFor:"inch",children:"in"})]}),(0,At.jsxs)("div",{className:"right",children:[(0,At.jsx)("label",{htmlFor:"",children:"Size Chart"}),(0,At.jsx)("select",{value:o,onChange:e=>{l(e.target.value),h(!0)},children:0===n.length?Array.from({length:3}).map(((e,t)=>(0,At.jsx)("option",{value:"",children:(0,At.jsx)(tn.A,{width:100})},t))):n.map(((e,t)=>(0,At.jsx)("option",{value:e,children:e},t)))})]})]}),(0,At.jsx)("div",{className:"size-chart",children:(0,At.jsx)("div",{className:"chart-boxes",children:f})})]})},Ru=e=>{let{policies:n,description:r,product_details:i}=e;const[a,s]=(0,t.useState)({description:{visible:!!r,description:r||""},productDetail:{visible:!!i,description:i||""},shippingDate:{visible:!1,description:""},cancellation:{visible:!1,description:""},exchange:{visible:!1,description:"",url:""},alteration:{visible:!1,description:""},colorDisclaimer:{visible:!1,description:""},compositionCare:{visible:!1,description:""}}),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e={...a};n.forEach((t=>{switch(t.Title){case"SHIPPING DATE":""!==t.Description&&(e.shippingDate={visible:!0,description:t.Description});break;case"CANCELLATION & REFUND":""!==t.Description&&(e.cancellation={visible:!0,description:t.Description});break;case"EXCHANGE & RETURN POLICY":""!==t.Description&&(t.Description.includes("https://")||t.Description.includes("www.")?e.exchange={visible:!0,description:"Click here to view our return policy.",url:t.Description}:e.exchange={visible:!0,description:t.Description});break;case"ALTERATION POLICY":""!==t.Description&&(e.alteration={visible:!0,description:t.Description});break;case"COLOR & PRODUCT DISCLAIMER":""!==t.Description&&(e.colorDisclaimer={visible:!0,description:t.Description});break;case"COMPOSITION CARE":""!==t.Description&&(e.compositionCare={visible:!0,description:t.Description})}})),s(e)}),[n]);const c=e=>{l((t=>t===e?null:e))};return(0,At.jsxs)("div",{children:[a.description.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("description"),children:["Description ",(0,At.jsx)("span",{children:"description"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("description"===o?"active-content":""),children:(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.description.description}})})]}),a.productDetail.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("productDetail"),children:["Product Detail ",(0,At.jsx)("span",{children:"productDetail"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("productDetail"===o?"active-content":""),children:(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.productDetail.description}})})]}),a.shippingDate.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("shippingDate"),children:["Shipping Date ",(0,At.jsx)("span",{children:"shippingDate"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("shippingDate"===o?"active-content":""),children:"shippingDate"===o&&(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.shippingDate.description}})})]}),a.cancellation.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("cancellation"),children:["Cancellation & Refund ",(0,At.jsx)("span",{children:"cancellation"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("cancellation"===o?"active-content":""),children:"cancellation"===o&&(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.cancellation.description}})})]}),a.exchange.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("exchange"),children:["Exchange & Return Policy ",(0,At.jsx)("span",{children:"exchange"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("exchange"===o?"active-content":""),children:"exchange"===o?a.exchange.url?(0,At.jsx)("p",{children:(0,At.jsx)("a",{href:"#",onClick:()=>window.open(a.exchange.url,"_blank"),style:{textDecoration:"underline",color:"#007BFF"},children:a.exchange.description})}):(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.exchange.description}}):null})]}),a.alteration.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("alteration"),children:["Alteration Policy ",(0,At.jsx)("span",{children:"alteration"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("alteration"===o?"active-content":""),children:"alteration"===o&&(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.alteration.description}})})]}),a.colorDisclaimer.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("colorDisclaimer"),children:["Color & Product Disclaimer ",(0,At.jsx)("span",{children:"colorDisclaimer"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("colorDisclaimer"===o?"active-content":""),children:"colorDisclaimer"===o&&(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.colorDisclaimer.description}})})]}),a.compositionCare.visible&&(0,At.jsxs)("div",{className:"collapsible-container",children:[(0,At.jsxs)("button",{className:"toggle-button",onClick:()=>c("compositionCare"),children:["Composition Care ",(0,At.jsx)("span",{children:"compositionCare"===o?"-":"+"})]}),(0,At.jsx)("div",{className:"content "+("compositionCare"===o?"active-content":""),children:"compositionCare"===o&&(0,At.jsx)("p",{dangerouslySetInnerHTML:{__html:a.compositionCare.description}})})]})]})},Pu=e=>{let{storeUuid:n,sui:r}=e;const[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),{logout:u}=It();return(0,t.useEffect)((()=>{if(!n)return;(async()=>{o(!0);try{const e=localStorage.getItem("apiToken"),t=await yt.get("/sku/get_related_sku",{params:{api_token:e,sui:r,store_uuid:n}});if(401===t.status)u();else if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);if(!Array.isArray(t.data.sku_data))throw new Error("Unexpected response format for related products");a(t.data.sku_data),c(null)}catch(l){c(l.message)}finally{o(!1)}})()}),[n,r]),s?(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)(tn.A,{height:40,width:300,style:{marginBottom:"15px"}}),(0,At.jsx)("div",{className:"also-like pr-dt",children:(0,At.jsx)("ul",{children:Array.from({length:8}).map(((e,t)=>(0,At.jsxs)("li",{children:[(0,At.jsx)(tn.A,{height:430,width:275}),(0,At.jsx)(tn.A,{height:30,width:220}),(0,At.jsx)(tn.A,{height:20,width:100})]},t)))})})]}):l?(0,At.jsxs)("p",{children:["Error: ",l]}):i.length?(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("h2",{children:"You Might Also Like"}),(0,At.jsx)("div",{className:"also-like pr-dt",children:(0,At.jsx)("ul",{children:i.map((e=>{const{image_url:t,image_url_thumb:n,sku_title:r,display_final_price:i,display_currency_symbol:a,sui:s,display_total_price:o,sku_discount:l}=e,c=`/product/${s}`;return(0,At.jsxs)("li",{children:[(0,At.jsx)("a",{href:c,className:"img-box",onClick:e=>{e.preventDefault(),window.location.href=c},children:(0,At.jsx)($c.A,{thumbnailSrc:n,fullImageSrc:t,alt:r||"Product",onError:e=>e.target.src=n||"https://via.placeholder.com/150"})}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)("a",{href:c,onClick:e=>{e.preventDefault(),window.location.href=c},children:r||"Product Title"})}),(0,At.jsx)("div",{className:"price-value",children:(0,At.jsxs)(At.Fragment,{children:[o!==i&&(0,At.jsx)("span",{className:"strike_price",children:`${a}${o}`}),(0,At.jsx)("span",{className:"final_price",children:`${a}${i}`}),o!==i&&(0,At.jsx)("span",{className:"discount",children:`${l}% off`})]})})]}),(0,At.jsx)("ul",{className:"color"})]},s)}))})})]}):(0,At.jsx)("p",{children:"No related products found"})};var Iu=function(e,t){return Number(e.toFixed(t))},Du=function(e,t,n){n&&"function"===typeof n&&n(e,t)},Ou={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},Mu=function(e){"number"===typeof e&&cancelAnimationFrame(e)},Fu=function(e){e.mounted&&(Mu(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Uu(e,t,n,r){if(e.mounted){var i=(new Date).getTime();Fu(e),e.animation=function(){if(!e.mounted)return Mu(e.animation);var a=(new Date).getTime()-i,s=a/n,o=(0,Ou[t])(s);a>=n?(r(1),e.animation=null):e.animation&&(r(o),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function $u(e,t,n,r){var i=function(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}(t);if(e.mounted&&i){var a=e.setTransformState,s=e.transformState,o=s.scale,l=s.positionX,c=s.positionY,u=t.scale-o,d=t.positionX-l,h=t.positionY-c;0===n?a(t.scale,t.positionX,t.positionY):Uu(e,r,n,(function(e){a(o+u*e,l+d*e,c+h*e)}))}}var Bu=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var a=function(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,a=t.offsetWidth*n,s=t.offsetHeight*n;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:a,newDiffWidth:r-a,newContentHeight:s,newDiffHeight:i-s}}(n,r,t),s=a.wrapperWidth,o=a.wrapperHeight,l=function(e,t,n,r,i,a,s){var o=e>t?n*(s?1:.5):0,l=r>i?a*(s?1:.5):0;return{minPositionX:e-t-o,maxPositionX:o,minPositionY:r-i-l,maxPositionY:l}}(s,a.newContentWidth,a.newDiffWidth,o,a.newContentHeight,a.newDiffHeight,Boolean(i));return l},Gu=function(e,t,n,r){return Iu(r?e<t?t:e>n?n:e:e,2)},Hu=function(e,t){var n=Bu(e,t);return e.bounds=n,n};function zu(e,t,n,r,i,a,s){var o=n.minPositionX,l=n.minPositionY,c=n.maxPositionX,u=n.maxPositionY,d=0,h=0;return s&&(d=i,h=a),{x:Gu(e,o-d,c+d,r),y:Gu(t,l-h,u+h,r)}}function Yu(e,t,n,r,i,a){var s=e.transformState,o=s.scale,l=s.positionX,c=s.positionY,u=r-o;return"number"!==typeof t||"number"!==typeof n?(console.error("Mouse X and Y position were not provided!"),{x:l,y:c}):zu(l-t*u,c-n*u,i,a,0,0,null)}function Wu(e,t,n,r,i){var a=t-(i?r:0);return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=a?a:e}var Vu=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,a=t.target,s="shadowRoot"in a&&"composedPath"in t?t.composedPath().some((function(e){return e instanceof Element&&(null===i||void 0===i?void 0:i.contains(e))})):null===i||void 0===i?void 0:i.contains(a);return!!(r&&a&&s)&&!Ld(a,n)},Ku=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup.panning.disabled;return!(!t||!n||r)};function qu(e,t,n,r,i){var a=e.setup.limitToBounds,s=e.wrapperComponent,o=e.bounds,l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(null!==s&&null!==o&&(t!==u||n!==d)){var h=zu(t,n,o,a,r,i,s),f=h.x,p=h.y;e.setTransformState(c,f,p)}}var Xu=function(e,t){var n=e.setup,r=e.transformState.scale,i=n.minScale,a=n.disablePadding;return t>0&&r>=i&&!a?t:0},Zu=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,a=e.transformState.scale;return!(i.disabled&&!(a>1)&&r&&!t)},Qu=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,a=i.disabled,s=i.velocityAnimation,o=e.transformState.scale;return!(s.disabled&&!(o>1)&&a&&!t)&&!(!n||!r)};function Ju(e,t,n,r,i,a,s,o,l,c){if(i){var u;if(t>s&&n>s)return(u=s+(e-s)*c)>l?l:u<s?s:u;if(t<a&&n<a)return(u=a+(e-a)*c)<o?o:u>a?a:u}return r?t:Gu(e,a,s,i)}function ed(e,t){if(Zu(e)){var n=e.lastMousePosition,r=e.velocityTime,i=e.setup,a=e.wrapperComponent,s=i.velocityAnimation.equalToMove,o=Date.now();if(n&&r&&a){var l=function(e,t){return t?Math.min(1,e.offsetWidth/window.innerWidth):1}(a,s),c=t.x-n.x,u=t.y-n.y,d=c/l,h=u/l,f=o-r,p=c*c+u*u,m=Math.sqrt(p)/f;e.velocity={velocityX:d,velocityY:h,total:m}}e.lastMousePosition=t,e.velocityTime=o}}function td(e,t){var n=e.transformState.scale;Fu(e),Hu(e,n),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,a=r.positionY;if(e.isPanning=!0,1===n.length){var s=n[0].clientX,o=n[0].clientY;e.startCoords={x:s-i,y:o-a}}}(e,t):function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var a=t.clientX,s=t.clientY;e.startCoords={x:a-r,y:s-i}}(e,t)}function nd(e){var t=e.transformState.scale,n=e.setup,r=n.minScale,i=n.alignmentAnimation,a=i.disabled,s=i.sizeX,o=i.sizeY,l=i.animationTime,c=i.animationType;if(!(a||t<r||!s&&!o)){var u=function(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,a=e.setup,s=a.disabled,o=a.limitToBounds,l=a.centerZoomedOut,c=e.wrapperComponent;if(!s&&c&&e.bounds){var u=e.bounds,d=u.maxPositionX,h=u.minPositionX,f=u.maxPositionY,p=u.minPositionY,m=n>d||n<h,g=r>f||r<p,v=Yu(e,n>d?c.offsetWidth:e.setup.minPositionX||0,r>f?c.offsetHeight:e.setup.minPositionY||0,i,e.bounds,o||l),y=v.x,b=v.y;return{scale:i,positionX:m?y:n,positionY:g?b:r}}}(e);u&&$u(e,u,l,c)}}function rd(e,t,n){var r=e.startCoords,i=e.setup.alignmentAnimation,a=i.sizeX,s=i.sizeY;if(r){var o=function(e,t,n){var r=e.startCoords,i=e.transformState,a=e.setup.panning,s=a.lockAxisX,o=a.lockAxisY,l=i.positionX,c=i.positionY;if(!r)return{x:l,y:c};var u=t-r.x,d=n-r.y;return{x:s?l:u,y:o?c:d}}(e,t,n),l=o.x,c=o.y,u=Xu(e,a),d=Xu(e,s);ed(e,{x:l,y:c}),qu(e,l,c,u,d)}}function id(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var a=null===r||void 0===r?void 0:r.getBoundingClientRect(),s=null===i||void 0===i?void 0:i.getBoundingClientRect(),o=(null===a||void 0===a?void 0:a.width)||0,l=(null===a||void 0===a?void 0:a.height)||0,c=(null===s||void 0===s?void 0:s.width)||0,u=(null===s||void 0===s?void 0:s.height)||0,d=o<c||l<u;!t&&n&&(null===n||void 0===n?void 0:n.total)>.1&&d?function(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent;if(Qu(e)&&t&&n&&i){var a=t.velocityX,s=t.velocityY,o=t.total,l=n.maxPositionX,c=n.minPositionX,u=n.maxPositionY,d=n.minPositionY,h=r.limitToBounds,f=r.alignmentAnimation,p=r.zoomAnimation,m=r.panning,g=m.lockAxisY,v=m.lockAxisX,y=p.animationType,b=f.sizeX,x=f.sizeY,S=f.velocityAlignmentTime,_=function(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,a=n.sensitivity;return r?i*t*a:i}(e,o),w=Math.max(_,S),E=Xu(e,b),T=Xu(e,x),C=E*i.offsetWidth/100,k=T*i.offsetHeight/100,A=l+C,j=c-C,N=u+k,L=d-k,R=e.transformState,P=(new Date).getTime();Uu(e,y,w,(function(t){var n=e.transformState,r=n.scale,i=n.positionX,o=n.positionY,p=((new Date).getTime()-P)/S,m=1-(0,Ou[f.animationType])(Math.min(1,p)),y=1-t,b=i+a*y,x=o+s*y,_=Ju(b,R.positionX,i,v,h,c,l,j,A,m),w=Ju(x,R.positionY,o,g,h,d,u,L,N,m);i===b&&o===x||e.setTransformState(r,_,w)}))}}(e):nd(e)}}function ad(e,t,n,r){var i=e.setup,a=i.minScale,s=i.maxScale,o=i.limitToBounds,l=Wu(Iu(t,2),a,s,0,!1),c=Yu(e,n,r,l,Hu(e,l),o);return{scale:l,positionX:c.x,positionY:c.y}}function sd(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,a=e.setup,s=a.minScale,o=a.limitToBounds,l=a.zoomAnimation,c=l.disabled,u=l.animationTime,d=l.animationType,h=c||r>=s;if((r>=1||o)&&nd(e),!h&&i&&e.mounted){var f=ad(e,s,t||i.offsetWidth/2,n||i.offsetHeight/2);f&&$u(e,f,u,d)}}var od=function(){return od=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},od.apply(this,arguments)};function ld(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var cd=1,ud=0,dd=0,hd={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},fd="react-transform-wrapper",pd="react-transform-component",md=function(e){var t,n,r,i;return{previousScale:null!==(t=e.initialScale)&&void 0!==t?t:cd,scale:null!==(n=e.initialScale)&&void 0!==n?n:cd,positionX:null!==(r=e.initialPositionX)&&void 0!==r?r:ud,positionY:null!==(i=e.initialPositionY)&&void 0!==i?i:dd}},gd=function(e){var t=od({},hd);return Object.keys(e).forEach((function(n){var r="undefined"!==typeof e[n];if("undefined"!==typeof hd[n]&&r){var i=Object.prototype.toString.call(hd[n]),a="[object Object]"===i,s="[object Array]"===i;t[n]=a?od(od({},hd[n]),e[n]):s?ld(ld([],hd[n],!0),e[n],!0):e[n]}})),t},vd=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,a=e.setup,s=a.maxScale,o=a.minScale,l=a.zoomAnimation,c=a.smooth,u=l.size;if(!i)throw new Error("Wrapper is not mounted");var d=c?r*Math.exp(t*n):r+t*n;return Wu(Iu(d,3),o,s,u,!1)};function yd(e,t,n,r,i){var a=e.wrapperComponent,s=e.transformState,o=s.scale,l=s.positionX,c=s.positionY;if(!a)return console.error("No WrapperComponent found");var u=(a.offsetWidth/2-l)/o,d=(a.offsetHeight/2-c)/o,h=ad(e,vd(e,t,n),u,d);if(!h)return console.error("Error during zoom event. New transformation state was not calculated.");$u(e,h,r,i)}function bd(e,t,n,r){var i=e.setup,a=e.wrapperComponent,s=i.limitToBounds,o=md(e.props),l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(a){var h=Bu(e,o.scale),f=zu(o.positionX,o.positionY,h,s,0,0,a),p={scale:o.scale,positionX:f.x,positionY:f.y};c===o.scale&&u===o.positionX&&d===o.positionY||(null===r||void 0===r||r(),$u(e,p,t,n))}}var xd=function(e){return function(t,n,r){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),yd(e,1,t,n,r)}},Sd=function(e){return function(t,n,r){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),yd(e,-1,t,n,r)}},_d=function(e){return function(t,n,r,i,a){void 0===i&&(i=300),void 0===a&&(a="easeOut");var s=e.transformState,o=s.positionX,l=s.positionY,c=s.scale,u=e.wrapperComponent,d=e.contentComponent;if(!e.setup.disabled&&u&&d){var h={positionX:Number.isNaN(t)?o:t,positionY:Number.isNaN(n)?l:n,scale:Number.isNaN(r)?c:r};$u(e,h,i,a)}}},wd=function(e){return function(t,n){void 0===t&&(t=200),void 0===n&&(n="easeOut"),bd(e,t,n)}},Ed=function(e){return function(t,n,r){void 0===n&&(n=200),void 0===r&&(r="easeOut");var i=e.transformState,a=e.wrapperComponent,s=e.contentComponent;if(a&&s){var o=Pd(t||i.scale,a,s);$u(e,o,n,r)}}},Td=function(e){return function(t,n,r,i){void 0===r&&(r=600),void 0===i&&(i="easeOut"),Fu(e);var a=e.wrapperComponent,s="string"===typeof t?document.getElementById(t):t;if(a&&s&&a.contains(s)){var o=function(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,a=e.transformState,s=e.setup,o=s.limitToBounds,l=s.minScale,c=s.maxScale;if(!r||!i)return a;var u=r.getBoundingClientRect(),d=t.getBoundingClientRect(),h=function(e,t,n,r){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=n.getBoundingClientRect(),o=a.x*r.scale,l=a.y*r.scale;return{x:(i.x-s.x+o)/r.scale,y:(i.y-s.y+l)/r.scale}}(t,r,i,a),f=h.x,p=h.y,m=d.width/a.scale,g=d.height/a.scale,v=r.offsetWidth/m,y=r.offsetHeight/g,b=Wu(n||Math.min(v,y),l,c,0,!1),x=(u.width-m*b)/2,S=(u.height-g*b)/2,_=zu((u.left-f)*b+x,(u.top-p)*b+S,Bu(e,b),o,0,0,r);return{positionX:_.x,positionY:_.y,scale:b}}(e,s,n);$u(e,o,r,i)}}},Cd=function(e){return{instance:e,zoomIn:xd(e),zoomOut:Sd(e),setTransform:_d(e),resetTransform:wd(e),centerView:Ed(e),zoomToElement:Td(e)}},kd=function(e){return{instance:e,state:e.transformState}},Ad=function(e){var t={};return Object.assign(t,kd(e)),Object.assign(t,Cd(e)),t};function jd(){try{return{get passive(){return!1}}}catch(Cm){return!1}}var Nd=".".concat(fd),Ld=function(e,t){return t.some((function(t){return e.matches("".concat(Nd," ").concat(t,", ").concat(Nd," .").concat(t,", ").concat(Nd," ").concat(t," *, ").concat(Nd," .").concat(t," *"))}))},Rd=function(e){e&&clearTimeout(e)},Pd=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-r)/2,positionY:(t.offsetHeight-i)/2}};function Id(e,t,n){var r=t.getBoundingClientRect(),i=0,a=0;if("clientX"in e)i=(e.clientX-r.left)/n,a=(e.clientY-r.top)/n;else{var s=e.touches[0];i=(s.clientX-r.left)/n,a=(s.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var Dd=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},Od=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,a=e.contentComponent,s=e.setup,o=e.transformState.scale,l=s.limitToBounds,c=s.centerZoomedOut,u=s.zoomAnimation,d=s.wheel,h=s.disablePadding,f=s.smooth,p=u.size,m=u.disabled,g=d.step,v=d.smoothStep;if(!a)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var y=function(e,t){var n,r,i=function(e){return e?e.deltaY<0?1:-1:0}(e);return r=i,"number"===typeof(n=t)?n:r}(t,null),b=function(e,t,n,r,i){var a=e.transformState.scale,s=e.wrapperComponent,o=e.setup,l=o.maxScale,c=o.minScale,u=o.zoomAnimation,d=o.disablePadding,h=u.size,f=u.disabled;if(!s)throw new Error("Wrapper is not mounted");var p=a+t*n;if(i)return p;var m=!r&&!f;return Wu(Iu(p,3),c,l,h,m&&!d)}(e,y,f?v*Math.abs(t.deltaY):g,!t.ctrlKey);if(o!==b){var x=Hu(e,b),S=Id(t,a,o),_=l&&(m||0===p||c||h),w=Yu(e,S.x,S.y,b,x,_),E=w.x,T=w.y;e.previousWheelEvent=t,e.setTransformState(b,E,T),Du(Ad(e),t,r),Du(Ad(e),t,i)}},Md=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;Rd(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout((function(){e.mounted&&(sd(e,t.x,t.y),e.wheelAnimationTimer=null)}),100);var a=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,a=i.maxScale,s=i.minScale;return!!n&&(r<a||r>s||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY))}(e,t);a&&(Rd(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout((function(){e.mounted&&(e.wheelStopEventTimer=null,Du(Ad(e),t,r),Du(Ad(e),t,i))}),160))},Fd=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;return{x:t/2,y:n/2}},Ud=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.wrapperComponent,a=e.transformState.scale,s=e.setup,o=s.limitToBounds,l=s.centerZoomedOut,c=s.zoomAnimation,u=s.alignmentAnimation,d=c.disabled,h=c.size;if(null!==r&&n){var f=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,a=Iu(i[0].clientX-r.left,5),s=Iu(i[0].clientY-r.top,5);return{x:(a+Iu(i[1].clientX-r.left,5))/2/t,y:(s+Iu(i[1].clientY-r.top,5))/2/t}}(t,a,n);if(Number.isFinite(f.x)&&Number.isFinite(f.y)){var p=Dd(t),m=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,a=i.maxScale,s=i.minScale,o=i.zoomAnimation,l=i.disablePadding,c=o.size,u=o.disabled;if(!n||null===r||!t)throw new Error("Pinch touches distance was not provided");return t<0?e.transformState.scale:Wu(Iu(t/r*n,2),s,a,c,!u&&!l)}(e,p),g=Fd(t),v=g.x-(e.pinchLastCenterX||0),y=g.y-(e.pinchLastCenterY||0);if(m!==a||0!==v||0!==y){e.pinchLastCenterX=g.x,e.pinchLastCenterY=g.y;var b=Hu(e,m),x=o&&(d||0===h||l),S=Yu(e,f.x,f.y,m,b,x),_=S.x,w=S.y;e.pinchMidpoint=f,e.lastDistance=p;var E=u.sizeX,T=u.sizeY,C=zu(_+v,w+y,b,o,Xu(e,E),Xu(e,T),i),k=C.x,A=C.y;e.setTransformState(m,k,A)}}}},$d=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;Rd(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout((function(){e.doubleClickStopEventTimer=null,Du(Ad(e),t,n)}),r)};function Bd(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,a=e.contentComponent,s=i.scale,o=e.props,l=o.onZoomStart,c=o.onZoom,u=n.doubleClick,d=u.disabled,h=u.mode,f=u.step,p=u.animationTime,m=u.animationType;if(!d&&!r){if("reset"===h)return function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,a=e.setup.doubleClick,s=a.animationTime,o=a.animationType;Du(Ad(e),t,r),bd(e,s,o,(function(){return Du(Ad(e),t,i)})),$d(e,t)}(e,t);if(!a)return console.error("No ContentComponent found");var g=function(e,t){return"toggle"===e?1===t?1:-1:"zoomOut"===e?-1:1}(h,e.transformState.scale),v=vd(e,g,f);if(s!==v){Du(Ad(e),t,l);var y=Id(t,a,s),b=ad(e,v,y.x,y.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");Du(Ad(e),t,c),$u(e,b,p,m),$d(e,t)}}}var Gd=function(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){t.props=e,Hu(t,t.transformState.scale),t.setup=gd(e)},this.initializeWindowEvents=function(){var e,n,r=jd(),i=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,a=null===i||void 0===i?void 0:i.defaultView;null===(n=t.wrapperComponent)||void 0===n||n.addEventListener("wheel",t.onWheelPanning,r),null===a||void 0===a||a.addEventListener("mousedown",t.onPanningStart,r),null===a||void 0===a||a.addEventListener("mousemove",t.onPanning,r),null===a||void 0===a||a.addEventListener("mouseup",t.onPanningStop,r),null===i||void 0===i||i.addEventListener("mouseleave",t.clearPanning,r),null===a||void 0===a||a.addEventListener("keyup",t.setKeyUnPressed,r),null===a||void 0===a||a.addEventListener("keydown",t.setKeyPressed,r)},this.cleanupWindowEvents=function(){var e,n,r=jd(),i=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,a=null===i||void 0===i?void 0:i.defaultView;null===a||void 0===a||a.removeEventListener("mousedown",t.onPanningStart,r),null===a||void 0===a||a.removeEventListener("mousemove",t.onPanning,r),null===a||void 0===a||a.removeEventListener("mouseup",t.onPanningStop,r),null===i||void 0===i||i.removeEventListener("mouseleave",t.clearPanning,r),null===a||void 0===a||a.removeEventListener("keyup",t.setKeyUnPressed,r),null===a||void 0===a||a.removeEventListener("keydown",t.setKeyPressed,r),document.removeEventListener("mouseleave",t.clearPanning,r),Fu(t),null===(n=t.observer)||void 0===n||n.disconnect()},this.handleInitializeWrapperEvents=function(e){var n=jd();e.addEventListener("wheel",t.onWheelZoom,n),e.addEventListener("dblclick",t.onDoubleClick,n),e.addEventListener("touchstart",t.onTouchPanningStart,n),e.addEventListener("touchmove",t.onTouchPanning,n),e.addEventListener("touchend",t.onTouchPanningStop,n)},this.handleInitialize=function(e){var n=t.setup.centerOnInit;t.applyTransformation(),t.onInitCallbacks.forEach((function(e){return e(Ad(t))})),n&&(t.setCenter(),t.observer=new ResizeObserver((function(){var n,r=e.offsetWidth,i=e.offsetHeight;(r>0||i>0)&&(t.onInitCallbacks.forEach((function(e){return e(Ad(t))})),t.setCenter(),null===(n=t.observer)||void 0===n||n.disconnect())})),setTimeout((function(){var e;null===(e=t.observer)||void 0===e||e.disconnect()}),5e3),t.observer.observe(e))},this.onWheelZoom=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,a=n.touchPadDisabled,s=n.excluded,o=e.isInitialized,l=e.isPanning,c=t.target;return!(!o||l||r||!c)&&!(i&&!t.ctrlKey)&&(!a||!t.ctrlKey)&&!Ld(c,s)}(t,e);n&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(Fu(e),Du(Ad(e),t,r),Du(Ad(e),t,i))}(t,e),Od(t,e),Md(t,e))}},this.onWheelPanning=function(e){var n=t.setup,r=n.disabled,i=n.wheel,a=n.panning;if(t.wrapperComponent&&t.contentComponent&&!r&&i.wheelDisabled&&!a.disabled&&a.wheelPanning&&!e.ctrlKey){e.preventDefault(),e.stopPropagation();var s=t.transformState,o=s.positionX,l=s.positionY,c=o-e.deltaX,u=l-e.deltaY,d=a.lockAxisX?o:c,h=a.lockAxisY?l:u,f=t.setup.alignmentAnimation,p=f.sizeX,m=f.sizeY,g=Xu(t,p),v=Xu(t,m);d===o&&h===l||qu(t,d,h,g,v)}},this.onPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;n||Vu(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(0!==e.button||t.setup.panning.allowLeftClickPan)&&(1!==e.button||t.setup.panning.allowMiddleClickPan)&&(2!==e.button||t.setup.panning.allowRightClickPan)&&(e.preventDefault(),e.stopPropagation(),Fu(t),td(t,e),Du(Ad(t),e,r))},this.onPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;n||Ku(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),rd(t,e.clientX,e.clientY),Du(Ad(t),e,r))},this.onPanningStop=function(e){var n=t.props.onPanningStop;t.isPanning&&(id(t),Du(Ad(t),e,n))},this.onPinchStart=function(e){var n=t.setup.disabled,r=t.props,i=r.onPinchingStart,a=r.onZoomStart;if(!n){var s=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,a=e.isInitialized,s=t.target;return!(!a||r||!s)&&!Ld(s,i)}(t,e);s&&(function(e,t){var n=Dd(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=Fd(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,Fu(e)}(t,e),Fu(t),Du(Ad(t),e,i),Du(Ad(t),e,a))}},this.onPinch=function(e){var n=t.setup.disabled,r=t.props,i=r.onPinching,a=r.onZoom;if(!n){var s=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance;return!(!n||t||!r)}(t);s&&(e.preventDefault(),e.stopPropagation(),Ud(t,e),Du(Ad(t),e,i),Du(Ad(t),e,a))}},this.onPinchStop=function(e){var n=t.props,r=n.onPinchingStop,i=n.onZoomStop;t.pinchStartScale&&(function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,sd(e,null===t||void 0===t?void 0:t.x,null===t||void 0===t?void 0:t.y)}(t),Du(Ad(t),e,r),Du(Ad(t),e,i))},this.onTouchPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;if(!n&&Vu(t,e)&&!(t.lastTouch&&+new Date-t.lastTouch<200)){t.lastTouch=+new Date,Fu(t);var i=e.touches,a=1===i.length,s=2===i.length;a&&(Fu(t),td(t,e),Du(Ad(t),e,r)),s&&t.onPinchStart(e)}},this.onTouchPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;if(t.isPanning&&1===e.touches.length){if(n)return;if(!Ku(t))return;e.preventDefault(),e.stopPropagation();var i=e.touches[0];rd(t,i.clientX,i.clientY),Du(Ad(t),e,r)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,a=r.doubleClick,s=a.disabled,o=a.excluded,l=t.target,c=null===i||void 0===i?void 0:i.contains(l);return!(!(n&&l&&c)||s)&&!Ld(l,o)}(t,e);n&&Bd(t,e)}},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return!e.length||Boolean(e.find((function(e){return t.pressedKeys[e]})))},this.setTransformState=function(e,n,r){var i=t.props.onTransformed;if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))console.error("Detected NaN set state values");else{e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=n,t.transformState.positionY=r,t.applyTransformation();var a=Ad(t);t.onChangeCallbacks.forEach((function(e){return e(a)})),Du(a,{scale:e,positionX:n,positionY:r},i)}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=Pd(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,n,r){return t.props.customTransform?t.props.customTransform(e,n,r):function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")}(e,n,r)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var e=t.transformState,n=e.scale,r=e.positionX,i=e.positionY,a=t.handleTransformStyles(r,i,n);t.contentComponent.style.transform=a}},this.getContext=function(){return Ad(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.onInit=function(e){return t.onInitCallbacks.has(e)||t.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},this.init=function(e,n){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=n,Hu(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(n),t.initializeWindowEvents(),t.isInitialized=!0;var r=Ad(t);Du(r,void 0,t.props.onInit)},this.props=e,this.setup=gd(this.props),this.transformState=md(this.props)},Hd=t.createContext(null),zd=t.forwardRef((function(e,n){var r,i,a=(0,t.useRef)(new Gd(e)).current,s=(r=e.children,i=Cd(a),"function"===typeof r?r(i):r);return(0,t.useImperativeHandle)(n,(function(){return Cd(a)}),[a]),(0,t.useEffect)((function(){a.update(e)}),[a,e]),t.createElement(Hd.Provider,{value:a},s)}));t.forwardRef((function(e,n){var r,i=(0,t.useRef)(null),a=(0,t.useContext)(Hd);return(0,t.useEffect)((function(){return a.onChange((function(e){if(i.current){i.current.style.transform=a.handleTransformStyles(0,0,1/e.instance.transformState.scale)}}))}),[a]),t.createElement("div",od({},e,{ref:(r=[i,n],function(e){r.forEach((function(t){"function"===typeof t?t(e):null!=t&&(t.current=e)}))})}))}));var Yd="transform-component-module_wrapper__SPB86",Wd="transform-component-module_content__FBWxo";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var Vd=function(e){var n=e.children,r=e.wrapperClass,i=void 0===r?"":r,a=e.contentClass,s=void 0===a?"":a,o=e.wrapperStyle,l=e.contentStyle,c=e.wrapperProps,u=void 0===c?{}:c,d=e.contentProps,h=void 0===d?{}:d,f=(0,t.useContext)(Hd),p=f.init,m=f.cleanupWindowEvents,g=(0,t.useRef)(null),v=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=g.current,t=v.current;return null!==e&&null!==t&&p&&(null===p||void 0===p||p(e,t)),function(){null===m||void 0===m||m()}}),[]),t.createElement("div",od({},u,{ref:g,className:"".concat(fd," ").concat(Yd," ").concat(i),style:o}),t.createElement("div",od({},h,{ref:v,className:"".concat(pd," ").concat(Wd," ").concat(s),style:l}),n))};const Kd=e=>{let{imageData:n,storeUuid:r,videoData:i,isWishlist:a,isFavorite:s,sui:o,color_id:l,size_id:c,systemName:u}=e;const[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(1),v=(0,t.useRef)(null),y=(0,t.useRef)({});(0,t.useEffect)((()=>{n.length>0&&(n.forEach((e=>{const t=new Image;t.src=e.image_url,y.current[e.image_url]=t})),h(n[0].image_url),localStorage.setItem("mainImage",n[0].image_url))}),[n]);const b=e=>{const t=e.dataset.large;h(t),localStorage.setItem("mainImage",t),x()},x=()=>{v.current&&(v.current.resetTransform(),g(1),p(!1))};return(0,At.jsx)("div",{className:"image-block",children:(0,At.jsxs)("div",{className:"product-gallery",children:[(0,At.jsx)("div",{className:"thumbnails",children:n.map(((e,t)=>(0,At.jsx)("div",{className:"thumbnail "+(d===e.image_url?"active":""),onClick:t=>((e,t)=>{h(e),localStorage.setItem("mainImage",e),b(t.currentTarget)})(e.image_url,t),"data-large":e.image_url,children:(0,At.jsx)("img",{src:e.image_url_thumb,alt:`Thumbnail ${t+1}`})},t)))}),(0,At.jsxs)("div",{className:"large-image",onMouseLeave:x,children:[(0,At.jsx)(zd,{ref:v,initialScale:1,minScale:1,maxScale:5,centerOnInit:!0,wheel:{step:.1},doubleClick:{step:1},panning:{disabled:f},pinch:{disabled:!1},zoomAnimation:{disabled:!1,size:.5},onZoomChange:e=>{g(e.state.scale),p(e.state.scale>1)},children:e=>{let{zoomIn:t,zoomOut:n,resetTransform:r}=e;return(0,At.jsx)(Vd,{children:(0,At.jsx)("img",{src:d,alt:"Large View",onClick:()=>((e,t,n)=>{m>=5?m>1?(t(),g((e=>Math.max(e-1,1)))):(n(),p(!1)):(e(),g((e=>Math.min(e+1,5))),p(!0))})(t,n,r),style:{cursor:f?"default":"zoom-in"}})})}}),(0,At.jsx)("button",{className:"prev-arrow",onClick:()=>{const e=document.querySelectorAll(".thumbnail"),t=e[(Array.from(e).findIndex((e=>e.dataset.large===d))-1+e.length)%e.length];b(t)},children:(0,At.jsx)("img",{src:"/images/back-arrow.png",alt:"Previous"})}),(0,At.jsx)("button",{className:"next-arrow",onClick:()=>{const e=document.querySelectorAll(".thumbnail"),t=e[(Array.from(e).findIndex((e=>e.dataset.large===d))+1)%e.length];b(t)},children:(0,At.jsx)("img",{src:"/images/next-arrow.png",alt:"Next"})})]})]})})},qd=async(e,t,n,r,i,a)=>{const s=r.image_url||"https://fallbackimageurl.com/default.jpg",o={dynamicLinkInfo:{link:`https://connect.seashels.com/api/v1.0/Link/product?lui=${e}&imgSystemName=${t}&store_id=${n}&uploadType=product&currentType=${localStorage.getItem("userRole")||"guest"}&sender_id=${localStorage.getItem("userUuid")}&region=${localStorage.getItem("userCountryCode")||"US"}&mediaUrl=${s}&description=${encodeURIComponent(i)}`,domainUriPrefix:"https://discover.seashels.com",androidInfo:{androidPackageName:"com.seashels.discover",androidFallbackLink:"https://connect.seashels.com",androidMinPackageVersionCode:"1"},iosInfo:{iosBundleId:"com.seashels.discover",iosFallbackLink:"https://connect.seashels.com",iosAppStoreId:"6463077820",iosMinimumVersion:"1.0"},socialMetaTagInfo:{socialTitle:a||"Modestrend",socialDescription:i||"Modesty with Style",socialImageLink:s}},suffix:{option:"SHORT"}};try{const e=await fetch("https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=AIzaSyBmAr5tphOF7t3V48143Htw0G535wOP5xM",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok){const t=await e.json();throw console.error("Error response:",t),new Error(`Error creating dynamic link: ${t.error.message}`)}const t=await e.json();return console.log("Generated Dynamic Link:",t.shortLink),t.shortLink}catch(l){console.error("Error creating dynamic link:",l)}},Xd=e=>{let{onClose:t}=e;return(0,At.jsx)("div",{className:"custom-popup-overlay",children:(0,At.jsxs)("div",{className:"custom-popup",children:[(0,At.jsx)("p",{children:"Please Sign Up to continue."}),(0,At.jsxs)("div",{className:"popup-actions",children:[(0,At.jsx)("button",{onClick:t,children:"Close"}),(0,At.jsx)("a",{href:"/login",className:"login-button",children:"Log In"})]})]})})};function Zd(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Zd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Qd=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Zd(e))&&(r&&(r+=" "),r+=t);return r},Jd=e=>"number"==typeof e&&!isNaN(e),eh=e=>"string"==typeof e,th=e=>"function"==typeof e,nh=e=>eh(e)||th(e)?e:null,rh=e=>(0,t.isValidElement)(e)||eh(e)||th(e)||Jd(e);function ih(e){let{enter:n,exit:r,appendPosition:i=!1,collapse:a=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e;const p=i?`${n}--${l}`:n,m=i?`${r}--${l}`:r,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)((()=>{const e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,s):u()};h||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,o)}}function ah(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const sh=new Map;let oh=[];const lh=new Set,ch=e=>lh.forEach((t=>t(e))),uh=()=>sh.size>0;function dh(e,t){var n;if(t)return!(null==(n=sh.get(t))||!n.isToastActive(e));let r=!1;return sh.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function hh(e,t){rh(e)&&(uh()||oh.push({content:e,options:t}),sh.forEach((n=>{n.buildToast(e,t)})))}function fh(e,t){sh.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function ph(e){const{subscribe:n,getSnapshot:r,setProps:i}=(0,t.useRef)(function(e){const n=e.containerId||1;return{subscribe(r){const i=function(e,n,r){let i=1,a=0,s=[],o=[],l=[],c=n;const u=new Map,d=new Set,h=()=>{l=Array.from(u.values()),d.forEach((e=>e()))},f=e=>{o=null==e?[]:o.filter((t=>t!==e)),h()},p=e=>{const{toastId:n,onOpen:i,updateId:a,children:s}=e.props,l=null==a;e.staleId&&u.delete(e.staleId),u.set(n,e),o=[...o,e.props.toastId].filter((t=>t!==e.staleId)),h(),r(ah(e,l?"added":"updated")),l&&th(i)&&i((0,t.isValidElement)(s)&&s.props)};return{id:e,props:c,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{u.forEach((n=>{null!=t&&t!==n.props.toastId||th(n.toggle)&&n.toggle(e)}))},removeToast:f,toasts:u,clearQueue:()=>{a-=s.length,s=[]},buildToast:(n,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t;const a=n?n!==e:1!==e,s=u.has(r)&&null==i;return a||s})(o))return;const{toastId:l,updateId:d,data:m,staleId:g,delay:v}=o,y=()=>{f(l)},b=null==d;b&&a++;const x={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(o).filter((e=>{let[t,n]=e;return null!=n}))),toastId:l,updateId:d,data:m,closeToast:y,isIn:!1,className:nh(o.className||c.toastClassName),bodyClassName:nh(o.bodyClassName||c.bodyClassName),progressClassName:nh(o.progressClassName||c.progressClassName),autoClose:!o.isLoading&&(S=o.autoClose,_=c.autoClose,!1===S||Jd(S)&&S>0?S:_),deleteToast(){const e=u.get(l),{onClose:n,children:i}=e.props;th(n)&&n((0,t.isValidElement)(i)&&i.props),r(ah(e,"removed")),u.delete(l),a--,a<0&&(a=0),s.length>0?p(s.shift()):h()}};var S,_;x.closeButton=c.closeButton,!1===o.closeButton||rh(o.closeButton)?x.closeButton=o.closeButton:!0===o.closeButton&&(x.closeButton=!rh(c.closeButton)||c.closeButton);let w=n;(0,t.isValidElement)(n)&&!eh(n.type)?w=(0,t.cloneElement)(n,{closeToast:y,toastProps:x,data:m}):th(n)&&(w=n({closeToast:y,toastProps:x,data:m}));const E={content:w,props:x,staleId:g};c.limit&&c.limit>0&&a>c.limit&&b?s.push(E):Jd(v)?setTimeout((()=>{p(E)}),v):p(E)},setProps(e){c=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>o.some((t=>t===e)),getSnapshot:()=>c.newestOnTop?l.reverse():l}}(n,e,ch);sh.set(n,i);const a=i.observe(r);return oh.forEach((e=>hh(e.content,e.options))),oh=[],()=>{a(),sh.delete(n)}},setProps(e){var t;null==(t=sh.get(n))||t.setProps(e)},getSnapshot(){var e;return null==(e=sh.get(n))?void 0:e.getSnapshot()}}}(e)).current;i(e);const a=(0,t.useSyncExternalStore)(n,r,r);return{getToastToRender:function(e){if(!a)return[];const t=new Map;return a.forEach((e=>{const{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:dh,count:null==a?void 0:a.length}}function mh(e){let{delay:n,isRunning:r,closeToast:i,type:a="default",hide:s,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:f}=e;const p=s||c&&0===u,m={...l,animationDuration:`${n}ms`,animationPlayState:r?"running":"paused"};c&&(m.transform=`scaleX(${u})`);const g=Qd("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":d}),v=th(o)?o({rtl:d,type:a,defaultClassName:g}):Qd(g,o),y={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&i()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${a}`}),t.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:m,...y}))}let gh=1;const vh=()=>""+gh++;function yh(e){return e&&(eh(e.toastId)||Jd(e.toastId))?e.toastId:vh()}function bh(e,t){return hh(e,t),t.toastId}function xh(e,t){return{...t,type:t&&t.type||e,toastId:yh(t)}}function Sh(e){return(t,n)=>bh(t,xh(e,n))}function _h(e,t){return bh(e,xh("default",t))}_h.loading=(e,t)=>bh(e,xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),_h.promise=function(e,t,n){let r,{pending:i,error:a,success:s}=t;i&&(r=eh(i)?_h.loading(i,n):_h.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void _h.dismiss(r);const a={type:e,...o,...n,data:i},s=eh(t)?{render:t}:t;return r?_h.update(r,{...a,...s}):_h(s.render,{...a,...s}),i},c=th(e)?e():e;return c.then((e=>l("success",s,e))).catch((e=>l("error",a,e))),c},_h.success=Sh("success"),_h.info=Sh("info"),_h.error=Sh("error"),_h.warning=Sh("warning"),_h.warn=_h.warning,_h.dark=(e,t)=>bh(e,xh("default",{theme:"dark",...t})),_h.dismiss=function(e){!function(e){var t;if(uh()){if(null==e||eh(t=e)||Jd(t))sh.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=sh.get(e.containerId);t?t.removeToast(e.id):sh.forEach((t=>{t.removeToast(e.id)}))}}else oh=oh.filter((t=>null!=e&&t.options.toastId!==e))}(e)},_h.clearWaitingQueue=function(e){void 0===e&&(e={}),sh.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},_h.isActive=dh,_h.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:r}=t;return null==(n=sh.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:vh()};a.toastId!==e&&(a.staleId=e);const s=a.render||i;delete a.render,bh(s,a)}},_h.done=e=>{_h.update(e,{progress:1})},_h.onChange=function(e){return lh.add(e),()=>{lh.delete(e)}},_h.play=e=>fh(!0,e),_h.pause=e=>fh(!1,e);const wh="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Eh=e=>{let{theme:n,type:r,isLoading:i,...a}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":`var(--toastify-icon-color-${r})`,...a})},Th={info:function(e){return t.createElement(Eh,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Eh,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Eh,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Eh,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}},Ch=e=>{const{isRunning:n,preventExitTransition:r,toastRef:i,eventHandlers:a,playToast:s}=function(e){const[n,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(!1),s=(0,t.useRef)(null),o=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;var f,p;function m(){r(!0)}function g(){r(!1)}function v(t){const r=s.current;o.canDrag&&r&&(o.didMove=!0,n&&g(),o.delta="x"===e.draggableDirection?t.clientX-o.start:t.clientY-o.start,o.start!==t.clientX&&(o.canCloseOnClick=!1),r.style.transform=`translate3d(${"x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y);const t=s.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(p=sh.get((f={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))||p.setToggle(f.id,f.fn),(0,t.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}}),[e.pauseOnFocusLoss]);const b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",y);const n=s.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:r,left:i,right:a}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=a&&t.clientY>=n&&t.clientY<=r?g():m()}};return l&&c&&(b.onMouseEnter=g,e.stacked||(b.onMouseLeave=m)),h&&(b.onClick=e=>{d&&d(e),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:n,preventExitTransition:i,toastRef:s,eventHandlers:b}}(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:p,position:m,className:g,style:v,bodyClassName:y,bodyStyle:b,progressClassName:x,progressStyle:S,updateId:_,role:w,progress:E,rtl:T,toastId:C,deleteToast:k,isIn:A,isLoading:j,closeOnClick:N,theme:L}=e,R=Qd("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":N}),P=th(g)?g({rtl:T,position:m,type:d,defaultClassName:R}):Qd(R,g),I=function(e){let{theme:n,type:r,isLoading:i,icon:a}=e,s=null;const o={theme:n,type:r};return!1===a||(th(a)?s=a({...o,isLoading:i}):(0,t.isValidElement)(a)?s=(0,t.cloneElement)(a,o):i?s=Th.spinner():(e=>e in Th)(r)&&(s=Th[r](o))),s}(e),D=!!E||!c,O={closeToast:f,type:d,theme:L};let M=null;return!1===o||(M=th(o)?o(O):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,O):function(e){let{closeToast:n,theme:r,ariaLabel:i="close"}=e;return t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:e=>{e.stopPropagation(),n(e)},"aria-label":i},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(O)),t.createElement(p,{isIn:A,done:k,position:m,preventExitTransition:r,nodeRef:i,playToast:s},t.createElement("div",{id:C,onClick:u,"data-in":A,className:P,...a,style:v,ref:i},t.createElement("div",{...A&&{role:w},className:th(y)?y({type:d}):Qd("Toastify__toast-body",y),style:b},null!=I&&t.createElement("div",{className:Qd("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},I),t.createElement("div",null,l)),M,t.createElement(mh,{..._&&!D?{key:`pb-${_}`}:{},rtl:T,theme:L,delay:c,isRunning:n,isIn:A,closeToast:f,hide:h,type:d,style:S,className:x,controlledProgress:D,progress:E||0})))},kh=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Ah=ih(kh("bounce",!0)),jh=(ih(kh("slide",!0)),ih(kh("zoom")),ih(kh("flip")),{position:"top-right",transition:Ah,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function Nh(e){let n={...jh,...e};const r=e.stacked,[i,a]=(0,t.useState)(!0),s=(0,t.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=ph(n),{className:u,style:d,rtl:h,containerId:f}=n;function p(e){const t=Qd("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return th(u)?u({position:e,rtl:h,defaultClassName:t}):Qd(t,nh(u))}function m(){r&&(a(!0),_h.play())}return wh((()=>{if(r){var e;const t=s.current.querySelectorAll('[data-in="true"]'),r=12,a=null==(e=n.position)?void 0:e.includes("top");let o=0,l=0;Array.from(t).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${i}`),n.dataset.pos||(n.dataset.pos=a?"top":"bot");const s=o*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y",`${a?s:-1*s}px`),n.style.setProperty("--g",`${r}`),n.style.setProperty("--s",""+(1-(i?l:0))),o+=n.offsetHeight,l+=.025}))}}),[i,c,r]),t.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{r&&(a(!1),_h.pause())},onMouseLeave:m},o(((e,n)=>{const i=n.length?{...d}:{...d,pointerEvents:"none"};return t.createElement("div",{className:p(e),style:i,key:`container-${e}`},n.map((e=>{let{content:n,props:i}=e;return t.createElement(Ch,{...i,stacked:r,collapseAll:m,isIn:l(i.toastId,i.containerId),style:i.style,key:`toast-${i.key}`},n)})))})))}const Lh=e=>{_h.success(e,{className:"custom-toast",bodyClassName:"custom-toast-body",progressClassName:"custom-toast-progress"})},Rh=()=>(0,At.jsx)("div",{children:(0,At.jsx)(Nh,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}),Ph=e=>{let{isWishlist:n,isFavorite:r,videoData:i,storeUuid:a,itemId:s,color_id:o,size_id:l,systemName:c,imageData:u,description:d,title:h}=e;const{logout:f,isLoggedIn:p}=It(),m=(0,Bt.Zp)(),[g,v]=(0,t.useState)(n),[y,b]=(0,t.useState)(r),[x,S]=(0,t.useState)(!1),[_,w]=(0,t.useState)(null),E=localStorage.getItem("apiToken"),T=localStorage.getItem("userRole");(0,t.useEffect)((()=>{v(n)}),[n]),(0,t.useEffect)((()=>{b(r)}),[r]);const C=async(e,t)=>{try{const n=await yt.post(e,t);if(401===n.status)f(),m("/home");else if(200!==n.status)throw new Error("API request failed");return n.data}catch(n){console.error(`Error with API call to ${e}:`,n)}};return(0,At.jsxs)("div",{className:"product-icons",children:[(0,At.jsxs)("div",{className:"icons-row",children:[(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{className:"gift "+(g?"active":"inactive"),children:(0,At.jsx)("a",{href:"#",onClick:async e=>{if(e.preventDefault(),!p)return void S(!0);(g?await(async()=>C("/gift/remove_gift_item",{api_token:E,sui:s}))():await(async()=>C("/gift/add_item_to_gift_list",{api_token:E,color_id:o.color_id.toString(),influencer_user_id:"0",size_id:l.size_id.toString(),store_uuid:a,sui:s,system_name:c}))())&&v(!g)}})}),(0,At.jsx)("li",{className:"share",children:(0,At.jsx)("a",{href:"#",onClick:async()=>{try{const e=await qd(s,c,a,u,d,h);document.hasFocus()&&(await navigator.clipboard.writeText(e),Lh("Link copied to clipboard:"),console.log("Link copied to clipboard successfully")),console.log(navigator,"navigator"),navigator.share?(await navigator.share({title:h,text:d,url:e}),console.log("Link shared successfully")):console.log("Web Share API not supported. Link copied to clipboard")}catch(e){console.error("Error creating or sharing dynamic link:",e)}},className:"icon-button"})}),(0,At.jsx)("li",{className:"tag savewishlist "+(y?"active":"inactive"),children:(0,At.jsx)("a",{href:"#",onClick:async e=>{if(e.preventDefault(),"shopper"!==T)return void S(!0);(y?await(async()=>C("/favorite/remove_favorite",{api_token:E,reference_id:s,type:"product"}))():await(async()=>C("/favorite/set_favorite",{api_token:E,reference_id:s,type:"product",influencer_user_id:"0",store_uuid:a,system_name:c}))())&&b(!y)}})}),i.length>0&&(0,At.jsx)("li",{className:"watch",children:(0,At.jsx)("a",{href:"#",onClick:async e=>{e.preventDefault(),i.length>0&&w(i[0].streaming_url)}})})]}),(0,At.jsxs)("div",{className:"store-btn",children:[(0,At.jsx)("ul",{children:(0,At.jsx)("li",{children:(0,At.jsxs)("a",{href:"#",children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{src:"/images/chat.png",alt:"Talk to Store"})}),"Talk to Store"]})})}),(0,At.jsx)("div",{className:"enter_store",children:(0,At.jsxs)("a",{href:`/visit-store/${a}`,children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{src:"/images/storefront.svg",alt:"Enter Store"})}),"Enter Store"]})})]})]}),x&&(0,At.jsx)(Xd,{onClose:()=>{S(!1)}}),(0,At.jsx)(Uc,{isOpen:!!_,onClose:()=>{w(null)},videoUrl:_})]})},Ih=()=>{var e,n;(0,t.useRef)();const{sui:r}=(0,Bt.g)(),{cartCount:i,addItemToCart:a}=Nt(),{apiToken:s,deviceToken:o,logout:l}=It(),c=(0,Bt.Zp)(),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[x,S]=(0,t.useState)(null),[_,w]=(0,t.useState)(null),[E,T]=(0,t.useState)([]),[C,k]=(0,t.useState)([]),[A,j]=(0,t.useState)([]),[N,L]=(0,t.useState)([]),[R,P]=(0,t.useState)(""),[I,D]=(0,t.useState)(!1),[O,M]=(0,t.useState)(!1),[F,U]=(0,t.useState)(!1),[$,B]=(0,t.useState)(!1),[G,H]=(0,t.useState)(null),[z,Y]=(0,t.useState)(!1),[W,V]=(0,t.useState)(!1),[K,q]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(!1);console.log(i,"cartCount"),console.log(s,"apiToken"),(0,t.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("apiToken"),t=await yt.get("/sku/get_sku_details",{params:{api_token:e,sui:r,is_private:0}}),n=t.data;if(200===n.status){const e=n.sui_data[0];v(n.store_details.store_uuid),e.video_data&&e.video_data.length>0&&T(e.video_data),e.sku_details.image_data.image_data&&Q(e.sku_details.image_data.image_data);const t=e.sku_price.price,r=e.sku_price.price_post_discount,i=e.sku_price.symbol,a=e.sku_details.in_stock;if(i&&B(i),t&&V(t),r&&Y(r),a&&H(a),t===r)if("0"===a||"1"===e.sku_details.is_private){const e=t&&r?Math.round((t-r)/t*100):null;q(e)}else{const e=t&&r?Math.round((t-r)/t*100):null;q(e)}else{const e=t&&r?Math.round((t-r)/t*100):null;q(e)}let s=[];e.sku_colors&&e.sku_colors.length>0?s=e.sku_colors:e.product_variants&&e.product_variants.color_list&&(s=e.product_variants.color_list.map((e=>({...e,name:e.color})))),k(s);let o=[];e.sku_sizes&&e.sku_sizes.length>0?o=e.sku_sizes:e.product_variants&&e.product_variants.sizes&&(o=e.product_variants.sizes[0].sizes.map((e=>({...e,name:e.size})))),j(o);const l=e.sku_details,c=l.product_image_name?l.product_image_name:"";U(c),M(l.is_wishlist),D(l.is_favorite),e.sku_details.size_chart_list&&L(e.sku_details.size_chart_list),e.sku_details.size_chart_type&&P(e.sku_details.size_chart_type),J(e.sku_details.policy)}else 401===t.status&&(l(),c("/home"));if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);const i=t.data.sui_data[0];d(i)}catch(h){f(h.message)}finally{m(!1)}})()}),[r]),(0,t.useEffect)((()=>{if(A.length>0){const e=A.find((e=>"M"===e.name))||A[0];w(e)}}),[A]),(0,t.useEffect)((()=>{if(C.length>0){const e=C[0];S(e)}}),[A]);const Q=e=>{},J=e=>{};if(h)return(0,At.jsxs)("p",{children:["Error: ",h]});if(p)return(0,At.jsxs)("div",{className:"main-content product-details",children:[(0,At.jsx)("div",{className:"order-details",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("div",{className:"product-container",children:[(0,At.jsx)("div",{className:"image-block",children:(0,At.jsxs)("div",{className:"product-gallery",children:[(0,At.jsx)("div",{className:"thumbnails",height:740,children:(0,At.jsx)(tn.A,{height:120,width:80,style:{marginBottom:"10px"},count:6})}),(0,At.jsx)("div",{className:"large-image",children:(0,At.jsx)(tn.A,{height:745,width:495})})]})}),(0,At.jsxs)("div",{className:"order-content",children:[(0,At.jsx)(tn.A,{height:30,width:505,style:{marginBottom:"15px"}}),(0,At.jsx)(tn.A,{height:100,width:505}),(0,At.jsxs)("div",{className:"price-details",height:80,width:505,style:{marginTop:"25px"},children:[(0,At.jsx)("div",{className:"price-cont",style:{marginRight:"10px"},children:(0,At.jsx)(tn.A,{height:50,width:180})}),(0,At.jsx)("div",{className:"product-icons",style:{marginRight:"10px"},children:(0,At.jsxs)("div",{className:"icons-row",children:[(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{circle:!0,height:40,width:40})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{circle:!0,height:40,width:40})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{circle:!0,height:40,width:40})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{circle:!0,height:40,width:40})})]}),(0,At.jsx)("div",{className:"store-btn",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{width:150,height:40})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{width:150,height:40})})]})})]})})]}),(0,At.jsx)("div",{className:"color-variation",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{height:25,width:120})}),(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{height:25,width:120})})]})}),(0,At.jsx)("div",{className:"size-variation",children:(0,At.jsx)(tn.A,{height:70,width:505})}),(0,At.jsx)(Lu,{sizeguide:[],sizeguideChart:[],sizeguideType:""}),(0,At.jsx)("div",{className:"product-cta add-cart",style:{marginTop:"25px"},children:(0,At.jsx)(tn.A,{height:65,width:505})}),(0,At.jsx)("div",{className:"product-description",style:{height:"65px",width:"505px",marginTop:"25px"},children:(0,At.jsx)("div",{className:"content",children:(0,At.jsx)(tn.A,{count:4,height:35,style:{marginTop:"10px"}})})})]})]})})}),(0,At.jsx)(Pu,{relatedProducts:[]})]});const{sku_details:ee}=u,{description:te,size_chart_list:ne=[],size_guide_chart:re=[],size_chart_type:ie="",policy:ae=[]}=ee||{};return(0,At.jsxs)("div",{className:"main-content product-details",children:[(0,At.jsx)("div",{className:"order-details",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("div",{className:"product-container",children:[(0,At.jsx)(Kd,{imageData:(null===u||void 0===u||null===(e=u.sku_details)||void 0===e?void 0:e.image_data.image_data)||[],storeUuid:g,videoData:E,isWishlist:O,isFavorite:I,sui:r,color_id:x||"",size_id:_||"",systemName:F}),(0,At.jsxs)("div",{className:"order-content",children:[(0,At.jsxs)("h3",{className:"product-name",children:[u.sku_details.product_title," "]}),(0,At.jsx)("p",{className:"short-description",dangerouslySetInnerHTML:{__html:te}}),(0,At.jsxs)("div",{className:"price-details",children:[(0,At.jsx)("div",{className:"price-cont",children:W!==z?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("span",{className:"regular-price",children:[$,W]}),(0,At.jsxs)("span",{className:"sale-price",children:[$,z]}),(0,At.jsx)("span",{className:"discount-value",children:K?`${K}%`:""})]}):(0,At.jsxs)("span",{className:"sale-price",children:[$,z]})}),(0,At.jsx)(Ph,{isWishlist:O,isFavorite:I,videoData:E,storeUuid:g,itemId:r,color_id:x||"",size_id:_||"",systemName:F,imageData:(null===u||void 0===u||null===(n=u.sku_details)||void 0===n?void 0:n.image_data.image_data[0])||[],description:te,title:u.sku_details.product_title})]}),C.length>1?(0,At.jsxs)("div",{className:"color-variation",id:"color-variation",children:[(0,At.jsx)("h4",{children:"Color"}),(0,At.jsx)("select",{onChange:e=>{const t=C.find((t=>t.color_id===e.target.value));S(t)},value:x?x.color_id:"",className:"color-dropdown",children:C.map((e=>(0,At.jsx)("option",{value:e.color_id,children:e.name},e.color_id)))})]}):(0,At.jsxs)("div",{className:"color-variation",id:"color-variation-ul",children:[(0,At.jsx)("h4",{children:"Color -"}),(0,At.jsx)("ul",{className:"color-list",children:C.map((e=>(0,At.jsx)("li",{"data-color_id":e.color_id,children:(0,At.jsx)("a",{href:"#",className:x===e?"active":"",onClick:t=>{t.preventDefault(),(e=>{S(e)})(e)},children:e.name})},e.color_id)))})]}),A.length>1?(0,At.jsxs)("div",{className:"size-variation",id:"size-variation",children:[(0,At.jsxs)("h4",{children:["Size",0===re.length?(0,At.jsx)("div",{style:{display:"none"},children:"No size data available"}):(0,At.jsx)("a",{href:"#",id:"select-size",onClick:()=>{const e=document.getElementById("size-select"),t=document.getElementById("size-guide");e&&(e.style.display="none"===e.style.display?"block":"none"),t&&(t.style.display="none"===t.style.display?"block":"none"),Z((e=>!e))},style:{textDecoration:"none"},children:X?"\u2716\ufe0f":"Size Guide"})]}),(0,At.jsx)("select",{id:"size-selector",onChange:e=>{const t=e.target.value;console.log(t,"newSizeId");const n=A.find((e=>e.size_id===parseInt(t,10)));w(n)},value:_?_.size_id:"",className:"color-dropdown",children:A.map((e=>(0,At.jsx)("option",{value:e.size_id,children:e.name},e.size_id)))})]}):(0,At.jsxs)("div",{className:"color-variation",id:"color-variation-ul",children:[(0,At.jsx)("h4",{children:"Size -"}),(0,At.jsx)("ul",{className:"color-list",children:A.map((e=>(0,At.jsx)("li",{"data-size_id":e.size_id,children:(0,At.jsx)("a",{href:"#",className:_===e?"active":"",onClick:t=>{t.preventDefault(),(e=>{w(e)})(e)},children:e.name})},e.size_id)))})]}),(0,At.jsx)(Lu,{sizeguide:ne,sizeguideChart:re,sizeguideType:ie}),(0,At.jsx)("div",{className:"product-cta add-cart",children:(0,At.jsx)("button",{onClick:async()=>{var e,t;const n=localStorage.getItem("apiToken"),i=localStorage.getItem("currencyId"),s=localStorage.getItem("cart_id"),o=localStorage.getItem("order_num"),u=(localStorage.getItem("item_count"),{api_token:n,cart_id:s,color_id:(null===x||void 0===x||null===(e=x.color_id)||void 0===e?void 0:e.toString())||"",currency_id:(null===i||void 0===i?void 0:i.toString())||"",gift_list_id:"",gift_message:"",order_num:o,quantity:"1",receipient_uuid:"",size_id:(null===_||void 0===_||null===(t=_.size_id)||void 0===t?void 0:t.toString())||"",sui:r});try{const e=await yt.post("/cart/add_item_to_cart",u);if(401===e.data.cart_data.status)l(),c("/home");else if(200!==e.data.cart_data.status)throw new Error(`HTTP error! status: ${e.status}`);a(),c("/cart")}catch(h){console.error("Error adding item to cart:",h)}},className:"add-to-cart-button",children:"Add to shopping bag"})}),(0,At.jsx)("div",{className:"product-details-collapse product-option",children:(0,At.jsx)(Ru,{policies:ae,discription:u.sku_details.product_title,product_details:te})})]})]})})}),(0,At.jsx)("div",{className:"latest-arrivals",children:(0,At.jsx)("div",{className:"related-products",children:(0,At.jsx)(Pu,{storeUuid:g,sui:r})})})]})},Dh=e=>{let{bannerUrl:t,thumburldata:n,loading:r}=e;return(0,At.jsx)("div",{className:"store-banner",children:r?(0,At.jsx)(tn.A,{height:530}):(0,At.jsx)($c.A,{thumbnailSrc:n,fullImageSrc:t,alt:"store image",onError:e=>e.target.src="https://via.placeholder.com/150"})})},Oh=async(e,t,n)=>{const r=encodeURIComponent(n.trim()),i=encodeURIComponent(`Profile of ${t}`.trim());console.log(t,n);const a=localStorage.getItem("userRole")||"guest",s=(localStorage.getItem("userUuid"),localStorage.getItem("userCountryCode")||"US"),o="https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=AIzaSyBmAr5tphOF7t3V48143Htw0G535wOP5xM",l={dynamicLinkInfo:{link:`https://connect.seashels.com/api/v1.0/Link/profile?user_id=${encodeURIComponent(e.trim())}&type=${encodeURIComponent(a.trim())}&region=${encodeURIComponent(s.trim())}&mediaUrl=${r}&description=${i}`,domainUriPrefix:"https://discover.seashels.com",androidInfo:{androidPackageName:"com.seashels.discover",androidFallbackLink:"https://connect.seashels.com",androidMinPackageVersionCode:"1"},iosInfo:{iosBundleId:"com.seashels.discover",iosFallbackLink:"https://connect.seashels.com",iosAppStoreId:"6463077820",iosMinimumVersion:"1.0"},socialMetaTagInfo:{socialTitle:"Modestrend",socialDescription:decodeURIComponent(i)||"Profile of a store on Modestrend.",socialImageLink:n.trim()}},suffix:{option:"SHORT"}};try{console.log(`Request URL: ${o}`);const e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!e.ok){const t=await e.json();throw console.error("Error response:",t),new Error(`Error creating dynamic link: ${t.error.message}`)}const t=await e.json();return console.log("Generated Dynamic Link:",t.shortLink),t.shortLink}catch(c){console.error("Error creating dynamic link:",c)}},Mh=e=>{let{storeName:n,thumburldata:r,video_data:a,onProductClick:s,loading:o,follow_status:l,storeUuid:c,storeSellers:u,storeId:d}=e;const[h,f]=(0,t.useState)([]),{logout:p}=It(),m=(0,Bt.Zp)(),[g,v]=(0,t.useState)(l||!1);(0,t.useEffect)((()=>{if(!o){const e=u.filter((e=>1===e.is_internal));f(e)}}),[u,o]);return(0,At.jsx)("div",{className:"store-videos",children:(0,At.jsx)("div",{className:"container",children:o?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"store-sec-videos",children:[(0,At.jsx)(tn.A,{height:32,width:300,style:{marginBottom:"20px"}}),(0,At.jsx)("div",{className:"follow-share-sec",children:(0,At.jsx)(tn.A,{height:32,width:32,style:{marginRight:"10px",marginTop:"15px"}})})]}),(0,At.jsx)("ul",{children:Array.from({length:4}).map(((e,t)=>(0,At.jsx)("li",{children:(0,At.jsxs)("div",{className:"img-box",children:[(0,At.jsx)(tn.A,{height:360,style:{marginBottom:"10px"}}),(0,At.jsx)(tn.A,{height:20})]})},t)))})]}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"store-sec-videos",children:[(0,At.jsx)("h1",{children:n}),(0,At.jsx)("div",{className:"follow-share-sec",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),(async()=>{try{const e=localStorage.getItem("apiToken"),t=g?"/follow/unfollow_user":"/follow/follow_user",n={api_token:e,[g?"user_following_uuid":"following_uuid"]:c},r=await yt.post(t,n);if(200===r.status||201===r.status)200===r.data.status||"Already following"===r.data.message?v(!g):alert(`Action could not be completed: ${r.data.message}`);else{if(401!==r.status)throw new Error(`HTTP error! status: ${r.status}, message: ${r.data.message}`);p(),m("/home")}}catch(e){console.error("Error during follow/unfollow:",e)}})()},children:[(0,At.jsx)("img",{src:"/images/add.png",alt:g?"Unfollow":"Follow"}),g?"Unfollow":"Follow"]})}),(0,At.jsx)("li",{className:"share",children:(0,At.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),(async()=>{try{const e=await Oh(d,n,r);document.hasFocus()&&(await navigator.clipboard.writeText(e),Lh("Link copied to clipboard:"),console.log("Link copied to clipboard successfully")),navigator.share?(await navigator.share({title:"Seashels",text:"Profile of "+n,url:e}),console.log("Link shared successfully")):(console.log("Web Share API not supported, copying link..."),navigator.clipboard.writeText(e),alert("Link copied to clipboard: "+e))}catch(e){console.error("Error creating or sharing dynamic link:",e)}})()},children:(0,At.jsx)("img",{src:"/images/shop-share.svg",alt:"Share"})})})]})})]}),a&&a.length>0?(0,At.jsx)("ul",{children:a.map((e=>(0,At.jsxs)("li",{children:[(0,At.jsxs)("div",{className:"img-box",children:[(0,At.jsx)(i.N_,{to:"#",onClick:()=>s(e.streaming_url),children:(0,At.jsx)("img",{src:e.thumbnail||"https://via.placeholder.com/150",alt:e.name})}),(0,At.jsx)(i.N_,{className:"trigger",to:"#",onClick:()=>s(e.streaming_url)})]}),(0,At.jsx)("p",{children:e.description})]},e.category_id)))}):(0,At.jsx)("p",{children:"No videos available"})]})})})},Fh=e=>{let{data:n,onChange:r,selectedSizes:i,onSizeClearFilter:a}=e;const s=n.map((e=>({label:null===e||void 0===e?void 0:e.size_name,value:null===e||void 0===e?void 0:e.size_id}))),[o,l]=(0,t.useState)(i||[]),[c,u]=(0,t.useState)(!1);(0,t.useEffect)((()=>{l(i||[])}),[i]);return(0,At.jsxs)("div",{className:"filters__item--top js-dropdown dropdown dropdown--full",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,At.jsxs)("button",{className:"js-dropdown__trigger filters__item-title "+(c?"btn_open":""),"aria-haspopup":"dialog",role:"button","aria-expanded":c,children:["Size",(0,At.jsx)("span",{className:"h5 filters__count filters__count-size size_multi",children:o.length>0?`(${o.length})`:""}),(0,At.jsx)("span",{className:"icon icon--arrow-down icon--sm",children:(0,At.jsx)("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",role:"presentation",children:(0,At.jsx)("path",{d:"M8 10.5a.751.751 0 0 1-.55-.24L4.2 6.76A.75.75 0 1 1 5.3 5.74L8 8.648l2.7-2.908a.75.75 0 1 1 1.1 1.021l-3.25 3.5a.751.751 0 0 1-.55.24z"})})})]}),(0,At.jsxs)("div",{className:"filters__dropdown-menu js-dropdown__menu dropdown__menu "+(c?"open":""),role:"dialog",style:{visibility:c?"visible":"hidden",display:c?"block":"none",opacity:c?1:0},children:[(0,At.jsxs)("div",{className:"filters__listings filters__listings--cap-height",children:[(0,At.jsx)("div",{className:"h5 u-margin-t--none u-margin-l--sm",children:"Size"}),(0,At.jsx)("ul",{className:"ui-list ui-list--inline filters__size-list u-margin-l--sm",children:s.map((e=>(0,At.jsxs)("li",{className:""+(o.includes(e.value)?"active":""),children:[(0,At.jsx)("input",{className:"js-enterable u-screen-reader",id:`size-top-Size__${e.value}`,type:"checkbox",name:"size",value:e.value,checked:o.includes(e.value),onChange:()=>(e=>{const t=o||[];let n;n=t.includes(e)?t.filter((t=>t!==e)):[...t,e],l(n),r(n)})(e.value)}),(0,At.jsx)("label",{htmlFor:`size-top-Size__${e.value}`,className:"push-button u-margin-b--none",children:e.label})]},e.value)))})]}),(0,At.jsxs)("div",{className:"filters__actions",children:[(0,At.jsx)("button",{className:"js-dropdown-close btn btn--sm u-margin-l--sm",onClick:()=>u(!1),children:"Done"}),(0,At.jsx)("button",{className:"js-clear-filter",onClick:()=>{l([]),r([]),a()},children:(0,At.jsx)("span",{className:"u-margin-l--xl link",children:"Clear"})})]})]})]})};Fh.defaultProps={selectedSizes:[]};const Uh=Fh,$h=e=>{let{data:n,onChange:r,selectedColors:i,onColorClearFilter:a}=e;const s=n.map((e=>({label:null===e||void 0===e?void 0:e.color_name,value:null===e||void 0===e?void 0:e.color_id}))),[o,l]=(0,t.useState)(i),[c,u]=(0,t.useState)(!1);(0,t.useEffect)((()=>{l(i)}),[i]);return(0,At.jsxs)("div",{className:"filters__item--top js-dropdown dropdown dropdown--full",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,At.jsxs)("button",{className:"js-dropdown__trigger filters__item-title "+(c?"btn_open":""),"aria-haspopup":"dialog",role:"button","aria-expanded":c,children:["Color",(0,At.jsx)("span",{className:"h5 filters__count filters__count-size color_multi",children:o&&o.length>0?`(${o.length})`:""}),(0,At.jsx)("span",{className:"icon icon--arrow-down icon--sm",children:(0,At.jsx)("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",role:"presentation",children:(0,At.jsx)("path",{d:"M8 10.5a.751.751 0 0 1-.55-.24L4.2 6.76A.75.75 0 1 1 5.3 5.74L8 8.648l2.7-2.908a.75.75 0 1 1 1.1 1.021l-3.25 3.5a.751.751 0 0 1-.55.24z"})})})]}),(0,At.jsxs)("div",{className:"filters__dropdown-menu js-dropdown__menu dropdown__menu "+(c?"open":""),role:"dialog",style:{visibility:c?"visible":"hidden",display:c?"block":"none",opacity:c?1:0},children:[(0,At.jsxs)("div",{className:"filters__listings filters__listings--cap-height",children:[(0,At.jsx)("div",{className:"h5 u-margin-t--none u-margin-l--sm",children:"Color"}),(0,At.jsx)("ul",{className:"ui-list ui-list--inline filters__size-list u-margin-l--sm",children:s.map((e=>(0,At.jsxs)("li",{className:""+(o.includes(e.value)?"active":""),children:[(0,At.jsx)("input",{className:"js-enterable u-screen-reader",id:`color-top-Color__${e.value}`,type:"checkbox",name:"color",value:e.value,checked:o.includes(e.value),onChange:()=>(e=>{let t;t=o.includes(e)?o.filter((t=>t!==e)):[...o,e],l(t),r(t)})(e.value)}),(0,At.jsx)("label",{htmlFor:`color-top-Color__${e.value}`,className:"push-button u-margin-b--none",children:e.label})]},e.value)))})]}),(0,At.jsxs)("div",{className:"filters__actions",children:[(0,At.jsx)("button",{className:"js-dropdown-close btn btn--sm u-margin-l--sm",onClick:()=>u(!1),children:"Done"}),(0,At.jsx)("button",{className:"js-clear-filter",onClick:()=>{l([]),r([]),a()},children:(0,At.jsx)("span",{className:"u-margin-l--xl link",children:"Clear"})})]})]})]})},Bh=e=>{let{onClearFilters:t,setSelectedColors:n,setSelectedSizes:r,setSelectedPrice:i,setSelectedPriceRange:a,setSelectedSort:s}=e;return(0,At.jsx)("div",{className:"clear",children:(0,At.jsx)("button",{onClick:()=>{t(),n([]),r([]),i([]),a([]),s("")},className:"clear-button",id:"clearButton",children:(0,At.jsx)("span",{children:"CLEAR"})})})},Gh=e=>{let{data:n=[],onChange:r,selectedPriceValue:i,onPriceClearFilter:a}=e;const[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if("string"===typeof i&&"null"!==i){const[e,t]=i.split("-");o(e||""),c(t||"")}else o(""),c("")}),[i]);return(0,At.jsxs)("div",{className:"filters__item--top js-dropdown dropdown dropdown--full",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,At.jsxs)("button",{className:"js-dropdown__trigger filters__item-title "+(u?"btn_open":""),"aria-haspopup":"dialog",role:"button","aria-expanded":u,children:["Price",(0,At.jsx)("span",{className:"h5 filters__count filters__count-size price_multi",children:s||l?`(${s} - ${l})`:""}),(0,At.jsx)("span",{className:"icon icon--arrow-down icon--sm",children:(0,At.jsx)("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",role:"presentation",children:(0,At.jsx)("path",{d:"M8 10.5a.751.751 0 0 1-.55-.24L4.2 6.76A.75.75 0 1 1 5.3 5.74L8 8.648l2.7-2.908a.75.75 0 1 1 1.1 1.021l-3.25 3.5a.751.751 0 0 1-.55.24z"})})})]}),(0,At.jsxs)("div",{className:"filters__dropdown-menu js-dropdown__menu dropdown__menu "+(u?"open":""),role:"dialog",style:{visibility:u?"visible":"hidden",display:u?"block":"none",opacity:u?1:0},children:[(0,At.jsxs)("div",{className:"filters__listings filters__listings--cap-height",children:[(0,At.jsx)("div",{className:"h5 u-margin-t--none u-margin-l--sm",children:"Price"}),(0,At.jsxs)("div",{className:"price-inputs",children:[(0,At.jsx)("input",{type:"number",placeholder:"Min Price",value:s,onChange:e=>o(e.target.value)}),(0,At.jsx)("input",{type:"number",placeholder:"Max Price",value:l,onChange:e=>c(e.target.value)})]})]}),(0,At.jsxs)("div",{className:"filters__actions",children:[(0,At.jsx)("button",{className:"js-dropdown-close btn btn--sm u-margin-l--sm",onClick:()=>{r(s||l?`${s}-${l}`:null),d(!1)},children:"Done"}),(0,At.jsx)("button",{className:"js-clear-filter",onClick:()=>{o(""),c(""),r(null),a()},children:(0,At.jsx)("span",{className:"u-margin-l--xl link",children:"Clear"})})]})]})]})},Hh=e=>{let{sortOptions:n,sizeOptions:r,priceOptions:i,colorOptions:a,onSortChange:s,onSizeChange:o,onPriceChange:l,onColorChange:c,onClearFilters:u,onPriceClearFilter:d,onSizeClearFilter:h,onColorClearFilter:f,sortOption:p,showAdditionalFilters:m,loading:g}=e;const[v,y]=(0,t.useState)(p||""),[b,x]=(0,t.useState)([]),[S,_]=(0,t.useState)([]),[w,E]=(0,t.useState)([]),[T,C]=(0,t.useState)(null);return(0,At.jsxs)("div",{className:"tab-filter",children:[(0,At.jsxs)("div",{className:"filter-option",children:[(0,At.jsx)("h5",{children:"Sort By"}),g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)(ku,{onChange:e=>{y(e),s(e)},data:n,selectedValue:v}),m&&(0,At.jsxs)(At.Fragment,{children:[g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)(Gh,{selectedPriceValue:T,onChange:e=>{C(e),l(e)},onPriceClearFilter:d}),g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)(Uh,{onChange:e=>{x(e),o(e)},data:r,selectedSizes:b,onSizeClearFilter:h}),g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)($h,{onChange:e=>{E(e),c(e)},data:a,selectedColors:w,onColorClearFilter:f})]})]}),(0,At.jsx)("div",{className:"clear",children:g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)(Bh,{onClearFilters:u,setSelectedColors:E,setSelectedSizes:x,setSelectedPrice:_,setSelectedPriceRange:C,setSelectedSort:y})})]})},zh="https://via.placeholder.com/150",Yh=e=>{let{storeUuid:n,sortOption:r,sizeOption:a,priceOption:s,colorOption:o,segmentId:l,genderId:c,categoryList:u,productData:d,onClearFilters:h,loading:f}=e;const{logout:p}=It(),m=(0,Bt.Zp)(),[g,v]=(0,t.useState)("All"),[y,b]=(0,t.useState)(f||!0),{selectedCurrency:x}=Ft(),[S,_]=(0,t.useState)([]),[w,E]=(0,t.useState)(null),[T,C]=(0,t.useState)(0),[k,A]=(0,t.useState)(0),[j,N]=(0,t.useState)(!1),[L,R]=(0,t.useState)(1),[P,I]=(0,t.useState)(!1),D=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!n)return;e?N(!0):(b(!0),C(0),R(1));const t=localStorage.getItem("apiToken"),i=localStorage.getItem("currencyCode"),d={api_token:t,page:Math.floor(T/54),tag_type:"product",size_list:a,color_list:o,price_min:s?s.split("-")[0]:"",price_max:s?s.split("-")[1]:"",segment_id:l,gender_id:c,category_list:u,store_uuid:n,currency_code:i,per_page:54,sort_order:r},h=await yt.get("/filters/get_skus_for_filter",{params:d});if(200===h.status){const t=h.data,n=t.sui_data||t.sku_data||[],r=t.total_count;_((t=>e?[...t,...n]:n));const i=e?T+n.length:n.length;C(i),A(r),I(t.sui_data),e&&R((e=>e+1))}else{if(401!==h.status)throw new Error(`HTTP error! status: ${h.status}`);p(),m("/home")}}catch(w){E("Failed to fetch products")}finally{b(!1),N(!1)}};(0,t.useEffect)((()=>{var e;d?(_(d.sui_data||[]),A(d.total_count||0),C((null===(e=d.sui_data)||void 0===e?void 0:e.length)||0),b(!1)):D(!1)}),[n,r,a,s,o,l,c,u,d]);return y?(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("div",{className:"also-like latest",children:(0,At.jsx)("ul",{className:"skeleton-list",children:Array.from({length:12}).map(((e,t)=>(0,At.jsxs)("li",{children:[(0,At.jsx)(tn.A,{width:275,height:430}),(0,At.jsx)("h4",{children:(0,At.jsx)(tn.A,{width:200})}),(0,At.jsx)("div",{className:"price-value",children:(0,At.jsx)(tn.A,{width:100})})]},t)))})})})}):w?(0,At.jsx)("div",{className:"error",children:w}):(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("ul",{children:(0,At.jsx)("li",{className:"All"===g?"active":"",children:(0,At.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),h()},children:"All"})})}),(0,At.jsx)("div",{className:"also-like latest",children:S.length>0?(0,At.jsx)("ul",{children:S.map((e=>{const t=P?e.image_url:e.image_url_thumb,n=(P?e.SUI:e.sui,P?e.product_title:e.sku_title),r=e.display_final_price,a=e.display_total_price,s=(P?e.platform_discount:e.sku_discount,e.display_currency_symbol);return(0,At.jsxs)("li",{onClick:()=>{return t=e.SUI||e.sui,void m(`/product/${t}`);var t},children:[(0,At.jsxs)(i.N_,{to:"#",className:"img-box",onClick:e=>e.preventDefault(),children:[(0,At.jsx)($c.A,{thumbnailSrc:t||zh,fullImageSrc:t||zh,alt:n||"Product image",onError:e=>e.target.src=zh}),0===e.in_stock&&(0,At.jsx)("span",{className:"sold-out",children:"Sold Out"})]}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${e.SUI||e.sui}`,children:e.product_title||e.sku_title})}),(0,At.jsxs)("div",{className:"price-value",children:[a&&a!==r&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${s||"$"}${a}`}),(0,At.jsx)("span",{className:"final_price",children:`${s||"$"}${r}`}),(0,At.jsx)("span",{className:"discount",children:`${e.platform_discount||e.sku_discount}% off`})]}),(!a||a===r)&&(0,At.jsx)("span",{className:"final_price",children:`${s||"$"}${r}`})]})]})]},e.SUI||e.sui)}))}):!y&&(0,At.jsx)("div",{className:"no-products",children:"No products available"})}),(0,At.jsx)(Cu,{loadedItemCount:T,totalItems:k,onLoadMore:()=>{D(!0)},loadingMore:j})]})})},Wh="https://via.placeholder.com/150",Vh=e=>{let{storeUuid:n,loading:r,onClearFilters:a,sortOption:s}=e;const o=(0,Bt.Zp)(),{logout:l}=It(),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)("All"),[m,g]=(0,t.useState)(1),[v,y]=(0,t.useState)(0),[b,x]=(0,t.useState)(r),[S,_]=(0,t.useState)(!1),[w,E]=(0,t.useState)(!1),[T,C]=(0,t.useState)(0),k=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!n)return;e?E(!0):(x(!0),C(0),g(1));const t=localStorage.getItem("apiToken"),r=localStorage.getItem("currencyCode");let i;if(i=s?await yt.get("/filters/get_skus_for_filter",{params:{api_token:t,store_uuid:n,is_private:0,page:Math.floor(T/54),per_page:54,sort_order:s,currency_code:r}}):await yt.get("/sku/get_sku_list",{params:{api_token:t,store_uuid:n,is_private:0,currency_code:r,page:Math.floor(T/54),per_page:54,sort_order:s}}),200===i.status){const t=i.data,n=t.sui_data||t.sku_data||[],r=t.total_count;u((t=>e?[...t,...n]:n)),e||u(n);const a=e?T+n.length:n.length;C(a),y(r),console.log(`New loaded item count: ${a}`),_(t.sui_data),e&&g((e=>e+1))}else{if(401!==i.status)throw new Error(`HTTP error! status: ${i.status}`);l(),o("/home")}}catch(d){h(d.message)}finally{x(!1),E(!1)}};(0,t.useEffect)((()=>{k(!1)}),[n,s]);return b?(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("div",{className:"also-like latest",children:(0,At.jsx)("ul",{className:"skeleton-list",children:Array.from({length:12}).map(((e,t)=>(0,At.jsxs)("li",{children:[(0,At.jsx)(tn.A,{width:275,height:430}),(0,At.jsx)("h4",{children:(0,At.jsx)(tn.A,{width:200})}),(0,At.jsx)("div",{className:"price-value",children:(0,At.jsx)(tn.A,{width:100})})]},t)))})})})}):d?(0,At.jsxs)("div",{children:["Error: ",d]}):(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("ul",{children:(0,At.jsx)("li",{className:"All"===f?"active":"",children:(0,At.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),a()},children:"All"})})}),(0,At.jsx)("div",{className:"also-like latest",children:(0,At.jsx)("ul",{children:c.map((e=>{const t=S?e.image_url:e.image_url_thumb,n=S?e.SUI:e.sui,r=S?e.product_title:e.sku_title,a=e.display_final_price,s=e.display_total_price,l=S?e.platform_discount:e.sku_discount,c=e.display_currency_symbol;return(0,At.jsxs)("li",{onClick:()=>{return t=n||e.id,void o(`/product/${t}`);var t},children:[(0,At.jsxs)(i.N_,{to:"#",className:"img-box",onClick:e=>e.preventDefault(),children:[(0,At.jsx)($c.A,{thumbnailSrc:t||Wh,fullImageSrc:t||Wh,alt:r||"Product image",onError:e=>e.target.src=Wh}),0===e.in_stock&&(0,At.jsx)("span",{className:"sold-out",children:"Sold Out"})]}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${n}`,children:r})}),(0,At.jsxs)("div",{className:"price-value",children:[s&&s!==a&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${c||"$"}${s}`}),(0,At.jsx)("span",{className:"final_price",children:`${c||"$"}${a}`}),(0,At.jsx)("span",{className:"discount",children:`${l||"0"}% off`})]}),(!s||s===a)&&(0,At.jsx)("span",{className:"final_price",children:`${c||"$"}${a}`})]})]})]},n||e.id)}))})}),(0,At.jsx)(Cu,{loadedItemCount:T,totalItems:v,onLoadMore:()=>{k(!0)},loadingMore:w})]})})};var Kh=n(536),qh=n.n(Kh);const Xh=e=>{let{storeUuid:n,genderList:r,loading:i,onTabSelection:a}=e;const{logout:s}=It(),o=(0,Bt.Zp)(),[l,c]=(0,t.useState)("all"),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)({sizeOptions:[],priceOptions:[],colorOptions:[],sortOptions:[{value:"ASC",label:"Price Low To High"},{value:"DESC",label:"Price High To Low"}]}),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[x,S]=(0,t.useState)(""),[_,w]=(0,t.useState)(""),[E,T]=(0,t.useState)(""),[C,k]=(0,t.useState)(""),[A,j]=(0,t.useState)(""),[N,L]=(0,t.useState)(""),[R,P]=(0,t.useState)(null),[I,D]=(0,t.useState)(!1),[O,M]=(0,t.useState)(""),[F,U]=(0,t.useState)(null),$=(null===r||void 0===r?void 0:r.Women)&&r.Women.length>0,B=(null===r||void 0===r?void 0:r.Men)&&r.Men.length>0,G=(null===r||void 0===r?void 0:r.Unisex)&&r.Unisex.length>0;(0,t.useEffect)((()=>{$?f("tab1"):B?f("tab2"):G&&f("tab3")}),[$,B,G]);const H=e=>{f(e),d(!1),a(e)},z=(e,t,n,r)=>{U(r),M("item"),(async(e,t,n,r)=>{D(!0);try{const i=localStorage.getItem("apiToken"),a=localStorage.getItem("currencyCode"),l=await yt.get("/filters/get_skus_for_filter",{params:{api_token:i,page:0,store_uuid:e,segment_id:t,gender_id:n,category_list:r,currency_code:a,sort_order:"",size_list:"",color_list:"",price_min:"",price_max:"",sub_category_list:""}});if(200===l.status){P(l.data);const s=l.data.price_band,o=(await yt.get("/filters/get_colors_list",{params:{api_token:i,gender_id:n,segment_id:t,categories_list:r,store_uuid:e,price_min:"",price_max:"",sub_categories_list:""}})).data.colors_data,c=(await yt.get("/filters/get_sizes_list",{params:{api_token:i,gender_id:n,segment_id:t,categories_list:r,store_uuid:e,price_min:"",price_max:"",sub_categories_list:""}})).data.sizes_data;m({...p,sizeOptions:c,priceOptions:s,colorOptions:o}),d(!0),T(t),j(n),L(r),k(a)}else{if(401!==l.status)throw new Error(`HTTP error! status: ${l.status}`);s(),o("/home")}}catch(i){console.error("Error fetching data:",i)}finally{D(!1)}})(e,t,n,r)},Y=(0,t.useCallback)((()=>{M("filter"),(async()=>{D(!0);const e=y&&y.length>0?y.join(","):"",t=_&&_.length>0?_.join(","):"";try{const r=localStorage.getItem("apiToken"),i=localStorage.getItem("currencyCode"),a=await yt.get("/filters/get_skus_for_filter",{params:{api_token:r,store_uuid:n,segment_id:E,gender_id:A,category_list:N,sub_category_list:"",size_list:e,color_list:t,price_min:x.split("-")[0]||"",price_max:x.split("-")[1]||"",sort_order:g,page:0,currency_code:i}});if(200===a.status){P(a.data);const e=a.data.price_band,t=(await yt.get("/filters/get_colors_list",{params:{api_token:r,gender_id:A,segment_id:E,categories_list:N,store_uuid:n,price_min:x.split("-")[0]||"",price_max:x.split("-")[1]||"",sub_categories_list:""}})).data.colors_data,s=(await yt.get("/filters/get_sizes_list",{params:{api_token:r,gender_id:A,segment_id:E,categories_list:N,store_uuid:n,price_min:x.split("-")[0]||"",price_max:x.split("-")[1]||"",sub_categories_list:""}})).data.sizes_data;m({...p,sizeOptions:s,priceOptions:e,colorOptions:t}),d(!0),T(E),j(A),L(N),k(i)}else{if(401!==a.status)throw new Error(`HTTP error! status: ${a.status}`);s(),o("/home")}}catch(r){console.error("Error fetching filtered data:",r)}finally{D(!1)}})()}),[g,y,x,_]),W=(0,t.useCallback)(qh().debounce(Y,300),[g,y,x,_]);(0,t.useEffect)((()=>{E&&A&&N&&W()}),[g,y,x,_,W]);const V=()=>{console.log("handleClearFilters function"),b(""),v(""),S(""),w(""),d(!1),T(""),j(""),L(""),P(null)};return(0,At.jsx)("div",{className:"store-filter",children:(0,At.jsx)("div",{className:"container",children:i?(0,At.jsx)(At.Fragment,{children:(0,At.jsxs)("div",{className:"tabs",children:[(0,At.jsx)("ul",{id:"tabs-nav",children:(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{height:30,width:100})})}),(0,At.jsx)("div",{id:"tabs-content",children:(0,At.jsx)("div",{id:"tab1",className:"tab-content",children:(0,At.jsx)("ul",{className:"women-list",children:[...Array(5)].map(((e,t)=>(0,At.jsx)("li",{children:(0,At.jsxs)("a",{href:"#",className:"category-item",children:[(0,At.jsx)(tn.A,{height:75,width:50,style:{borderRadius:"50%"}})," ",(0,At.jsx)(tn.A,{height:20,width:100,style:{marginTop:"10px"}})," "]})},t)))})})})]})}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"tabs",children:[(0,At.jsxs)("ul",{id:"tabs-nav",children:[$&&(0,At.jsx)("li",{className:"tab1"===h?"active":"",children:(0,At.jsx)("a",{href:"#tab1",onClick:()=>H("tab1"),children:"Women"})}),B&&(0,At.jsx)("li",{className:"tab2"===h?"active":"",children:(0,At.jsx)("a",{href:"#tab2",onClick:()=>H("tab2"),children:"Men"})}),G&&(0,At.jsx)("li",{className:"tab3"===h?"active":"",children:(0,At.jsx)("a",{href:"#tab3",onClick:()=>H("tab3"),children:"Unisex"})})]}),(0,At.jsxs)("div",{id:"tabs-content",children:["tab1"===h&&$&&(0,At.jsx)("div",{id:"tab1",className:"tab-content",children:(0,At.jsx)("ul",{className:"women-list",children:r.Women.map((e=>(0,At.jsx)("li",{children:(0,At.jsxs)("a",{href:"#",onClick:t=>{t.preventDefault(),z(n,e.segment_id,e.gender_id,e.category_id)},className:"category-item "+(F===e.category_id?"active_category":""),children:[(0,At.jsx)("img",{src:e.image_url||"https://via.placeholder.com/150",alt:e.name}),(0,At.jsx)("span",{children:e.name})]})},e.category_id)))})}),"tab2"===h&&B&&(0,At.jsx)("div",{id:"tab2",className:"tab-content",children:(0,At.jsx)("ul",{className:"men-list",children:r.Men.map((e=>(0,At.jsx)("li",{children:(0,At.jsxs)("a",{href:"#",onClick:t=>{t.preventDefault(),z(n,e.segment_id,e.gender_id,e.category_id)},className:"category-item "+(F===e.category_id?"active_category":""),children:[(0,At.jsx)("img",{src:e.image_url||"https://via.placeholder.com/150",alt:e.name}),(0,At.jsx)("span",{children:e.name})]})},e.category_id)))})}),"tab3"===h&&G&&(0,At.jsx)("div",{id:"tab3",className:"tab-content",children:(0,At.jsx)("ul",{className:"unisex-list",children:r.Unisex.map((e=>(0,At.jsx)("li",{children:(0,At.jsxs)("a",{href:"#",onClick:t=>{t.preventDefault(),z(n,e.segment_id,e.gender_id,e.category_id)},className:"category-item "+(F===e.category_id?"active_category":""),children:[(0,At.jsx)("img",{src:e.image_url||"https://via.placeholder.com/150",alt:e.name}),(0,At.jsx)("span",{children:e.name})]})},e.category_id)))})})]})]}),(0,At.jsx)(Hh,{sortOptions:p.sortOptions,sizeOptions:p.sizeOptions,priceOptions:p.priceOptions,colorOptions:p.colorOptions,onSortChange:e=>{v(e)},onSizeChange:e=>{console.log(e,"handleSizeChange"),b(e)},onPriceChange:e=>{console.log(e,"price_selected"),S(e)},onColorChange:e=>{w(e)},onClearFilters:V,onPriceClearFilter:()=>{console.log("price clear filter handlePriceClearFilter"),S(""),d(!0)},onSizeClearFilter:()=>{console.log("Size clear filter handleSizeClearFilter"),b([]),d(!0)},onColorClearFilter:()=>{console.log("Color clear filter handleColorClearFilter"),w([]),d(!0)},sortOption:g,sizeOption:y,priceOption:x,colorOption:_,showAdditionalFilters:u}),R?(0,At.jsx)(Yh,{storeUuid:n,sortOption:g,sizeOption:y,priceOption:x,colorOption:_,segmentId:E,genderId:A,categoryList:N,productData:R,onClearFilters:V,loading:i}):(0,At.jsx)(Vh,{storeUuid:n,loading:i,onClearFilters:V,sortOption:g})]})})})},Zh=e=>{let{apiEndpoint:n="/store/get_store",pageTitle:r=""}=e;const[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)({sizeOptions:[],priceOptions:[],colorOptions:[]}),{tag_id:y,tag_type:b,store_uuid:x}=(0,Bt.g)(),S=(0,t.useCallback)((async()=>{try{m(!0);const e=localStorage.getItem("apiToken"),t=await yt.get(n,{params:{api_token:e,tag_id:y,tag_type:b,store_uuid:x}});if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);a(t.data),v({sizeOptions:t.data.size_options,priceOptions:t.data.price_options,colorOptions:t.data.color_options})}catch(h){f(h.message)}finally{m(!1)}}),[n,y,b,x]);(0,t.useEffect)((()=>{S()}),[S]),(0,t.useEffect)((()=>{i&&c("cd6d5d086e89433fa83af7dec61b5dbf"===x?"https://static.ticimax.cloud/cdn-cgi/image/width=1519,quality=99/62682/uploads/sayfatasarim/sayfa5/abiye-b84bd651-f.jpg":null===i||void 0===i?void 0:i.store_logo_web)}),[i,x]);const _=e=>({sizeOptions:[],priceOptions:[],colorOptions:[]});return h?(0,At.jsxs)("div",{children:["Error: ",h]}):(0,At.jsxs)("div",{className:"main-content not-home",children:[(0,At.jsx)(Dh,{bannerUrl:null===i||void 0===i?void 0:i.store_logo_web,thumburldata:null===i||void 0===i?void 0:i.store_logo_thumb_web,loading:p}),(0,At.jsx)(Mh,{storeName:null===i||void 0===i?void 0:i.store_name,thumburldata:null===i||void 0===i?void 0:i.store_logo_thumb_web,video_data:null===i||void 0===i?void 0:i.video_data,onProductClick:e=>{o(e),d(!0)},storeUuid:null===i||void 0===i?void 0:i.store_user_uuid,storeSellers:null===i||void 0===i?void 0:i.store_sellers,follow_status:null===i||void 0===i?void 0:i.is_following,storeId:x,loading:p}),(0,At.jsx)(Xh,{priceRange:null===i||void 0===i?void 0:i.price_range,genderList:null===i||void 0===i?void 0:i.gender_list,storeUuid:null===i||void 0===i?void 0:i.store_uuid,loading:p,onTabSelection:e=>{const{sizeOptions:t,priceOptions:n,colorOptions:r}=_(e);v({sizeOptions:t,priceOptions:n,colorOptions:r})}}),(0,At.jsx)(Uc,{isOpen:u,onClose:()=>d(!1),videoUrl:s})]})},Qh=120,Jh=e=>{let{apiEndpoint:n="/store/get_store_list",pageTitle:r="Popular Store"}=e;const{logout:a}=It(),{tag_id:s,tag_type:o}=(0,Bt.g)(),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(1),[y,b]=(0,t.useState)(0),[x,S]=(0,t.useState)(""),_="https://via.placeholder.com/150",w=(0,Bt.Zp)();(0,t.useEffect)((()=>{(async()=>{try{var e;m(!0);const t=localStorage.getItem("apiToken"),r=await yt.get(n,{params:{api_token:t,tag_type:o,tag_id:s}});if(200!==r.status)throw new Error(`HTTP error! status: ${r.status}`);401===r.data.status&&(a(),w("/login"));const i=(null===(e=r.data.store_list)||void 0===e?void 0:e.map((e=>({id:e.id,store_uuid:e.store_uuid,image:e.store_logo||_,alt:e.store_name,title:e.store_name}))))||[];c(i),d(i),b(Math.ceil(i.length/Qh))}catch(h){f(h.message)}finally{m(!1)}})()}),[n,s,o]),(0,t.useEffect)((()=>{const e=l.filter((e=>e.title.toLowerCase().includes(x.toLowerCase())));d(e),b(Math.ceil(e.length/Qh)),v(1)}),[x,l]);const E=g*Qh,T=E-Qh,C=u.slice(T,E);if(h)return(0,At.jsxs)("p",{children:["Error: ",h]});const k=y>1&&u.length>0;return(0,At.jsx)("div",{className:"main-content",children:(0,At.jsx)("div",{className:"wear-offer",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsxs)("div",{className:"store-list",children:[(0,At.jsxs)("div",{className:"heading",children:[(0,At.jsx)("h2",{children:r}),(0,At.jsxs)("div",{className:"store-search",children:[(0,At.jsx)("button",{type:"submit",className:"searchButton",children:(0,At.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,At.jsx)("path",{d:"M13.8321 13.0044L10.3502 9.52245C11.2991 8.36196 11.7656 6.88117 11.6533 5.38636C11.541 3.89155 10.8584 2.49709 9.7468 1.49142C8.63519 0.485748 7.17956 -0.0541959 5.681 -0.0167273C4.18245 0.0207412 2.75562 0.632756 1.69565 1.69272C0.635685 2.75269 0.0236709 4.17952 -0.0137977 5.67807C-0.0512662 7.17663 0.488678 8.63226 1.49435 9.74387C2.50002 10.8555 3.89448 11.538 5.38929 11.6504C6.8841 11.7627 8.36489 11.2961 9.52538 10.3473L13.0073 13.8292C13.1173 13.9355 13.2647 13.9943 13.4176 13.9929C13.5706 13.9916 13.7169 13.9302 13.825 13.8221C13.9332 13.7139 13.9945 13.5676 13.9959 13.4147C13.9972 13.2617 13.9384 13.1144 13.8321 13.0044ZM5.83638 10.5001C4.9134 10.5001 4.01115 10.2264 3.24372 9.71364C2.47629 9.20086 1.87815 8.47203 1.52494 7.61931C1.17173 6.76658 1.07932 5.82827 1.25938 4.92303C1.43945 4.01778 1.8839 3.18626 2.53655 2.53362C3.18919 1.88097 4.02071 1.43652 4.92596 1.25645C5.8312 1.07639 6.76951 1.1688 7.62224 1.52201C8.47496 1.87522 9.20379 2.47336 9.71657 3.24079C10.2294 4.00822 10.503 4.91047 10.503 5.83345C10.5017 7.0707 10.0095 8.25688 9.13468 9.13175C8.25981 10.0066 7.07363 10.4987 5.83638 10.5001Z",fill:"#001017"})})}),(0,At.jsx)("input",{type:"search",placeholder:"Search by store name",value:x,onChange:e=>S(e.target.value)}),(0,At.jsx)("img",{src:"/images/cross.png",className:"close",alt:"",onClick:e=>{e.preventDefault(),S("")}})]})]}),(0,At.jsx)("ul",{children:p?[...Array(60)].map(((e,t)=>(0,At.jsxs)("li",{children:[(0,At.jsx)(tn.A,{height:200,width:375}),(0,At.jsx)(tn.A,{width:180,height:30,style:{marginTop:10}})]},t))):C.length>0?C.map((e=>(0,At.jsxs)("li",{onClick:()=>{return t=e.store_uuid,void w(`/visit-store/${t}`);var t},children:[(0,At.jsx)(i.N_,{to:`/visit-store/${e.store_uuid}`,children:(0,At.jsx)("img",{src:e.image||_,alt:e.alt,onError:e=>e.target.src=_})}),(0,At.jsx)("div",{className:"brand",children:(0,At.jsx)("h4",{children:e.title})})]},e.id))):(0,At.jsx)("p",{children:"No stores found"})})]}),p?(0,At.jsx)("div",{className:"pagination-skeleton",children:(0,At.jsx)(tn.A,{height:40,width:200})}):k?(0,At.jsx)(wu,{totalPages:y,currentPage:g,onPageChange:e=>{v(e)}}):null]})})})},ef=()=>(0,At.jsx)("div",{className:"main-content not-home",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("div",{className:"delete-acc",children:[(0,At.jsx)("h2",{children:"Introduction"}),(0,At.jsxs)("p",{children:["Fractal Systems LLC, a company registered in Delaware with a registered office at 1209 Orange Street, Wilmington, DE 19801 operates the platform with brand name ",(0,At.jsx)("strong",{children:"Seashels"}),"(hereinafter referred as \u201c",(0,At.jsx)("strong",{children:"Seashels"}),"\u201d, \u201c",(0,At.jsx)("strong",{children:"We"}),"\u201d, \u201c",(0,At.jsx)("strong",{children:"Us"}),"\u201d or \u201c",(0,At.jsx)("strong",{children:"Our"}),"\u201d)."]}),(0,At.jsxs)("p",{children:["We respect Your privacy while you access \u2018",(0,At.jsx)("strong",{children:"Seashels\u2019 (\u201cApplication\u201d)"}),"/ www.seashels.com (\u201c",(0,At.jsx)("strong",{children:"Website"}),"\u201d) and other associated applications, devices, products, online marketplace and services managed by Seashels that reference to this Privacy Policy (collectively referred to as the \u201cPlatform\u201d). For the purposes of this privacy policy the term \u201cUser(s)\u201d and wherever the context so requires \u201cYou\u201d, \u201cYour\u201d, \u201cYourself\u201d shall mean any natural or legal person who accesses or uses the Platform and in the event that a natural person is representing a business entity, reference to such terms shall include a reference to such business entity as well"]}),(0,At.jsx)("p",{children:"We, at Seashels, aim to adhere to the ethical standards pertaining to collection, usage and safeguarding of the information provided by you during the use of the Application and/or the Website."}),(0,At.jsxs)("p",{children:["Seashels has adopted this privacy policy (\u201c",(0,At.jsx)("strong",{children:"Privacy Policy"}),"\u201d) to inform You of: (i) the information We collect from You through the Platform; (ii) the manner of collection and processing of such information; (iii) use of such information; and (iv) the steps We take to protect it. Capitalized terms not defined herein shall have the meaning ascribed to them in the Merchants\u2019 Agreement and the Buyers\u2019 Agreement. By using the Platform, you unconditionally agree to the terms and conditions of this Privacy Policy and consent to collecting, usage, storage, processing, handling, transferring and sharing of the information submitted by You in accordance with the terms contained hereunder. Please read the Privacy Policy before using the Platform and if You do not agree with the terms and conditions of this Privacy Policy, please do not proceed further to use this Platform."]}),(0,At.jsx)("h4",{children:"USER INFORMATION"}),(0,At.jsx)("p",{children:"The Platform collects certain information and data when you register via the Application or the Website. There are two types of information being collected: (i) User Provided Information; (ii) Automatically Collected Information during the usage of the Service."}),(0,At.jsx)("h3",{children:"User Provided Information and Access"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"Seashels collects Your Information when You successfully submit information while creating Your account and/or while confirming Your order on the Platform. While doing so, we may collect data that can be used to uniquely identify or contact a person and/or the business entity that a person represents and shall include, but not be limited to, information regarding Your name, name of the business entity that You represent, Your and/or Your customer\u2019s address and telephone number, Your and/or Your customer\u2019s e-mail address, information provided by You regarding Your social networking platform and such other information for the purposes of identification and verification. We may also ask you to share the OTP sent via SMS or a password or to verify a link sent on your e-mail address. While you are using our Platform, we record your responses and activity data, including but not limited to, textual and voice responses and session details. We do not directly process any payments and do not store your debit/credit card information. Secured socket layer technology is used for processing payment transactions with third party service provider partners. When You submit User Information on the Platform including any information of Your customers, it shall be deemed that You have granted Us the right to collect, store, process, handle and use such User Information, in accordance with this Privacy Policy (as amended from time to time) and You confirm you have adequate and legally appropriate consents from Your customers to share the same. To facilitate refunds in case of returns, you may also be asked to provide bank account information."}),(0,At.jsx)("li",{children:"While using the Platform, we may ask permission to access the microphone and the camera for providing better services and products. We may ask for permission to access your data storage. However, the data storage access shall be limited to the access to store the data downloaded or saved during the usage of the Platform or the products directly in the User\u2019s device for ensuring easy storage and access to the User. We shall not utilize this permission to access to any other data on the User\u2019s device, except as expressly mentioned in this Privacy Policy."}),(0,At.jsx)("li",{children:"We use a third party payment platform and payment aggregator services to bill you for products and services. We may use and share the User Information with reliable and reputed third-party payment gateway to whom we are associated in order to ensure swift and comfortable payment mechanism for the User. The third party service providers shall provide the Company the phone number of the User utilized while completing the payment transaction."}),(0,At.jsx)("li",{children:"After the User is directed to the payment mechanism and the payment gateway, the Company is not liable for any data stored, used or accessed by such a third party service provider and the User Information is no longer governed by this Policy or our Website\u2019s Terms of Service. The same shall be subject to the terms and conditions and privacy policy of the third party service provider. For these third party service providers, we recommend that you read their privacy policies in order to understand the manner in which your personal information and your credit/debit card details will be handled by these providers."}),(0,At.jsxs)("li",{children:["The said information collected from the Users could be categorized as \u201cPersonal Information\u201d, \u201cSensitive Personal Information\u201d or other information. The Sensitive Personal Information collected would be governed in accordance with the Information Technology (Reasonable security practices and procedures and sensitive personal data or information) Rules, 2011 (the \u201c",(0,At.jsx)("strong",{children:"IT Rules"}),"\u201d). The Personal Information, Sensitive Personal Information or other information shall collectively be referred to as \u201c",(0,At.jsx)("strong",{children:"User Information"}),"\u201d in this Policy."]}),(0,At.jsx)("li",{children:"We may use the User Information to contact you from time to time, to provide you with the services we offer through the Platform, important information and circulate marketing and promotional material in relation thereto through SMS, calls, and email. By using this Platform, you are also opting-in to receive such information and promotional content via WhatsApp. In case, you do not wish to receive any communications via WhatsApp, please give us a missed call on (+91) 74985 44409 to opt-out of this facility. We may ask you for more information for identification purposes, if required (personal information). The User shall be permitted to access the Website or Application via any device provided that the log in/access credentials match with the User credentials. In the event the User uses a new device to access or log-in to the Website or Application, the User shall be required to grant access for the new device, as may be required."}),(0,At.jsx)("li",{children:"You may visit the Platform and browse the Platform without having to provide User Information. We will, at all times, provide the option to you to not provide the Personal Information or Sensitive Personal Information, which we seek from you. Where possible, we indicate which fields are mandatory and which fields are optional to be filled on the Platform. You always have the option to not provide information by choosing not to submit particular information or feature on the Platform. In such event, however, the Company fully reserves the right not to allow further usage of the Platform or provide any services/products thereunder to you."}),(0,At.jsx)("li",{children:"By using this Platform, you consent to the collection, storage, use and transfer of the User Information (including personal information and sensitive personal data, including my payment details) that you provide in connection with any of the services that We offer through our Platform in accordance with this Policy and You consent to the collection of any changes or updates that you may provide to the User Information."}),(0,At.jsx)("li",{children:"Seashels collects only such User Information that Seashels believes to be relevant for the purpose of identification and verification and is required to understand You or Your interests. It is clarified that We shall not be liable, for any reason whatsoever, for the authenticity of any User Information provided by You to Us. You hereby confirm that the User Information provided by You is and shall continue to be valid, true and accurate to the best of Your knowledge."}),(0,At.jsx)("li",{children:"We may also ask you to provide information regarding your location, age, gender and contacts that shall include, but not limited to, their name and phone number. This information will not be sold to, or shared with, any unaffiliated third party."}),(0,At.jsx)("li",{children:"Any portion of the Information containing personal data relating to minors or a person of unsound mind provided by you shall be deemed to be given with the consent of the legal guardian. Such consent is deemed to be provided by your registration with us."})]}),(0,At.jsx)("h4",{children:"Automatically Collected Information"}),(0,At.jsx)("p",{children:"When you visit the Platform, we may collect certain information about or on your device such as your internet protocol address, operating system, browser type, and internet service provider. This type of information does not identify you personally during Your visit to the Platform. We can identify You only after You submit User Information at the time of registering Yourself with the Platform."}),(0,At.jsx)("h3",{children:"COLLECTION OF INFORMATION"}),(0,At.jsx)("p",{children:"The User Information collected by the Company will be deleted as per the Data Retention Guideline identified below, the Company may, at its option, not provide any services for which the User Information was sought and the User shall not claim deficiency of services on the basis of such non provision of goods and services."}),(0,At.jsx)("p",{children:"To enhance Your use of the Platform, certain information may be collected each time You visit the Platform which are saved in server logs. It is clarified that these statistics help Us in improving the efficiency of the Platform by giving Us information relating to Your use of the Platform. Such information may include details of the server from where the Platform is being accessed, the browser and operating system used to browse the Platform, details of Your last visit to the Platform, including time, date and the duration of Your session on the Platform. This information is used by Seashels to understand the number of users visiting the Platform and gather broad demographic information for aggregate use of the Platform. While collecting such information, Your anonymity shall be maintained at all times and at no time can We identify You personally, unless You submit the Information on the Platform or through the e-mail feature. Seashels reserves the right to share such general information to any person on its discretion."}),(0,At.jsx)("p",{children:"You acknowledge that apart from Your User Information, if You upload or exchange any data, content, information, pictorial representations and/or images including post any comments on the Platform (collectively referred to as the \u201cContent\u201d), such Content may contain information including User Information and the same may be available to the other Users of the Platform. Seashels will not be liable for the disclosure and dissemination of such User Information on the Platform."}),(0,At.jsx)("h3",{children:"COOKIES"}),(0,At.jsx)("p",{children:"Like most other Platforms, We use data collection devices known as cookies to collect and store information of Users visiting the Platform. A cookie is a small amount of data that is sent to a User\u2019s browser from a web server/mobile application and is eventually stored on a User\u2019s computer hard drive/mobile device. Cookies are a reliable mechanism for Platforms to remember the activities of the User on the Platform and helps in improving Your experience on the Platform. This anonymous information is maintained distinctly and is not linked to the User Information You submit to Seashels. The option of accepting cookies is up to You, however certain features of the Platform including Content and the forms may not be accessible without accepting cookies."}),(0,At.jsx)("p",{children:"To browse anonymously, You may set your browser to disable cookies or delete cookies. Most cookies are session cookies that are automatically deleted from Your hard drive when You close the browser. Additionally, You may encounter cookies or other similar devices on certain pages of the Platform that are placed by third parties. We do not control the use of cookies by third parties and shall not be liable for any reason whatsoever for these third party cookies."}),(0,At.jsx)("h3",{children:"USE OF THE USER INFORMATION"}),(0,At.jsx)("p",{children:"We collect the User Information provided by You for the reasons including but not limited to the following:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"verifying Your identity;"}),(0,At.jsx)("li",{children:"facilitating Your use of the Platform;"}),(0,At.jsx)("li",{children:"facilitating successful purchase of Products from the Platform;"}),(0,At.jsx)("li",{children:"responding to Your queries or complaints or to fulfil Your requests for information about the services and solutions that We offer and the process relating to the same;"}),(0,At.jsx)("li",{children:"providing You with information about Seashels and to send You information, materials, and offers from Seashels;"}),(0,At.jsx)("li",{children:"sending You important information regarding the Platform;"}),(0,At.jsx)("li",{children:"sending You surveys and marketing communications that Seashels believes may be of interest to You;"}),(0,At.jsx)("li",{children:"personalizing Your experience on the Platform by presenting offers tailored to You;"}),(0,At.jsx)("li",{children:"helping You address trouble- shooting problems;"}),(0,At.jsx)("li",{children:"providing You with related customer service;"}),(0,At.jsx)("li",{children:"conducting internal reviews and data analysis for the Platform (e.g., to determine the number of visitors to specific pages within the Platform);"}),(0,At.jsx)("li",{children:"sharing such information with third parties that We consider may have goods or services that are of interest to You;"}),(0,At.jsx)("li",{children:"improving the Content on the Platform and to improve our features and provide seamless service;"}),(0,At.jsx)("li",{children:"protecting the integrity of the Platform; and"}),(0,At.jsx)("li",{children:"To protect against imminent harm to the rights, property or safety of the Platform, the Company, its Users or the public as required or as may be permissible under the applicable law and/or to comply with applicable laws"})]}),(0,At.jsx)("h3",{children:"DISCLOSURE OF USER INFORMATION"}),(0,At.jsx)("p",{children:"The User Information may be disclosed to such third parties as may be required to:"}),(0,At.jsxs)("ul",{class:"alpha",children:[(0,At.jsx)("li",{children:"provide You with the services on the Platform, and may be subject to the practices of such third parties;"}),(0,At.jsx)("li",{children:"facilitate the purchase and delivery of the Products on the Platform by You;"}),(0,At.jsx)("li",{children:"grow Our business which may include any event of corporate sale, merger, reorganization, sale of assets whereby share such User Information with our affiliates, strategic partners, investors, suppliers, and service providers as the case maybe or ;"}),(0,At.jsx)("li",{children:"The User Information may be disclosed to Key shareholders, board, investors (debt or equity), legal or financial advisors. The User Information may be disclosed to the employees, contractors, vendors, partners or affiliated organizations on a need-to-know basis in order to undertake process on the behalf of the Company and/or to facilitate smooth functioning of our services, such as providing payment function, supply chain, network services, IT support, customer service etc.;"}),(0,At.jsx)("li",{children:"Any legal, governmental or regulatory authority if it is required to comply with any legal order or process, issued or commenced, in accordance with the applicable laws"})]}),(0,At.jsx)("p",{children:"We will share your User information with third parties only in the ways that are described in this Policy. We may use the individual data and behavior patterns combined with personal Information to provide you with personalized content, and better your learning objectives."}),(0,At.jsx)("p",{children:"The Company may provide and utilise the User Information and data collected to certain third parties for undertaking data analysis via third party analytical tools. The third party analytical tools are utilised in order to analyse the data and information to personalize, drive insights and thereby provide a better performance, improve the quality of features and provide seamless services to the User."}),(0,At.jsx)("ol",{children:(0,At.jsx)("li",{children:"You acknowledge that some of the recipients of your information may be located outside your country of residence. Where we transfer your information to such third parties, we will endeavour to ensure that your information remains secure from unauthorized disclosure or theft. To the extent required under data privacy laws of the applicable jurisdiction, we may transfer such information pursuant to consent or through applicable data protection agreements or other mechanisms permitted under such laws."})}),(0,At.jsx)("h3",{children:"SECURITY PRECAUTIONS"}),(0,At.jsx)("p",{children:"To prevent any form of unlawful interception or misuse of User Information, We use reasonable physical, electronic, and managerial procedures to safeguard and secure the User Information collected. We use reasonably secure and technologically appropriate measures, in compliance with the Information Technology Act, 2000 and the rules related thereto to protect You against loss or misuse of Your applicable User Information including internal reviews of data collection, storage and processing practices and other reasonable security measures which are equivalent to security measures that Seashels uses to protect its own confidential information. We have in place a secure server for all Your transactions on the Platform, which, if required to be accessed, are accessible only by the authorized personnel of Seashels. However as You are aware, no internet site/mobile based application is completely free of security risks and We do not make any representation in respect of the same."}),(0,At.jsx)("p",{children:"We do not warrant that Our Platform or any electronic communication made by Us is free from virus or other harmful effects. In the event of any errors in transmission or in the event of Our Platform being inaccessible due to an act of any third party or due to any outage, or any technical or technological failure, or similar reasons beyond our control, We shall not be held liable or responsible for any losses/ damages incurred by you, and you agree that you will not have any claims against us regarding the same. You explicitly agree that Your use of the Platform and/or services is at Your own individual risk. You agree and confirm that Your User Information may be collected, used, transferred, processed and stored in the manner stipulated in this Privacy Policy. You hereby confirm that You have been made aware of the security measures undertaken by Us and You expressly consent to Us collecting, storing, handling, processing and using Your User Information."}),(0,At.jsx)("h3",{children:"Links to other third party sites"}),(0,At.jsx)("p",{children:"The Platform may provide third party information and links to other platforms that are not affiliates of or operated or controlled by Seashels including but not limited to payment gateways or social networking platforms. Seashels is not responsible for any form of transmission, whatsoever, received by You from any third party platform and accordingly does not make any representations concerning the privacy practices or other policies of such third party Platforms. Under no circumstances shall Seashels be deemed to control or guarantee the accuracy, integrity, or quality of the information, data, text, software, sound, photographs, graphics, videos, cookies, messages or other materials available on such platforms. Any User Information provided by You to such third party Platforms shall be governed in accordance with the privacy policies of such platforms and it is recommended that You review the privacy policy of such platforms prior to using such platforms."}),(0,At.jsx)("h3",{children:"Data Retention Guideline"}),(0,At.jsx)("p",{children:"Company may retain device information for a period of up to 48 months, unless otherwise required by law or applicable contract."}),(0,At.jsx)("p",{children:"With respect to the account information, registration data and/or addresses provided for facilitating purchase of products, the same will be retained until your specific instructions to delete such data. You can place this request to delete your data by writing to us at privacy@seashels.com Company may retain transaction data and certain account information of Yours as may be required to comply with its legal obligations, resolve disputes (including billing) and enforce agreements."}),(0,At.jsx)("p",{children:"Company may retain the information it obtains about you as per the instructions of its customers or partners who provide such information or as required to fulfil our legal, compliance and contractual obligations"}),(0,At.jsx)("p",{children:"After the applicable retention period, Company may retain and use such data in an aggregated format, as necessary for internal analytical purposes, to comply with its legal obligations, resolve disputes (including billing) and enforce agreements."}),(0,At.jsx)("h3",{children:"Change in Privacy Policy"}),(0,At.jsx)("p",{children:"We reserve the right to update, modify and amend any of the terms of Our Privacy Policy, at any time without prior intimation to You. We will post these changes on Our Platform for Your information. These changes will become effective immediately on posting. We shall not be liable for any failure or negligence on Your part to review the updated Privacy Policy before accessing or availing the Platform for availing the services. Your continued use of the Platform, following changes to the Privacy Policy, will constitute Your acceptance of those changes."}),(0,At.jsx)("h3",{children:"Intellectual Property rights"}),(0,At.jsx)("p",{children:"Our Platform and all Content on Our Platform, including graphics, text, icons, interfaces, audio clips, logos, images, reviews, comments and software is the property of Seashels and/or its Content suppliers and is protected by Indian and international copyright laws. Any use, including the reproduction, modification, distribution, transmission, republication, display or performance, of the Content on this Platform can only be made with the express permission of Seashels. All other trademarks, brands and copyrights other than those belonging to Seashels, belong to their respective owners and are their property."}),(0,At.jsx)("h3",{children:"Force Majeure"}),(0,At.jsx)("p",{children:"Notwithstanding anything contained in this Privacy Policy or elsewhere, Seashels shall not be held responsible for any loss, damage or misuse of Your User Information, if such loss, damage or misuse is attributable to a Force Majeure Event. A \u201cForce Majeure Event\u201d shall mean any event that is beyond the reasonable control of Seashels and shall include, without limitation, sabotage, fire, flood, explosion, pandemic, acts of God, civil commotion, strikes or industrial action of any kind, riots, insurrection, war, acts of government, computer hacking, technical snags, outage, unauthorized access to computer data and storage device, technical snags and breach of security and encryption."}),(0,At.jsx)("h3",{children:"Disclosures Required By Law"}),(0,At.jsx)("p",{children:"Seashels reserves the right to disclose User Information when required by law. We will disclose such User Information wherein We have a good-faith belief that it is necessary to comply with a court order, ongoing judicial proceeding, or other legal process served on Us or to exercise Our legal rights or defend against legal claims."}),(0,At.jsx)("h3",{children:"Contacting the Platform"}),(0,At.jsxs)("p",{children:["If You have any questions, or grievances regarding (i) this Privacy Policy; (ii) practices of this Platform, or (iii) Your dealings with this Platform or believe that We have not adhered to it or or (iv) wish to unsubscribe from receiving communications via SMS, calls and email or (v) wish to exercise your rights, as granted under the applicable privacy laws, You can contact us at ",(0,At.jsx)("a",{href:"#",children:"crm@seashels.com."})]}),(0,At.jsx)("p",{children:"Alternatively, you can chat with us on the help desk chat option available in the Application."}),(0,At.jsx)("p",{children:"This Privacy Policy shall be read in conjunction with the Platform\u2019s Terms of Service and all the relevant provisions of the Platform\u2019s Terms of Service (including but not limited to indemnification, limitation of liability, governing law and dispute resolution) shall apply to this Privacy Policy and be deemed to be incorporated herein by reference."})]})})}),tf=()=>(0,At.jsx)("div",{class:"main-content not-home",children:(0,At.jsx)("div",{class:"container",children:(0,At.jsxs)("div",{class:"delete-acc",children:[(0,At.jsx)("h2",{children:"Terms of Services"}),(0,At.jsx)("p",{children:"THIS DOCUMENT IS AN ELECTRONIC RECORD IN TERMS OF THE INFORMATION TECHNOLOGY ACT, 2000 AND RULES MADE THEREUNDER. THIS ELECTRONIC RECORD IS GENERATED BY A COMPUTER SYSTEM AND DOES NOT REQUIRE ANY PHYSICAL OR DIGITAL SIGNATURES. BY USING THIS PLATFORM YOU INDICATE YOUR UNDERSTANDING AND ACCEPTANCE OF THESE TERMS. IF YOU DO NOT AGREE TO THESE TERMS YOU MAY NOT USE THIS PLATFORM."}),(0,At.jsx)("h3",{children:"DEFINITIONS :"}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cCompany\u201d"})," shall mean Fractal Systems LLC, a company registered in Delaware with a registered office at 1209 Orange Street, Wilmington, DE 19801."]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cPlatform\u201d"})," shall Seashels that provides a collection of online resources, including classified advertisements, forums, related sites including the mobile application of the platform;"]}),(0,At.jsxs)("p",{children:[" ",(0,At.jsx)("strong",{children:"\u201cProducts\u201d"})," shall mean the goods and services listed on the Platform by the Merchants for the purposes of marketing and selling such goods and services to Buyers;"]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"Seashels \u201d;\u201cUs\u201d;\u201cWe\u201d;\u201cOur\u201d"})," shall mean the Company;"]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cUsers\u201d, \u201cMerchants\u201d \u201cSellers\u201d \u201cYou\u201d or \u201cYour\u201d"}),"; shall mean any natural or legal person who has access to and is using the Platform for the purpose of marketing or selling their Products, including but not limited to such users who have not created a User Account and are accessing the Platform without such a User Account; and"]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cUser Account\u201d"})," shall be the account, which the Users shall be required to create with the Platform to avail the entire gamut of Services offered by it."]}),(0,At.jsx)("h3",{children:"INTRODUCTION :"}),(0,At.jsxs)("p",{children:["This Platform is operated by the Company under the brand Seashels . The Company offers this Platform, including all information, tools and services available from this Platform to You, the User, conditioned upon Your acceptance of all terms, conditions, policies and notices stated here. The User\u2019s use of the Platform and related tools and services thereof, including but not limited to viewing information, acting on such information and the transactions that may be implemented through the Platform, is governed by and shall be subject to these terms and conditions (\u201c",(0,At.jsx)("strong",{children:"Merchants\u2019 Agreement"}),"\u201d or \u201c",(0,At.jsx)("strong",{children:"Terms of Service"}),"\u201d or",(0,At.jsx)("strong",{children:"\u201cTerms\u201d"}),"), the terms whereof are subject to change at any time, without prior notice to You. Any new features or tools which are added to the current Platform shall also be subject to the Terms of Service. To ensure that You are aware of the changes, please review this Merchants\u2019 Agreement and all the documents referred to hereunder periodically."]}),(0,At.jsx)("p",{children:"If You continue to browse through this Platform, You are agreeing to be bound by the Terms which along with the Policy govern Your relationship with Us. You confirm that You have also read and have agreed and accepted to be bound by the terms and conditions incorporated in the terms of the Privacy Policy, which shall be deemed to be a part of this Merchants\u2019 Agreement."}),(0,At.jsx)("p",{children:"In the event You are representing an incorporated entity, You hereby confirm that You have been expressly authorized by such entity to consent this Merchants\u2019 Agreement, and such entity agrees to be bound by the terms hereunder."}),(0,At.jsxs)("p",{children:["This Merchants\u2019 Agreement sets forth the legally binding terms of Your use of the Platform and related services. By proceeding further, You confirm that You have read and have agreed and accepted to be bound by the terms and conditions mentioned herein and incorporated in any additional guidelines or rules applicable to particular services on the Platform",(0,At.jsx)("strong",{children:"(\u201cAdditional Documents\u201d)"}),", which shall be deemed to be a part of this Merchants\u2019 Agreement. In the event of any conflict between the terms of this Merchants\u2019 Agreement and any aforesaid Additional Documents, the Additional Documents shall prevail. If any of the terms of this Merchants\u2019 Agreement or of any of the Additional Documents are not acceptable to You, please do not use the Platform. Your continued usage of the Platform after any change constitutes Your acceptance of the amended Merchants\u2019 Agreement."]}),(0,At.jsx)("h3",{children:"SCOPE OF THE PLATFORM :"}),(0,At.jsxs)("p",{children:["The Platform is an e-portal/mobile based application for marketing, purchasing and selling of Products. By visiting our Platform and/ or listing some Product for marketing purposes, You engage in our \u201c",(0,At.jsx)("strong",{children:"Service"}),"\u201d and agree to be bound by the following terms and conditions (\u201c",(0,At.jsx)("strong",{children:"Terms of Service"}),"\u201d , \u201c",(0,At.jsx)("strong",{children:"Terms"}),"\u201d), including those additional terms and conditions and policies, as may be laid down under any Additional Documents as referenced herein and/or available by hyperlink. These Terms of Service apply to all Users of the Platform, including without limitation users who are browsers, vendors, customers, merchants, and/ or contributors of data, content, Information, pictorial representations and/or images (\u201c",(0,At.jsx)("strong",{children:"Content"}),"\u201d)."]}),(0,At.jsx)("h3",{children:"EXCLUSION OF LIABILITY :"}),(0,At.jsx)("p",{children:"You are aware and fully understand that Platform is only a platform for prospective buyers and sellers and that:"}),(0,At.jsxs)("ol",{children:[(0,At.jsxs)("li",{children:["The Merchant ",(0,At.jsx)("strong",{children:"shall alone have full legal and moral responsibility"})," and liability for all the Products listed and sold on the Platform. The Company shall bear no liability or responsibility either for the Products being shown in catalogue or for the actual goods or services provided to the Buyers by You and all such liability, including financial and legal, shall solely lie with You;"]}),(0,At.jsxs)("li",{children:["The Merchant ",(0,At.jsx)("strong",{children:"shall alone be responsible for procuring all licenses, permits"}),", passes etc. as required by applicable law for each of the Products listed or sold through the Platform by You. The responsibility lies solely with You for ensuring that the Products being listed or sold are permitted for advertising, listing and sale under applicable laws;"]}),(0,At.jsxs)("li",{children:["It is Merchant\u2019s responsibility to ",(0,At.jsx)("strong",{children:"not list or sell anything that is not permitted under applicable laws"})," at the said point in time. An indicative list is provided below under clause 7, but that list is not exhaustive. We have the right but not the obligation to remove any item that is listed for sale from the Platform;"]}),(0,At.jsxs)("li",{children:["Platform is ",(0,At.jsx)("strong",{children:"only facilitating payments on behalf of You"})," and accepts no liability associated with the listing or delivery of goods or services by You"]}),(0,At.jsxs)("li",{children:["The Merchant shall make every effort to ",(0,At.jsx)("strong",{children:"ensure that images of the Products exactly reflect the appearance of the Products in real life"})," and the store display as accurately as possible the colors and images of the Products; and"]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("strong",{children:"The Merchant shall bear full liability and responsibility for dealing with any returns or refunds"}),". The responsibility for communicating, managing and arranging for any refunds or returns lies entirely with You. The Company shall not be responsible for dealing with any returns or refunds."]})]}),(0,At.jsx)("h3",{children:"ONLINE STORE TERMS :"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"By agreeing to these Terms of Service, You represent that You are at least the age of majority in Your state or province of residence You and You have given Us, Your consent to allow any of Your minor dependents to use this Platform;"}),(0,At.jsx)("li",{children:"You may not, in the use of the Service, violate any laws in Your jurisdiction (including but not limited to copyright laws);"}),(0,At.jsx)("li",{children:"You must not transmit any worms or viruses or any code of a destructive nature;"}),(0,At.jsx)("li",{children:"That the Content submitted by You shall not be derogatory, offensive or misleading in any manner;"}),(0,At.jsx)("li",{children:"You are solely responsible for the Content that You upload, submit or send to or exchange on the Platform. We shall under no circumstances be responsible for any claims made by a third party in respect thereof;"}),(0,At.jsx)("li",{children:"Any fraudulent use of this Platform or applicable payment method to purchase the Products, which causes any monetary loss to the Company as a result of Your action/inaction shall be recovered from You. Without prejudice to the above, the Company reserves the right to initiate legal proceedings against You for the fraudulent use of this Platform or for any other unlawful act or omission in breach of this Merchants\u2019 Agreement."}),(0,At.jsx)("li",{children:"That images and pictorial representations on the Platform may be enhanced for advertising purposes;"}),(0,At.jsx)("li",{children:"That We will not be responsible for verifying any Content posted on the Platform;"}),(0,At.jsx)("li",{children:"That You also understand and acknowledge that the use of the Platform requires internet /mobile network connectivity. You shall bear the costs incurred to access and use the Platform and We shall not, under any circumstances whatsoever, be responsible or liable for such costs;"}),(0,At.jsx)("li",{children:"That You shall be solely responsible for all activities undertaken through Your User Account, whether or not You have authorized such activities or actions and shall, at all times, keep the Company indemnified in this regard;"}),(0,At.jsx)("li",{children:"That You shall be responsible for checking the Content, Product description and other related information; and"}),(0,At.jsx)("li",{children:"If You are registering as a business entity, You represent that You are duly authorized by the business entity to accept this Merchants\u2019 Agreement and You have the authority to bind that business entity to this Merchants\u2019 Agreement."})]}),(0,At.jsx)("p",{children:"A breach or violation of any of the Terms will result in an immediate termination of Services and may result in reporting to the law enforcement agencies."}),(0,At.jsx)("h3",{children:"GENERAL CONDITIONS :"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"We reserve the right to refuse Service to anyone (without assigning any reason) at any time."}),(0,At.jsx)("li",{children:"You understand that Your Content (not including credit card information), may be transferred unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices. Credit card information is always encrypted during transfer over networks."}),(0,At.jsx)("li",{children:"You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service or any contact on the Platform through which the Service is provided, without express written permission by Us."})]}),(0,At.jsx)("p",{children:"The headings used in this Merchants\u2019 Agreement are included for convenience only and will not limit or otherwise affect these Terms."}),(0,At.jsx)("h3",{children:"PROHIBITED USES :"}),"In furtherance to Clause 4 (iii) above, ",(0,At.jsx)("strong",{children:"You undertake and warrant that You"})," will not list the following Products on the Platform:",(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"Adult products and pornographic materials (including child pornography) in any form (print, audio/video, multimedia messages, images, photographs, etc.);"}),(0,At.jsx)("li",{children:"Alcohol;"}),(0,At.jsx)("li",{children:"Animals and wildlife products \u2013 examples include live animals, mounted specimens, and ivory;"}),(0,At.jsx)("li",{children:"Artifacts;"}),(0,At.jsx)("li",{children:"Counterfeit goods and services infringing the IP (as defined below);"}),(0,At.jsx)("li",{children:"Crude oil;"}),(0,At.jsx)("li",{children:"Electronic surveillance equipment prohibited by law;"}),(0,At.jsx)("li",{children:"Embargoed goods from prohibited countries;"}),(0,At.jsx)("li",{children:"Endangered species of animals and plants, whether alive or dead;"}),(0,At.jsx)("li",{children:"Event tickets which are exempted from resale by law;"}),(0,At.jsx)("li",{children:"Firearms, weapons, and knives \u2013 examples include pepper spray, replicas, and stun guns;"}),(0,At.jsx)("li",{children:"Any financial services;"}),(0,At.jsx)("li",{children:"Food and healthcare items without holding requisite permits;"}),(0,At.jsx)("li",{children:"Grey market products;"}),(0,At.jsx)("li",{children:"Government related items/ equipment (like wireless equipment with frequency used by the police, uniforms of Government officials including but not limited to the use by the police/ the Indian army, etc.)"}),(0,At.jsx)("li",{children:"Government issued documents like passports etc.;"}),(0,At.jsx)("li",{children:"Hazardous, restricted, or regulated materials \u2013 examples include batteries, fireworks, and refrigerants;"}),(0,At.jsx)("li",{children:"Human remains and body parts;"}),(0,At.jsx)("li",{children:"IP in any form (including but not limited to music, movies, books, designs) for which the Merchant do not hold the distribution rights;"}),(0,At.jsx)("li",{children:"Invoices and receipts (including blank and pre-filled);"}),(0,At.jsx)("li",{children:"Liquefied petroleum gas cylinder;"}),(0,At.jsx)("li",{children:"Lottery tickets;"}),(0,At.jsx)("li",{children:"Mailing lists and personal information;"}),(0,At.jsx)("li",{children:"Maps and literature where Indian external boundaries have been shown incorrectly;"}),(0,At.jsx)("li",{children:"Medicines, drugs and drug paraphernalia that require a registered medical practitioner\u2019s prescription;"}),(0,At.jsx)("li",{children:"Narcotic drugs and psychotropic substances as defined under the Narcotic Drugs and Psychotropic Substances Act, 1985;"}),(0,At.jsx)("li",{children:"Offensive material which is likely to offend the sentiments of people whether on the grounds of religion, race, caste, sex or place of birth, race, ethnicity, or culture;"}),(0,At.jsx)("li",{children:"Radioactive materials;"}),(0,At.jsx)("li",{children:"Reptile skins;"}),(0,At.jsx)("li",{children:"Sex determination Kit as under the Pre-Conception and Pre-Natal Diagnostic Techniques Act, 1994;"}),(0,At.jsx)("li",{children:"Stocks and securities;"}),(0,At.jsx)("li",{children:"Real estate;"}),(0,At.jsx)("li",{children:"Radioactive materials;"}),(0,At.jsx)("li",{children:"Stolen property;"}),(0,At.jsx)("li",{children:"Tobacco;"}),(0,At.jsx)("li",{children:"Any other sanctioned or prohibited items or services as per applicable laws; and"}),(0,At.jsx)("li",{children:"Any other item deemed unfit by Company."})]}),(0,At.jsx)("p",{children:"In addition to other prohibitions as set forth in the Terms of Service, You are prohibited from using the Platform or its Content:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"for any unlawful purpose;"}),(0,At.jsx)("li",{children:"to solicit others to perform or participate in any unlawful acts;"}),(0,At.jsx)("li",{children:"to violate any international, federal, provincial or state regulations, rules, laws, or any applicable ordinances;"}),(0,At.jsx)("li",{children:"to infringe upon or violate our intellectual property rights or the intellectual property rights of others;"}),(0,At.jsx)("li",{children:"to harass, abuse, insult, harm, defame, slander, disparage, intimidate, or discriminate based on gender, sexual orientation, religion, ethnicity, race, age, national origin, or disability;"}),(0,At.jsx)("li",{children:"to submit false or misleading information;"}),(0,At.jsx)("li",{children:"to upload or transmit viruses or any other type of malicious code that will or may be used in any way that will affect the functionality or operation of the Service or of any related Platform, other Platforms, or the internet;"}),(0,At.jsx)("li",{children:"to collect or track the personal information of others;"}),(0,At.jsx)("li",{children:"to spam, phish, pharm, pretext, spider, crawl, or scrape;"}),(0,At.jsx)("li",{children:"for any obscene or immoral purpose; or"}),(0,At.jsx)("li",{children:"to interfere with or circumvent the security features of the Service or any related Platform, other Platforms, or the internet. We reserve the right to terminate Your use of the Service or any related Platform for violating any of the prohibited uses."})]}),(0,At.jsx)("h3",{children:"TERMS OF USE:"}),(0,At.jsx)("p",{children:"You acknowledge that certain parts of this Platform are available only if You register on this Platform by following the registration process mentioned under this Merchants\u2019 Agreement."}),(0,At.jsx)("h3",{children:"ACCURACY, COMPLETENESS AND TIMELINESS OF INFORMATION:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"We are not responsible if information made available on the Platform is not accurate or not complete or not current. The material on the Platform is provided for general information only and should not be relied upon or used as the sole basis for making decisions without consulting primary and more accurate sources of information. Any reliance on the material on the Platform is at your own risk; and"}),(0,At.jsx)("li",{children:"We reserve the right to modify the contents of the Platform at any time, but We have no obligation to update any information on the Platform. You agree that it is Your responsibility to monitor changes to Our Platform."})]}),(0,At.jsx)("h3",{children:"MODIFICATIONS TO THE SERVICE AND PRICES:"}),(0,At.jsx)("p",{children:"We reserve the right at any time to modify or discontinue the Service (or any part or content thereof) without notice at any time. We shall not be liable to You or to any third-party for any modification, price change, suspension or discontinuance of the Service."}),(0,At.jsx)("h3",{children:"RIGHT TO ACCESS:"}),(0,At.jsx)("p",{children:"To order products you must be over 18 years of age and possess a valid credit method of payment. By placing an order, you are promising that all details you provide are true and accurate, that you are over 18 years of age, that you are authorized to use your selected method of payment to place your order and that there are sufficient funds in the relevant account to cover the cost of your order."}),(0,At.jsx)("h3",{children:"PRICE OF THE PRODUCTS:"}),(0,At.jsx)("p",{children:"The Merchant undertakes and warrants that at all times, the sale price of Product provided by the Merchant for listing and display on the Platform shall be:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"Inclusive of all taxes; and"}),(0,At.jsx)("li",{children:"the exact price at which the Product would be sold to the Buyer."})]}),(0,At.jsx)("p",{children:"We will in no way be responsible for assisting You in relation to any claims with respect to tax payable on the Products sold by You on the Platform."}),(0,At.jsx)("p",{children:"You agree to indemnify, defend and hold harmless the Company and our parent, subsidiaries, affiliates, form any loss arising out of or in relation to any : (i) claims with respect to taxes to be paid on the Products sold by You on the Platform; and/or (ii) with respect to any misrepresentation of the sale price of the Products listed by You on the Platform."}),(0,At.jsx)("h3",{children:"PRODUCTS :"}),(0,At.jsx)("p",{children:"We reserve the right, but not the obligation, to limit the sales of our Services to any person, geographic region or jurisdiction. We may exercise this right on a case-by-case basis. We reserve the right to limit the quantities of any Products that You offer. All descriptions of Products or Product pricing are subject to change at any time without notice, at our sole discretion. We reserve the right to discontinue any Product at any time. Any offer for any Product made on this Platform is void where prohibited."}),(0,At.jsx)("p",{children:"We do not warrant that the quality of any Products, information, or other material purchased or obtained by any Buyers from You will meet the Buyers\u2019 expectations, or that any errors in the Service will be corrected. You will be solely responsible for the same."}),(0,At.jsx)("h3",{children:"OPTIONAL TOOLS :"}),(0,At.jsx)("p",{children:"We may provide You with access to third-party tools which We neither monitor nor have any control over nor do We provide any input. You acknowledge and agree that we provide access to such tools on an \u201cas is basis\u201d and \u201cas available\u201d without any warranties, representations or conditions of any kind and without any endorsement. We shall have no liability whatsoever arising from or relating to your use of optional third-party tools."}),(0,At.jsx)("p",{children:"Any use by You of optional tools offered through the Platform is entirely at Your own risk and discretion and You should ensure that You are familiar with and approve of the terms on which tools are provided by the relevant third-party provider(s)."}),(0,At.jsx)("p",{children:"We may also, in the future, offer new services and/or features through the Platform (including, the release of new tools and resources). Such new features and/or services shall also be subject to these Terms of Service."}),(0,At.jsx)("h3",{children:"THIRD-PARTY LINKS :"}),(0,At.jsx)("p",{children:"Certain content, products and services available via our Service may include materials from third-parties."}),(0,At.jsx)("p",{children:"Third-party links on this Platform may direct You to third-party Platforms that are not affiliated with Us. We are not responsible for examining or evaluating the content or accuracy and We do not warrant and will not have any liability or responsibility for any third-party materials or Platforms, or for any other materials, products, or services of third-parties."}),(0,At.jsx)("p",{children:"We are not liable for any harm or damages related to the purchase or use of goods, services, resources, Content, or any other transactions made in connection with any third-party Platforms. Please review carefully the third-party\u2019s policies and practices and make sure You understand them before You engage in any transaction. Complaints, claims, concerns, or questions regarding third-party products should be directed to the third-party."}),(0,At.jsx)("h3",{children:"USER COMMENTS, FEEDBACK AND OTHER SUBMISSIONS :"}),(0,At.jsx)("p",{children:"If, at Our request, You send certain specific submissions (for example contest entries) or without a request from Us, You send creative ideas, suggestions, proposals, plans, or other materials, whether online, by email, by postal mail, or otherwise (collectively, \u201cComments\u201d), You agree that We may, at any time, without restriction, edit, copy, publish, distribute, translate and otherwise use in any medium any comments that You forward to Us."}),(0,At.jsx)("p",{children:"We are and shall be under no obligation to:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"maintain any Comments in confidence;"}),(0,At.jsx)("li",{children:"pay compensation for any Comments; or"}),(0,At.jsx)("li",{children:"respond to any Comments."})]}),(0,At.jsx)("p",{children:"We may, but have no obligation to, monitor, edit or remove Content that we determine in our sole discretion are unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party\u2019s intellectual property or these Terms of Service."}),(0,At.jsx)("p",{children:"You agree that your Comments will not violate any right of any third-party, including copyright, trademark, privacy, personality or other personal or proprietary right. You further agree that Your Comments will not contain libelous or otherwise unlawful, abusive or obscene material, or contain any computer virus or other malware that could in any way affect the operation of the Service or any related Platform. You may not use a false e-mail address, pretend to be someone other than Yourself, or otherwise mislead us or third-parties as to the origin of any Comments. You are solely responsible for any Comments You make and their accuracy. We take no responsibility and assume no liability for any Comments posted by You or any third-party."}),(0,At.jsx)("h3",{children:"PERSONAL INFORMATION :"}),(0,At.jsx)("p",{children:"Your submission of personal information is governed by Our Privacy Policy."}),(0,At.jsx)("h3",{children:"ERRORS, INACCURACIES AND COMISSIONS:"}),(0,At.jsx)("p",{children:"Occasionally there may be information on the Platform or in the Service that contains typographical errors, inaccuracies or omissions that may relate to product descriptions, pricing, promotions, offers, product shipping charges, transit times and availability. We reserve the right to correct any errors, inaccuracies or omissions, and to change or update information or cancel orders if any information in the Service or on any related Platform is inaccurate at any time without prior notice We undertake no obligation to update, amend or clarify information in the Service or on any related Platform, including without limitation, pricing information, except as required by law. No specified update or refresh date applied in the Service or on any related Platform, should be taken to indicate that all information in the Service or on any related Platform has been modified or updated."}),(0,At.jsx)("h3",{children:"DISCLAIMER OF WARRANTIES; LIMITATION OF LIABILITY:"}),(0,At.jsx)("p",{children:"We do not guarantee, represent or warrant that your use of our Service will be uninterrupted, timely, secure or error-free. We do not warrant that the results that may be obtained from the use of the service will be accurate or reliable."}),(0,At.jsx)("p",{children:"You agree that from time to time we may remove the Service for indefinite periods of time or cancel the Service at any time, without notice to You."}),(0,At.jsx)("p",{children:"You expressly agree that Your use of, or inability to use, the service is at Your sole risk. We are not responsible for ensuring that the sale price and other consideration to be received from the Buyer (\u201cSale Price\u201d) for sale of Products listed on the Platform to the Buyers. Any Service provided to you by Us is without any representation, warranties or conditions of any kind, either express or implied, including all implied warranties or conditions of due receipt of Sale Price and non-infringement."}),(0,At.jsx)("p",{children:"In no case shall the Company, Our directors, officers, employees, affiliates, agents, contractors, interns, suppliers, service providers or licensors be liable for any injury, loss, claim, or any direct, indirect, incidental, punitive, special, or consequential damages of any kind, including, without limitation lost profits, lost revenue, lost savings, loss of data, replacement costs, or any similar damages, whether based in contract, tort (including negligence), strict liability or otherwise, arising from Your use of any of the Service, or for any other claim related in any way to Your use of the Service, including, but not limited to, any errors or omissions in any content, or any loss or damage of any kind incurred as a result of the use of the Service or any Content (or product) posted, transmitted, or otherwise made available via the Service, even if advised of their possibility. In states or jurisdictions that do not allow the exclusion or the limitation of liability for consequential or incidental damages, in such states or jurisdictions, our liability shall be limited to the maximum extent permitted by law."}),(0,At.jsx)("h3",{children:"COPYRIGHT AND TRADEMARK:"}),(0,At.jsx)("p",{children:"Each time You upload the Content, You grant the Company a worldwide non-exclusive, transferable, royalty free license to use any such content including by way of distribution, storage, hosting, sub-license, reproduction, communication, creation of derivative works, and modification of such content. You accept that such license will not terminate upon Your deletion or removal of the Content or other uploaded content in respect of which it is granted; and shall continue to be used by the Company, on the Platform."}),(0,At.jsx)("p",{children:(0,At.jsx)("strong",{children:"You agree and confirm that:"})}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"All copyright, database right and all other proprietary rights, title and interest in all Content and or information presented on this Platform (\u201cIP\u201d) is owned by and/or licensed to Us or owned by and/or licensed to the manufacturer of the Products and/or Services or is owned by and/or licensed to the person uploading such Content and is or may be protected or covered by copyright, trade mark, intellectual property law and/or other proprietary rights, unless expressly stated otherwise."}),(0,At.jsx)("li",{children:"No extracts of this Platform or part thereof shall be displayed, printed or downloaded by You or with Your assistance, for any reason, including without limitation to commercialize any IP in any way."}),(0,At.jsx)("li",{children:"Your use of this Platform does not confer on You or any other party, any license or other rights under the intellectual property or other proprietary rights of the Company, the manufacturer of the Products and/ or Services and/or of any third party, whether implied or otherwise."}),(0,At.jsx)("li",{children:"The Company shall not be held liable for any claims relating to infringement of any intellectual property rights in relation to the Products and/or Services their content and/or Content."})]}),(0,At.jsx)("h3",{children:"INDEMNIFICATION :"}),(0,At.jsx)("p",{children:"You agree to indemnify, defend and hold harmless the Company and our parent, subsidiaries, affiliates, partners, officers, directors, agents, contractors, licensors, service providers, subcontractors, suppliers, interns and employees, harmless from any claim or demand, including reasonable attorneys\u2019 fees, made by any third-party due to or arising out of Your breach of these Terms of Service or the documents they incorporate by reference, or Your violation of any law or the rights of a third-party."}),(0,At.jsx)("h3",{children:"SEVERABILITY :"}),(0,At.jsx)("p",{children:"In the event that any provision of these Terms of Service is determined to be unlawful, void or unenforceable, such provision shall nonetheless be enforceable to the fullest extent permitted by applicable law, and the unenforceable portion shall be deemed to be severed from these Terms of Service, such determination shall not affect the validity and enforceability of any other remaining provisions."}),(0,At.jsx)("h3",{children:"TERMINATION :"}),(0,At.jsx)("p",{children:"These Terms of Service are effective unless and until terminated by either You or Us. If in our sole judgment You fail, or we suspect that You have failed, to comply with any term or provision of these Terms of Service, we also may terminate this Merchants\u2019 Agreement at any time without notice and You will remain liable for all amounts due up to and including the date of termination; and/or accordingly may deny You access to our Services (or any part thereof)."}),(0,At.jsx)("h3",{children:"ENTIRE AGREEMENT :"}),(0,At.jsx)("p",{children:"Our failure to exercise or enforce any right or provision of these Terms of Service shall not constitute a waiver of such right or provision."}),(0,At.jsx)("p",{children:"These Terms of Service and any policies or operating rules posted by Us on this Platform or in respect to The Service constitutes the entire agreement and understanding between You and Us and govern Your use of the Service, superseding any prior or contemporaneous agreements, communications and proposals, whether oral or written, between You and Us (including, but not limited to, any prior versions of the Terms of Service)."}),(0,At.jsx)("p",{children:"Any ambiguities in the interpretation of these Terms of Service shall not be construed against the drafting party."}),(0,At.jsx)("h3",{children:"GOVERNING LAW :"}),(0,At.jsx)("p",{children:"These Terms of Service and any separate agreements whereby we provide You Services shall be governed by and construed in accordance with the laws of Delaware."}),(0,At.jsx)("h3",{children:"FORCE MAJEURE :"}),(0,At.jsx)("p",{children:"We shall not be held liable for any of Our obligations under the Merchants\u2019 Agreement due to reasons beyond our control such as down time of servers, viruses, strikes, technical snags, system compatibility, natural calamities, acts of war, terror etc. You agree not to hold Us liable for any delay or adverse effect caused due to the occurrence of such an event."}),(0,At.jsx)("h3",{children:"CHANGES TO TERMS OF SERVICE :"}),(0,At.jsx)("p",{children:"You can review the most current version of the Terms of Service at any time at this page. We reserve the right, at our sole discretion, to update, change or replace any part of these Terms of Service by posting updates and changes to our Platform. It is Your responsibility to check our Platform periodically for changes. Your continued use of or access to our Platform or the Service following the posting of any changes to these Terms of Service constitutes acceptance of those changes."}),(0,At.jsx)("h3",{children:"CONTACT INFORMATION :"}),(0,At.jsxs)("p",{children:["For any queries about Terms of Service, you can call us at 917-310-1171 or email with us on ",(0,At.jsx)("a",{href:"mailto:crm@seashels.com",children:"crm@seashels.com"})]})]})})}),nf=()=>(0,At.jsx)("div",{class:"main-content not-home",children:(0,At.jsx)("div",{class:"container",children:(0,At.jsxs)("div",{class:"delete-acc",children:[(0,At.jsx)("h2",{children:"Terms of Services"}),(0,At.jsx)("p",{children:"THIS DOCUMENT IS AN ELECTRONIC RECORD IN TERMS OF THE INFORMATION TECHNOLOGY ACT, 2000 AND RULES MADE THEREUNDER. THIS ELECTRONIC RECORD IS GENERATED BY A COMPUTER SYSTEM AND DOES NOT REQUIRE ANY PHYSICAL OR DIGITAL SIGNATURES. BY USING THIS PLATFORM YOU INDICATE YOUR UNDERSTANDING AND ACCEPTANCE OF THESE TERMS. IF YOU DO NOT AGREE TO THESE TERMS YOU MAY NOT USE THIS PLATFORM."}),(0,At.jsx)("h3",{children:"DEFINITIONS :"}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cCompany\u201d"})," shall mean Fractal Systems LLC, a company registered in Delaware with a registered office at 1209 Orange Street, Wilmington, DE 19801."]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cPlatform\u201d"})," shall Seashels that provides a collection of online resources, including classified advertisements, forums, related sites including the mobile application of the platform;"]}),(0,At.jsxs)("p",{children:[" ",(0,At.jsx)("strong",{children:"\u201cProducts\u201d"})," shall mean the goods and services listed on the Platform by the Merchants for the purposes of marketing and selling such goods and services to Buyers;"]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"Seashels \u201d;\u201cUs\u201d;\u201cWe\u201d;\u201cOur\u201d"})," shall mean the Company;"]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cUsers\u201d, \u201cMerchants\u201d \u201cSellers\u201d \u201cYou\u201d or \u201cYour\u201d"}),"; shall mean any natural or legal person who has access to and is using the Platform for the purpose of marketing or selling their Products, including but not limited to such users who have not created a User Account and are accessing the Platform without such a User Account; and"]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("strong",{children:"\u201cUser Account\u201d"})," shall be the account, which the Users shall be required to create with the Platform to avail the entire gamut of Services offered by it."]}),(0,At.jsx)("h3",{children:"INTRODUCTION :"}),(0,At.jsxs)("p",{children:["This Platform is operated by the Company under the brand Seashels . The Company offers this Platform, including all information, tools and services available from this Platform to You, the User, conditioned upon Your acceptance of all terms, conditions, policies and notices stated here. The User\u2019s use of the Platform and related tools and services thereof, including but not limited to viewing information, acting on such information and the transactions that may be implemented through the Platform, is governed by and shall be subject to these terms and conditions (\u201c",(0,At.jsx)("strong",{children:"Merchants\u2019 Agreement"}),"\u201d or \u201c",(0,At.jsx)("strong",{children:"Terms of Service"}),"\u201d or",(0,At.jsx)("strong",{children:"\u201cTerms\u201d"}),"), the terms whereof are subject to change at any time, without prior notice to You. Any new features or tools which are added to the current Platform shall also be subject to the Terms of Service. To ensure that You are aware of the changes, please review this Merchants\u2019 Agreement and all the documents referred to hereunder periodically."]}),(0,At.jsx)("p",{children:"If You continue to browse through this Platform, You are agreeing to be bound by the Terms which along with the Policy govern Your relationship with Us. You confirm that You have also read and have agreed and accepted to be bound by the terms and conditions incorporated in the terms of the Privacy Policy, which shall be deemed to be a part of this Merchants\u2019 Agreement."}),(0,At.jsx)("p",{children:"In the event You are representing an incorporated entity, You hereby confirm that You have been expressly authorized by such entity to consent this Merchants\u2019 Agreement, and such entity agrees to be bound by the terms hereunder."}),(0,At.jsxs)("p",{children:["This Merchants\u2019 Agreement sets forth the legally binding terms of Your use of the Platform and related services. By proceeding further, You confirm that You have read and have agreed and accepted to be bound by the terms and conditions mentioned herein and incorporated in any additional guidelines or rules applicable to particular services on the Platform",(0,At.jsx)("strong",{children:"(\u201cAdditional Documents\u201d)"}),", which shall be deemed to be a part of this Merchants\u2019 Agreement. In the event of any conflict between the terms of this Merchants\u2019 Agreement and any aforesaid Additional Documents, the Additional Documents shall prevail. If any of the terms of this Merchants\u2019 Agreement or of any of the Additional Documents are not acceptable to You, please do not use the Platform. Your continued usage of the Platform after any change constitutes Your acceptance of the amended Merchants\u2019 Agreement."]}),(0,At.jsx)("h3",{children:"SCOPE OF THE PLATFORM :"}),(0,At.jsxs)("p",{children:["The Platform is an e-portal/mobile based application for marketing, purchasing and selling of Products. By visiting our Platform and/ or listing some Product for marketing purposes, You engage in our \u201c",(0,At.jsx)("strong",{children:"Service"}),"\u201d and agree to be bound by the following terms and conditions (\u201c",(0,At.jsx)("strong",{children:"Terms of Service"}),"\u201d , \u201c",(0,At.jsx)("strong",{children:"Terms"}),"\u201d), including those additional terms and conditions and policies, as may be laid down under any Additional Documents as referenced herein and/or available by hyperlink. These Terms of Service apply to all Users of the Platform, including without limitation users who are browsers, vendors, customers, merchants, and/ or contributors of data, content, Information, pictorial representations and/or images (\u201c",(0,At.jsx)("strong",{children:"Content"}),"\u201d)."]}),(0,At.jsx)("h3",{children:"EXCLUSION OF LIABILITY :"}),(0,At.jsx)("p",{children:"You are aware and fully understand that Platform is only a platform for prospective buyers and sellers and that:"}),(0,At.jsxs)("ol",{children:[(0,At.jsxs)("li",{children:["The Merchant ",(0,At.jsx)("strong",{children:"shall alone have full legal and moral responsibility"})," and liability for all the Products listed and sold on the Platform. The Company shall bear no liability or responsibility either for the Products being shown in catalogue or for the actual goods or services provided to the Buyers by You and all such liability, including financial and legal, shall solely lie with You;"]}),(0,At.jsxs)("li",{children:["The Merchant ",(0,At.jsx)("strong",{children:"shall alone be responsible for procuring all licenses, permits"}),", passes etc. as required by applicable law for each of the Products listed or sold through the Platform by You. The responsibility lies solely with You for ensuring that the Products being listed or sold are permitted for advertising, listing and sale under applicable laws;"]}),(0,At.jsxs)("li",{children:["It is Merchant\u2019s responsibility to ",(0,At.jsx)("strong",{children:"not list or sell anything that is not permitted under applicable laws"})," at the said point in time. An indicative list is provided below under clause 7, but that list is not exhaustive. We have the right but not the obligation to remove any item that is listed for sale from the Platform;"]}),(0,At.jsxs)("li",{children:["Platform is ",(0,At.jsx)("strong",{children:"only facilitating payments on behalf of You"})," and accepts no liability associated with the listing or delivery of goods or services by You"]}),(0,At.jsxs)("li",{children:["The Merchant shall make every effort to ",(0,At.jsx)("strong",{children:"ensure that images of the Products exactly reflect the appearance of the Products in real life"})," and the store display as accurately as possible the colors and images of the Products; and"]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("strong",{children:"The Merchant shall bear full liability and responsibility for dealing with any returns or refunds"}),". The responsibility for communicating, managing and arranging for any refunds or returns lies entirely with You. The Company shall not be responsible for dealing with any returns or refunds."]})]}),(0,At.jsx)("h3",{children:"ONLINE STORE TERMS :"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"By agreeing to these Terms of Service, You represent that You are at least the age of majority in Your state or province of residence You and You have given Us, Your consent to allow any of Your minor dependents to use this Platform;"}),(0,At.jsx)("li",{children:"You may not, in the use of the Service, violate any laws in Your jurisdiction (including but not limited to copyright laws);"}),(0,At.jsx)("li",{children:"You must not transmit any worms or viruses or any code of a destructive nature;"}),(0,At.jsx)("li",{children:"That the Content submitted by You shall not be derogatory, offensive or misleading in any manner;"}),(0,At.jsx)("li",{children:"You are solely responsible for the Content that You upload, submit or send to or exchange on the Platform. We shall under no circumstances be responsible for any claims made by a third party in respect thereof;"}),(0,At.jsx)("li",{children:"Any fraudulent use of this Platform or applicable payment method to purchase the Products, which causes any monetary loss to the Company as a result of Your action/inaction shall be recovered from You. Without prejudice to the above, the Company reserves the right to initiate legal proceedings against You for the fraudulent use of this Platform or for any other unlawful act or omission in breach of this Merchants\u2019 Agreement."}),(0,At.jsx)("li",{children:"That images and pictorial representations on the Platform may be enhanced for advertising purposes;"}),(0,At.jsx)("li",{children:"That We will not be responsible for verifying any Content posted on the Platform;"}),(0,At.jsx)("li",{children:"That You also understand and acknowledge that the use of the Platform requires internet /mobile network connectivity. You shall bear the costs incurred to access and use the Platform and We shall not, under any circumstances whatsoever, be responsible or liable for such costs;"}),(0,At.jsx)("li",{children:"That You shall be solely responsible for all activities undertaken through Your User Account, whether or not You have authorized such activities or actions and shall, at all times, keep the Company indemnified in this regard;"}),(0,At.jsx)("li",{children:"That You shall be responsible for checking the Content, Product description and other related information; and"}),(0,At.jsx)("li",{children:"If You are registering as a business entity, You represent that You are duly authorized by the business entity to accept this Merchants\u2019 Agreement and You have the authority to bind that business entity to this Merchants\u2019 Agreement."})]}),(0,At.jsx)("p",{children:"A breach or violation of any of the Terms will result in an immediate termination of Services and may result in reporting to the law enforcement agencies."}),(0,At.jsx)("h3",{children:"GENERAL CONDITIONS :"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"We reserve the right to refuse Service to anyone (without assigning any reason) at any time."}),(0,At.jsx)("li",{children:"You understand that Your Content (not including credit card information), may be transferred unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices. Credit card information is always encrypted during transfer over networks."}),(0,At.jsx)("li",{children:"You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service or any contact on the Platform through which the Service is provided, without express written permission by Us."})]}),(0,At.jsx)("p",{children:"The headings used in this Merchants\u2019 Agreement are included for convenience only and will not limit or otherwise affect these Terms."}),(0,At.jsx)("h3",{children:"PROHIBITED USES :"}),"In furtherance to Clause 4 (iii) above, ",(0,At.jsx)("strong",{children:"You undertake and warrant that You"})," will not list the following Products on the Platform:",(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"Adult products and pornographic materials (including child pornography) in any form (print, audio/video, multimedia messages, images, photographs, etc.);"}),(0,At.jsx)("li",{children:"Alcohol;"}),(0,At.jsx)("li",{children:"Animals and wildlife products \u2013 examples include live animals, mounted specimens, and ivory;"}),(0,At.jsx)("li",{children:"Artifacts;"}),(0,At.jsx)("li",{children:"Counterfeit goods and services infringing the IP (as defined below);"}),(0,At.jsx)("li",{children:"Crude oil;"}),(0,At.jsx)("li",{children:"Electronic surveillance equipment prohibited by law;"}),(0,At.jsx)("li",{children:"Embargoed goods from prohibited countries;"}),(0,At.jsx)("li",{children:"Endangered species of animals and plants, whether alive or dead;"}),(0,At.jsx)("li",{children:"Event tickets which are exempted from resale by law;"}),(0,At.jsx)("li",{children:"Firearms, weapons, and knives \u2013 examples include pepper spray, replicas, and stun guns;"}),(0,At.jsx)("li",{children:"Any financial services;"}),(0,At.jsx)("li",{children:"Food and healthcare items without holding requisite permits;"}),(0,At.jsx)("li",{children:"Grey market products;"}),(0,At.jsx)("li",{children:"Government related items/ equipment (like wireless equipment with frequency used by the police, uniforms of Government officials including but not limited to the use by the police/ the Indian army, etc.)"}),(0,At.jsx)("li",{children:"Government issued documents like passports etc.;"}),(0,At.jsx)("li",{children:"Hazardous, restricted, or regulated materials \u2013 examples include batteries, fireworks, and refrigerants;"}),(0,At.jsx)("li",{children:"Human remains and body parts;"}),(0,At.jsx)("li",{children:"IP in any form (including but not limited to music, movies, books, designs) for which the Merchant do not hold the distribution rights;"}),(0,At.jsx)("li",{children:"Invoices and receipts (including blank and pre-filled);"}),(0,At.jsx)("li",{children:"Liquefied petroleum gas cylinder;"}),(0,At.jsx)("li",{children:"Lottery tickets;"}),(0,At.jsx)("li",{children:"Mailing lists and personal information;"}),(0,At.jsx)("li",{children:"Maps and literature where Indian external boundaries have been shown incorrectly;"}),(0,At.jsx)("li",{children:"Medicines, drugs and drug paraphernalia that require a registered medical practitioner\u2019s prescription;"}),(0,At.jsx)("li",{children:"Narcotic drugs and psychotropic substances as defined under the Narcotic Drugs and Psychotropic Substances Act, 1985;"}),(0,At.jsx)("li",{children:"Offensive material which is likely to offend the sentiments of people whether on the grounds of religion, race, caste, sex or place of birth, race, ethnicity, or culture;"}),(0,At.jsx)("li",{children:"Radioactive materials;"}),(0,At.jsx)("li",{children:"Reptile skins;"}),(0,At.jsx)("li",{children:"Sex determination Kit as under the Pre-Conception and Pre-Natal Diagnostic Techniques Act, 1994;"}),(0,At.jsx)("li",{children:"Stocks and securities;"}),(0,At.jsx)("li",{children:"Real estate;"}),(0,At.jsx)("li",{children:"Radioactive materials;"}),(0,At.jsx)("li",{children:"Stolen property;"}),(0,At.jsx)("li",{children:"Tobacco;"}),(0,At.jsx)("li",{children:"Any other sanctioned or prohibited items or services as per applicable laws; and"}),(0,At.jsx)("li",{children:"Any other item deemed unfit by Company."})]}),(0,At.jsx)("p",{children:"In addition to other prohibitions as set forth in the Terms of Service, You are prohibited from using the Platform or its Content:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"for any unlawful purpose;"}),(0,At.jsx)("li",{children:"to solicit others to perform or participate in any unlawful acts;"}),(0,At.jsx)("li",{children:"to violate any international, federal, provincial or state regulations, rules, laws, or any applicable ordinances;"}),(0,At.jsx)("li",{children:"to infringe upon or violate our intellectual property rights or the intellectual property rights of others;"}),(0,At.jsx)("li",{children:"to harass, abuse, insult, harm, defame, slander, disparage, intimidate, or discriminate based on gender, sexual orientation, religion, ethnicity, race, age, national origin, or disability;"}),(0,At.jsx)("li",{children:"to submit false or misleading information;"}),(0,At.jsx)("li",{children:"to upload or transmit viruses or any other type of malicious code that will or may be used in any way that will affect the functionality or operation of the Service or of any related Platform, other Platforms, or the internet;"}),(0,At.jsx)("li",{children:"to collect or track the personal information of others;"}),(0,At.jsx)("li",{children:"to spam, phish, pharm, pretext, spider, crawl, or scrape;"}),(0,At.jsx)("li",{children:"for any obscene or immoral purpose; or"}),(0,At.jsx)("li",{children:"to interfere with or circumvent the security features of the Service or any related Platform, other Platforms, or the internet. We reserve the right to terminate Your use of the Service or any related Platform for violating any of the prohibited uses."})]}),(0,At.jsx)("h3",{children:"TERMS OF USE:"}),(0,At.jsx)("p",{children:"You acknowledge that certain parts of this Platform are available only if You register on this Platform by following the registration process mentioned under this Merchants\u2019 Agreement."}),(0,At.jsx)("h3",{children:"ACCURACY, COMPLETENESS AND TIMELINESS OF INFORMATION:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"We are not responsible if information made available on the Platform is not accurate or not complete or not current. The material on the Platform is provided for general information only and should not be relied upon or used as the sole basis for making decisions without consulting primary and more accurate sources of information. Any reliance on the material on the Platform is at your own risk; and"}),(0,At.jsx)("li",{children:"We reserve the right to modify the contents of the Platform at any time, but We have no obligation to update any information on the Platform. You agree that it is Your responsibility to monitor changes to Our Platform."})]}),(0,At.jsx)("h3",{children:"MODIFICATIONS TO THE SERVICE AND PRICES:"}),(0,At.jsx)("p",{children:"We reserve the right at any time to modify or discontinue the Service (or any part or content thereof) without notice at any time. We shall not be liable to You or to any third-party for any modification, price change, suspension or discontinuance of the Service."}),(0,At.jsx)("h3",{children:"RIGHT TO ACCESS:"}),(0,At.jsx)("p",{children:"To order products you must be over 18 years of age and possess a valid credit method of payment. By placing an order, you are promising that all details you provide are true and accurate, that you are over 18 years of age, that you are authorized to use your selected method of payment to place your order and that there are sufficient funds in the relevant account to cover the cost of your order."}),(0,At.jsx)("h3",{children:"PRICE OF THE PRODUCTS:"}),(0,At.jsx)("p",{children:"The Merchant undertakes and warrants that at all times, the sale price of Product provided by the Merchant for listing and display on the Platform shall be:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"Inclusive of all taxes; and"}),(0,At.jsx)("li",{children:"the exact price at which the Product would be sold to the Buyer."})]}),(0,At.jsx)("p",{children:"We will in no way be responsible for assisting You in relation to any claims with respect to tax payable on the Products sold by You on the Platform."}),(0,At.jsx)("p",{children:"You agree to indemnify, defend and hold harmless the Company and our parent, subsidiaries, affiliates, form any loss arising out of or in relation to any : (i) claims with respect to taxes to be paid on the Products sold by You on the Platform; and/or (ii) with respect to any misrepresentation of the sale price of the Products listed by You on the Platform."}),(0,At.jsx)("h3",{children:"PRODUCTS :"}),(0,At.jsx)("p",{children:"We reserve the right, but not the obligation, to limit the sales of our Services to any person, geographic region or jurisdiction. We may exercise this right on a case-by-case basis. We reserve the right to limit the quantities of any Products that You offer. All descriptions of Products or Product pricing are subject to change at any time without notice, at our sole discretion. We reserve the right to discontinue any Product at any time. Any offer for any Product made on this Platform is void where prohibited."}),(0,At.jsx)("p",{children:"We do not warrant that the quality of any Products, information, or other material purchased or obtained by any Buyers from You will meet the Buyers\u2019 expectations, or that any errors in the Service will be corrected. You will be solely responsible for the same."}),(0,At.jsx)("h3",{children:"OPTIONAL TOOLS :"}),(0,At.jsx)("p",{children:"We may provide You with access to third-party tools which We neither monitor nor have any control over nor do We provide any input. You acknowledge and agree that we provide access to such tools on an \u201cas is basis\u201d and \u201cas available\u201d without any warranties, representations or conditions of any kind and without any endorsement. We shall have no liability whatsoever arising from or relating to your use of optional third-party tools."}),(0,At.jsx)("p",{children:"Any use by You of optional tools offered through the Platform is entirely at Your own risk and discretion and You should ensure that You are familiar with and approve of the terms on which tools are provided by the relevant third-party provider(s)."}),(0,At.jsx)("p",{children:"We may also, in the future, offer new services and/or features through the Platform (including, the release of new tools and resources). Such new features and/or services shall also be subject to these Terms of Service."}),(0,At.jsx)("h3",{children:"THIRD-PARTY LINKS :"}),(0,At.jsx)("p",{children:"Certain content, products and services available via our Service may include materials from third-parties."}),(0,At.jsx)("p",{children:"Third-party links on this Platform may direct You to third-party Platforms that are not affiliated with Us. We are not responsible for examining or evaluating the content or accuracy and We do not warrant and will not have any liability or responsibility for any third-party materials or Platforms, or for any other materials, products, or services of third-parties."}),(0,At.jsx)("p",{children:"We are not liable for any harm or damages related to the purchase or use of goods, services, resources, Content, or any other transactions made in connection with any third-party Platforms. Please review carefully the third-party\u2019s policies and practices and make sure You understand them before You engage in any transaction. Complaints, claims, concerns, or questions regarding third-party products should be directed to the third-party."}),(0,At.jsx)("h3",{children:"USER COMMENTS, FEEDBACK AND OTHER SUBMISSIONS :"}),(0,At.jsx)("p",{children:"If, at Our request, You send certain specific submissions (for example contest entries) or without a request from Us, You send creative ideas, suggestions, proposals, plans, or other materials, whether online, by email, by postal mail, or otherwise (collectively, \u201cComments\u201d), You agree that We may, at any time, without restriction, edit, copy, publish, distribute, translate and otherwise use in any medium any comments that You forward to Us."}),(0,At.jsx)("p",{children:"We are and shall be under no obligation to:"}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"maintain any Comments in confidence;"}),(0,At.jsx)("li",{children:"pay compensation for any Comments; or"}),(0,At.jsx)("li",{children:"respond to any Comments."})]}),(0,At.jsx)("p",{children:"We may, but have no obligation to, monitor, edit or remove Content that we determine in our sole discretion are unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party\u2019s intellectual property or these Terms of Service."}),(0,At.jsx)("p",{children:"You agree that your Comments will not violate any right of any third-party, including copyright, trademark, privacy, personality or other personal or proprietary right. You further agree that Your Comments will not contain libelous or otherwise unlawful, abusive or obscene material, or contain any computer virus or other malware that could in any way affect the operation of the Service or any related Platform. You may not use a false e-mail address, pretend to be someone other than Yourself, or otherwise mislead us or third-parties as to the origin of any Comments. You are solely responsible for any Comments You make and their accuracy. We take no responsibility and assume no liability for any Comments posted by You or any third-party."}),(0,At.jsx)("h3",{children:"PERSONAL INFORMATION :"}),(0,At.jsx)("p",{children:"Your submission of personal information is governed by Our Privacy Policy."}),(0,At.jsx)("h3",{children:"ERRORS, INACCURACIES AND COMISSIONS:"}),(0,At.jsx)("p",{children:"Occasionally there may be information on the Platform or in the Service that contains typographical errors, inaccuracies or omissions that may relate to product descriptions, pricing, promotions, offers, product shipping charges, transit times and availability. We reserve the right to correct any errors, inaccuracies or omissions, and to change or update information or cancel orders if any information in the Service or on any related Platform is inaccurate at any time without prior notice We undertake no obligation to update, amend or clarify information in the Service or on any related Platform, including without limitation, pricing information, except as required by law. No specified update or refresh date applied in the Service or on any related Platform, should be taken to indicate that all information in the Service or on any related Platform has been modified or updated."}),(0,At.jsx)("h3",{children:"DISCLAIMER OF WARRANTIES; LIMITATION OF LIABILITY:"}),(0,At.jsx)("p",{children:"We do not guarantee, represent or warrant that your use of our Service will be uninterrupted, timely, secure or error-free. We do not warrant that the results that may be obtained from the use of the service will be accurate or reliable."}),(0,At.jsx)("p",{children:"You agree that from time to time we may remove the Service for indefinite periods of time or cancel the Service at any time, without notice to You."}),(0,At.jsx)("p",{children:"You expressly agree that Your use of, or inability to use, the service is at Your sole risk. We are not responsible for ensuring that the sale price and other consideration to be received from the Buyer (\u201cSale Price\u201d) for sale of Products listed on the Platform to the Buyers. Any Service provided to you by Us is without any representation, warranties or conditions of any kind, either express or implied, including all implied warranties or conditions of due receipt of Sale Price and non-infringement."}),(0,At.jsx)("p",{children:"In no case shall the Company, Our directors, officers, employees, affiliates, agents, contractors, interns, suppliers, service providers or licensors be liable for any injury, loss, claim, or any direct, indirect, incidental, punitive, special, or consequential damages of any kind, including, without limitation lost profits, lost revenue, lost savings, loss of data, replacement costs, or any similar damages, whether based in contract, tort (including negligence), strict liability or otherwise, arising from Your use of any of the Service, or for any other claim related in any way to Your use of the Service, including, but not limited to, any errors or omissions in any content, or any loss or damage of any kind incurred as a result of the use of the Service or any Content (or product) posted, transmitted, or otherwise made available via the Service, even if advised of their possibility. In states or jurisdictions that do not allow the exclusion or the limitation of liability for consequential or incidental damages, in such states or jurisdictions, our liability shall be limited to the maximum extent permitted by law."}),(0,At.jsx)("h3",{children:"COPYRIGHT AND TRADEMARK:"}),(0,At.jsx)("p",{children:"Each time You upload the Content, You grant the Company a worldwide non-exclusive, transferable, royalty free license to use any such content including by way of distribution, storage, hosting, sub-license, reproduction, communication, creation of derivative works, and modification of such content. You accept that such license will not terminate upon Your deletion or removal of the Content or other uploaded content in respect of which it is granted; and shall continue to be used by the Company, on the Platform."}),(0,At.jsx)("p",{children:(0,At.jsx)("strong",{children:"You agree and confirm that:"})}),(0,At.jsxs)("ol",{children:[(0,At.jsx)("li",{children:"All copyright, database right and all other proprietary rights, title and interest in all Content and or information presented on this Platform (\u201cIP\u201d) is owned by and/or licensed to Us or owned by and/or licensed to the manufacturer of the Products and/or Services or is owned by and/or licensed to the person uploading such Content and is or may be protected or covered by copyright, trade mark, intellectual property law and/or other proprietary rights, unless expressly stated otherwise."}),(0,At.jsx)("li",{children:"No extracts of this Platform or part thereof shall be displayed, printed or downloaded by You or with Your assistance, for any reason, including without limitation to commercialize any IP in any way."}),(0,At.jsx)("li",{children:"Your use of this Platform does not confer on You or any other party, any license or other rights under the intellectual property or other proprietary rights of the Company, the manufacturer of the Products and/ or Services and/or of any third party, whether implied or otherwise."}),(0,At.jsx)("li",{children:"The Company shall not be held liable for any claims relating to infringement of any intellectual property rights in relation to the Products and/or Services their content and/or Content."})]}),(0,At.jsx)("h3",{children:"INDEMNIFICATION :"}),(0,At.jsx)("p",{children:"You agree to indemnify, defend and hold harmless the Company and our parent, subsidiaries, affiliates, partners, officers, directors, agents, contractors, licensors, service providers, subcontractors, suppliers, interns and employees, harmless from any claim or demand, including reasonable attorneys\u2019 fees, made by any third-party due to or arising out of Your breach of these Terms of Service or the documents they incorporate by reference, or Your violation of any law or the rights of a third-party."}),(0,At.jsx)("h3",{children:"SEVERABILITY :"}),(0,At.jsx)("p",{children:"In the event that any provision of these Terms of Service is determined to be unlawful, void or unenforceable, such provision shall nonetheless be enforceable to the fullest extent permitted by applicable law, and the unenforceable portion shall be deemed to be severed from these Terms of Service, such determination shall not affect the validity and enforceability of any other remaining provisions."}),(0,At.jsx)("h3",{children:"TERMINATION :"}),(0,At.jsx)("p",{children:"These Terms of Service are effective unless and until terminated by either You or Us. If in our sole judgment You fail, or we suspect that You have failed, to comply with any term or provision of these Terms of Service, we also may terminate this Merchants\u2019 Agreement at any time without notice and You will remain liable for all amounts due up to and including the date of termination; and/or accordingly may deny You access to our Services (or any part thereof)."}),(0,At.jsx)("h3",{children:"ENTIRE AGREEMENT :"}),(0,At.jsx)("p",{children:"Our failure to exercise or enforce any right or provision of these Terms of Service shall not constitute a waiver of such right or provision."}),(0,At.jsx)("p",{children:"These Terms of Service and any policies or operating rules posted by Us on this Platform or in respect to The Service constitutes the entire agreement and understanding between You and Us and govern Your use of the Service, superseding any prior or contemporaneous agreements, communications and proposals, whether oral or written, between You and Us (including, but not limited to, any prior versions of the Terms of Service)."}),(0,At.jsx)("p",{children:"Any ambiguities in the interpretation of these Terms of Service shall not be construed against the drafting party."}),(0,At.jsx)("h3",{children:"GOVERNING LAW :"}),(0,At.jsx)("p",{children:"These Terms of Service and any separate agreements whereby we provide You Services shall be governed by and construed in accordance with the laws of Delaware."}),(0,At.jsx)("h3",{children:"FORCE MAJEURE :"}),(0,At.jsx)("p",{children:"We shall not be held liable for any of Our obligations under the Merchants\u2019 Agreement due to reasons beyond our control such as down time of servers, viruses, strikes, technical snags, system compatibility, natural calamities, acts of war, terror etc. You agree not to hold Us liable for any delay or adverse effect caused due to the occurrence of such an event."}),(0,At.jsx)("h3",{children:"CHANGES TO TERMS OF SERVICE :"}),(0,At.jsx)("p",{children:"You can review the most current version of the Terms of Service at any time at this page. We reserve the right, at our sole discretion, to update, change or replace any part of these Terms of Service by posting updates and changes to our Platform. It is Your responsibility to check our Platform periodically for changes. Your continued use of or access to our Platform or the Service following the posting of any changes to these Terms of Service constitutes acceptance of those changes."}),(0,At.jsx)("h3",{children:"CONTACT INFORMATION :"}),(0,At.jsxs)("p",{children:["For any queries about Terms of Service, you can call us at 917-310-1171 or email with us on ",(0,At.jsx)("a",{href:"mailto:crm@seashels.com",children:"crm@seashels.com"})]})]})})}),rf=()=>{const{cartCount:e,addItemToCart:n,removeItemFromCart:r}=Nt(),a=(0,Bt.Zp)(),{apiToken:s,userRole:o,logout:l}=It(),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)({}),[b,x]=(0,t.useState)(""),[S,_]=(0,t.useState)(0),[w,E]=(0,t.useState)(!1),[T,C]=(0,t.useState)(0),[k,A]=(0,t.useState)(0),j=async()=>{try{const e=localStorage.getItem("order_num"),t=await yt.get("/cart/get_cart_details",{params:{api_token:localStorage.getItem("apiToken"),order_num:e}});if(console.log(t,"response"),401===t.data.status)console.log("401"),l(),a("/home");else{if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);{h(t.data.cart_items);const e=t.data.cart_items.reduce(((e,t)=>e+parseFloat(t.total)),0);g(e),y(t.data.shopping_cart_data),x(t.data.shopping_cart_data.coupon_code),_(t.data.shopping_cart_data.total_cart_discounted_value),E(!!t.data.shopping_cart_data.coupon_code),C(t.data.shopping_cart_data.active_coupon_count),A(t.data.shopping_cart_data.coupon_owner_id)}}}catch(f){console.error("Failed to fetch cart details:",f),p(f.message)}};(0,t.useEffect)((()=>{j()}),[]);if(f)return(0,At.jsxs)("div",{children:["Error: ",f]});const N=e=>`${v.currency_symbol}${e}`;return(0,At.jsx)("div",{className:"main-content",children:(0,At.jsxs)("div",{className:"container order-details-pg",children:[(0,At.jsx)("h2",{children:"Cart Details"}),(0,At.jsxs)("div",{className:"new-orderrow",children:[(0,At.jsx)("div",{className:"order-details",children:(0,At.jsx)("div",{className:"store-order",children:0===e?(0,At.jsx)("p",{children:"No items in the cart"}):Object.entries(d.reduce(((e,t)=>(e[t.store_name]||(e[t.store_name]=[]),e[t.store_name].push(t),e)),{})).map((e=>{let[t,n]=e;return(0,At.jsxs)("div",{className:"store-section",children:[(0,At.jsx)("div",{className:"store-name",children:(0,At.jsxs)("h4",{children:["Store: ",t]})}),n.map((e=>(0,At.jsxs)("div",{className:"product-row",children:[(0,At.jsx)(i.N_,{to:`/product/${e.SUI}`,children:(0,At.jsx)("div",{className:"img-block",children:(0,At.jsx)("img",{src:e.product_image,alt:e.product_title})})}),(0,At.jsxs)("div",{className:"product-details",children:[(0,At.jsx)("div",{className:"pro-name",children:(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${e.SUI}`,children:e.product_title})})}),(0,At.jsxs)("div",{className:"color",children:[(0,At.jsx)("span",{children:"Colour:"})," ",e.color_name]}),(0,At.jsxs)("div",{className:"size",children:[(0,At.jsx)("span",{children:"Size:"})," ",e.size_name]}),(0,At.jsxs)("div",{className:"size",children:[(0,At.jsx)("span",{children:"Qty:"})," ",e.quantity]}),(0,At.jsx)("div",{className:"remove-item",children:(0,At.jsx)(i.N_,{to:"#",className:"remove",onClick:()=>(async e=>{try{const t=localStorage.getItem("order_num"),n=localStorage.getItem("cart_id"),i=await yt.post("/cart/remove_item_from_cart",{api_token:s,cart_id:n,order_num:t,sui:e});if(401===i.data.status)console.log("401"),l(),a("/home");else{if(200!==i.data.status)throw new Error(`Failed to remove item! Status: ${i.status}`);await j(),r()}}catch(f){console.error("Error removing item:",f),p("Failed to remove item. Please try again.")}})(e.SUI,e.cart_id),children:(0,At.jsx)("img",{src:"/images/remove.svg",alt:"Remove item"})})}),(0,At.jsx)("div",{className:"description content",children:(0,At.jsx)("div",{className:"price-value",children:e.original_price!==e.final_price?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${v.currency_symbol}${e.original_price}`}),(0,At.jsx)("span",{className:"final_price",children:`${v.currency_symbol}${e.final_price}`}),(0,At.jsx)("span",{className:"discount",children:`${e.platform_discount}% off`})]}):(0,At.jsx)("span",{className:"final_price",children:`${v.currency_symbol}${e.final_price}`})})})]})]},e.SUI)))]},t)}))})}),e>0&&(0,At.jsxs)("div",{className:"items-details ord-details",children:[(0,At.jsx)("div",{className:"order-coupon",children:T>0&&(0,At.jsxs)("div",{className:"h4",children:[(0,At.jsx)("span",{children:"Coupon Code"}),(0,At.jsx)("button",{onClick:()=>((e,t)=>{console.log("Navigating with:",{couponID:e,selectCoupon:t}),a("/coupon-list",{state:{couponID:e,selectCoupon:t}})})(k,T),children:"Select Coupon"})]})}),(0,At.jsx)("div",{className:"apply",children:w?(0,At.jsxs)("div",{className:"coupon-code-applied",children:[(0,At.jsx)("span",{children:b}),(0,At.jsx)("button",{type:"button",onClick:async()=>{try{const e=await yt.post("/cart/apply_coupon_discount",{api_token:localStorage.getItem("apiToken"),coupon_code:"",order_num:localStorage.getItem("order_num")});if(401===e.data.status)console.log("401"),l(),a("/home");else{if(200!==e.data.status||!e.data.data)throw new Error(e.data.message||"Failed to remove coupon");x(""),E(!1),await j()}}catch(f){console.error("Failed to remove coupon:",f),p("Failed to remove coupon. Please try again.")}},children:"Remove"})]}):(0,At.jsxs)("div",{className:"coupon-code-not-applied",children:[(0,At.jsx)("input",{type:"text",placeholder:"Enter Coupon Code",value:b,onChange:e=>{x(e.target.value),E(!1)},disabled:T<=0}),(0,At.jsx)("button",{type:"button",onClick:async()=>{try{const e=await yt.post("/cart/apply_coupon_discount",{api_token:localStorage.getItem("apiToken"),coupon_code:b,order_num:localStorage.getItem("order_num")});if(401===e.data.status)console.log("401"),l(),a("/home");else{if(200!==e.data.status||!e.data.data)throw new Error(e.data.message||"Failed to apply coupon");E(!0),await j()}}catch(f){console.error("Failed to apply coupon:",f),p("Failed to apply coupon. Please try again.")}},disabled:T<=0,children:"Apply Coupon"})]})}),(0,At.jsx)("div",{className:"gift",children:v.coupon_discount_amount>0&&(0,At.jsx)("table",{className:"total",children:(0,At.jsxs)("tbody",{children:[(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Subtotal"}),(0,At.jsx)("td",{children:N(v.total_cart_before_coupon_discounted)})]}),(0,At.jsxs)("tr",{children:[(0,At.jsxs)("td",{children:["Coupon Applied (",b,"):"]}),(0,At.jsxs)("td",{children:["-",N(v.coupon_discount_amount)]})]})]})})}),(0,At.jsx)("div",{className:"total-paid",children:(0,At.jsxs)("div",{className:"paid-text",children:[(0,At.jsxs)("h4",{children:["Total ",(0,At.jsx)("span",{children:"(Excluding Shipping charges)"})]}),(0,At.jsx)("span",{className:"price",children:w?`${v.currency_symbol}${S}`:`${v.currency_symbol}${m}`})]})}),(0,At.jsx)("div",{className:"checkout",children:(0,At.jsx)("button",{type:"button",className:"primary-btn",onClick:()=>window.location.href="/checkout",children:"Checkout"})})]})]})]})})},af=()=>{const e=(0,Bt.Zp)(),n=(0,Bt.zy)(),{couponID:r}=n.state||{};console.log("Location object:",n),console.log("defaultCouponID:",r);const{apiToken:i,logout:a}=It(),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(r),h=async()=>{try{const t=await yt.get("/coupon/get_user_coupons",{params:{api_token:localStorage.getItem("apiToken"),status:"active"}});if(console.log(t,"response"),console.log(t.data,"response.data"),200===t.data.status)o(t.data.data);else{if(401!==t.data.status)throw new Error(`HTTP error! status: ${t.status}`);a(),e("/home")}}catch(l){console.error("Failed to fetch coupon details:",l),c(l.message)}};(0,t.useEffect)((()=>{h()}),[]);const f=async()=>{try{const t=await yt.post("/cart/apply_coupon_discount",{api_token:localStorage.getItem("apiToken"),coupon_code:"",order_num:localStorage.getItem("order_num")});if(200===t.data.status&&t.data.data)d(null),await h();else{if(401!==t.data.status)throw new Error(t.data.message||"Failed to remove coupon");a(),e("/home")}}catch(l){console.error("Failed to remove coupon:",l),c("Failed to remove coupon. Please try again.")}};return(0,At.jsx)("div",{className:"main-content not-home",children:(0,At.jsxs)("div",{className:"container coupons",children:[l&&(0,At.jsx)("p",{className:"error",children:l}),(0,At.jsx)("ul",{children:s.map((t=>(0,At.jsxs)("li",{"data-coupon_id":t.coupon_owner_id,children:[(0,At.jsxs)("div",{className:"status",children:[t.msg_1?(0,At.jsx)("a",{href:"#",children:"+ More"}):null,(0,At.jsx)("span",{className:`cp-sts ${t.status}`,children:t.status})]}),(0,At.jsxs)("div",{className:"title",children:[(0,At.jsxs)("h4",{children:[t.Name," (",t.referral_name||"Referral",")"]}),(0,At.jsx)("p",{children:t.heading_1}),(0,At.jsx)("p",{children:t.heading_2}),t.description&&(0,At.jsx)("p",{children:t.description}),t.msg_3&&(0,At.jsx)("p",{children:t.msg_3})]}),(0,At.jsx)("div",{className:"apply",children:u===t.coupon_owner_id?(0,At.jsx)("button",{type:"button",onClick:f,children:"Remove"}):(0,At.jsx)("button",{type:"button",onClick:()=>(async t=>{try{const n=await yt.post("/cart/apply_coupon_discount",{api_token:localStorage.getItem("apiToken"),coupon_code:t.Name,order_num:localStorage.getItem("order_num")});if(200===n.data.status&&n.data.data)d(t.coupon_owner_id),await h(),e("/cart");else{if(401!==n.data.status)throw new Error(n.data.message||"Failed to apply coupon");a(),e("/home")}}catch(l){console.error("Failed to apply coupon:",l),c("Failed to apply coupon. Please try again.")}})(t),children:"Apply"})})]},t.coupon_owner_id)))})]})})};var sf=e=>"checkbox"===e.type,of=e=>e instanceof Date,lf=e=>null==e;const cf=e=>"object"===typeof e;var uf=e=>!lf(e)&&!Array.isArray(e)&&cf(e)&&!of(e),df=e=>uf(e)&&e.target?sf(e.target)?e.target.checked:e.target.value:e,hf=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),ff=e=>{const t=e.constructor&&e.constructor.prototype;return uf(t)&&t.hasOwnProperty("isPrototypeOf")},pf="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function mf(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(pf&&(e instanceof Blob||e instanceof FileList)||!n&&!uf(e))return e;if(t=n?[]:{},n||ff(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=mf(e[n]));else t=e}return t}var gf=e=>Array.isArray(e)?e.filter(Boolean):[],vf=e=>void 0===e,yf=(e,t,n)=>{if(!t||!uf(e))return n;const r=gf(t.split(/[,[\].]+?/)).reduce(((e,t)=>lf(e)?e:e[t]),e);return vf(r)||r===e?vf(e[t])?n:e[t]:r},bf=e=>"boolean"===typeof e,xf=e=>/^\w*$/.test(e),Sf=e=>gf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_f=(e,t,n)=>{let r=-1;const i=xf(t)?[t]:Sf(t),a=i.length,s=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==s){const n=e[t];a=uf(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t)return;e[t]=a,e=e[t]}return e};const wf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ef={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tf="max",Cf="min",kf="maxLength",Af="minLength",jf="pattern",Nf="required",Lf="validate";t.createContext(null);var Rf=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Ef.all&&(t._proxyFormState[i]=!r||Ef.all),n&&(n[i]=!0),e[i]}});return i},Pf=e=>uf(e)&&!Object.keys(e).length,If=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return Pf(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||Ef.all)))},Df=e=>Array.isArray(e)?e:[e];function Of(e){const n=t.useRef(e);n.current=e,t.useEffect((()=>{const t=!e.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return()=>{t&&t.unsubscribe()}}),[e.disabled])}var Mf=e=>"string"===typeof e,Ff=(e,t,n,r,i)=>Mf(e)?(r&&t.watch.add(e),yf(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),yf(n,e)))):(r&&(t.watchAll=!0),n);var Uf=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},$f=e=>({isOnSubmit:!e||e===Ef.onSubmit,isOnBlur:e===Ef.onBlur,isOnChange:e===Ef.onChange,isOnAll:e===Ef.all,isOnTouch:e===Ef.onTouched}),Bf=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const Gf=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=yf(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Gf(a,t))break}else if(uf(a)&&Gf(a,t))break}}};var Hf=(e,t,n)=>{const r=Df(yf(e,n));return _f(r,"root",t[n]),_f(e,n,r),e},zf=e=>"file"===e.type,Yf=e=>"function"===typeof e,Wf=e=>{if(!pf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vf=e=>Mf(e),Kf=e=>"radio"===e.type,qf=e=>e instanceof RegExp;const Xf={value:!1,isValid:!1},Zf={value:!0,isValid:!0};var Qf=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!vf(e[0].attributes.value)?vf(e[0].value)||""===e[0].value?Zf:{value:e[0].value,isValid:!0}:Zf:Xf}return Xf};const Jf={isValid:!1,value:null};var ep=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Jf):Jf;function tp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Vf(e)||Array.isArray(e)&&e.every(Vf)||bf(e)&&!e)return{type:n,message:Vf(e)?e:"",ref:t}}var np=e=>uf(e)&&!qf(e)?e:{value:e,message:""},rp=async(e,t,n,r,i)=>{const{ref:a,refs:s,required:o,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:g,disabled:v}=e._f,y=yf(t,p);if(!g||v)return{};const b=s?s[0]:a,x=e=>{r&&b.reportValidity&&(b.setCustomValidity(bf(e)?"":e||""),b.reportValidity())},S={},_=Kf(a),w=sf(a),E=_||w,T=(m||zf(a))&&vf(a.value)&&vf(y)||Wf(a)&&""===a.value||""===y||Array.isArray(y)&&!y.length,C=Uf.bind(null,p,n,S),k=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kf,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Af;const s=e?t:n;S[p]={type:e?r:i,message:s,ref:a,...C(e?r:i,s)}};if(i?!Array.isArray(y)||!y.length:o&&(!E&&(T||lf(y))||bf(y)&&!y||w&&!Qf(s).isValid||_&&!ep(s).isValid)){const{value:e,message:t}=Vf(o)?{value:!!o,message:o}:np(o);if(e&&(S[p]={type:Nf,message:t,ref:b,...C(Nf,t)},!n))return x(t),S}if(!T&&(!lf(u)||!lf(d))){let e,t;const r=np(d),i=np(u);if(lf(y)||isNaN(y)){const n=a.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;Mf(r.value)&&y&&(e=o?s(y)>s(r.value):l?y>r.value:n>new Date(r.value)),Mf(i.value)&&y&&(t=o?s(y)<s(i.value):l?y<i.value:n<new Date(i.value))}else{const n=a.valueAsNumber||(y?+y:y);lf(r.value)||(e=n>r.value),lf(i.value)||(t=n<i.value)}if((e||t)&&(k(!!e,r.message,i.message,Tf,Cf),!n))return x(S[p].message),S}if((l||c)&&!T&&(Mf(y)||i&&Array.isArray(y))){const e=np(l),t=np(c),r=!lf(e.value)&&y.length>+e.value,i=!lf(t.value)&&y.length<+t.value;if((r||i)&&(k(r,e.message,t.message),!n))return x(S[p].message),S}if(h&&!T&&Mf(y)){const{value:e,message:t}=np(h);if(qf(e)&&!y.match(e)&&(S[p]={type:jf,message:t,ref:a,...C(jf,t)},!n))return x(t),S}if(f)if(Yf(f)){const e=tp(await f(y,t),b);if(e&&(S[p]={...e,...C(Lf,e.message)},!n))return x(e.message),S}else if(uf(f)){let e={};for(const r in f){if(!Pf(e)&&!n)break;const i=tp(await f[r](y,t),b,r);i&&(e={...i,...C(r,i.message)},x(i.message),n&&(S[p]=e))}if(!Pf(e)&&(S[p]={ref:b,...e},!n))return S}return x(!0),S};function ip(e,t){const n=Array.isArray(t)?t:xf(t)?[t]:Sf(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=vf(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(uf(r)&&Pf(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!vf(e[t]))return!1;return!0}(r))&&ip(e,n.slice(0,-1)),e}var ap=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},sp=e=>lf(e)||!cf(e);function op(e,t){if(sp(e)||sp(t))return e===t;if(of(e)&&of(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(of(n)&&of(e)||uf(n)&&uf(e)||Array.isArray(n)&&Array.isArray(e)?!op(n,e):n!==e)return!1}}return!0}var lp=e=>"select-multiple"===e.type,cp=e=>Kf(e)||sf(e),up=e=>Wf(e)&&e.isConnected,dp=e=>{for(const t in e)if(Yf(e[t]))return!0;return!1};function hp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(uf(e)||n)for(const r in e)Array.isArray(e[r])||uf(e[r])&&!dp(e[r])?(t[r]=Array.isArray(e[r])?[]:{},hp(e[r],t[r])):lf(e[r])||(t[r]=!0);return t}function fp(e,t,n){const r=Array.isArray(e);if(uf(e)||r)for(const i in e)Array.isArray(e[i])||uf(e[i])&&!dp(e[i])?vf(t)||sp(n[i])?n[i]=Array.isArray(e[i])?hp(e[i],[]):{...hp(e[i])}:fp(e[i],lf(t)?{}:t[i],n[i]):n[i]=!op(e[i],t[i]);return n}var pp=(e,t)=>fp(e,t,hp(t)),mp=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return vf(e)?e:n?""===e?NaN:e?+e:e:r&&Mf(e)?new Date(e):i?i(e):e};function gp(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return zf(t)?t.files:Kf(t)?ep(e.refs).value:lp(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):sf(t)?Qf(e.refs).value:mp(vf(t.value)?e.ref.value:t.value,e)}var vp=(e,t,n,r)=>{const i={};for(const a of e){const e=yf(t,a);e&&_f(i,a,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},yp=e=>vf(e)?e:qf(e)?e.source:uf(e)?qf(e.value)?e.value.source:e.value:e;const bp="AsyncFunction";var xp=e=>(!e||!e.validate)&&!!(Yf(e.validate)&&e.validate.constructor.name===bp||uf(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===bp))),Sp=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function _p(e,t,n){const r=yf(e,n);if(r||xf(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=yf(t,r),s=yf(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(s&&s.type)return{name:r,error:s};i.pop()}return{name:n}}var wp=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),Ep=(e,t)=>!gf(yf(e,t)).length&&ip(e,t);const Tp={mode:Ef.onSubmit,reValidateMode:Ef.onChange,shouldFocusError:!0};function Cp(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={...Tp,...t},r={submitCount:0,isDirty:!1,isLoading:Yf(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(uf(n.defaultValues)||uf(n.values))&&mf(n.defaultValues||n.values)||{},s=n.shouldUnregister?{}:mf(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:ap(),array:ap(),state:ap()},h=$f(n.mode),f=$f(n.reValidateMode),p=n.criteriaMode===Ef.all,m=async e=>{if(u.isValid||e){const e=n.resolver?Pf((await x()).errors):await S(i,!0);e!==r.isValid&&d.state.next({isValid:e})}},g=(e,t)=>{(u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(t?_f(r.validatingFields,e,t):ip(r.validatingFields,e))})),d.state.next({validatingFields:r.validatingFields,isValidating:!Pf(r.validatingFields)}))},v=(e,t,n,r)=>{const l=yf(i,e);if(l){const i=yf(s,e,vf(n)?yf(a,e):n);vf(i)||r&&r.defaultChecked||t?_f(s,e,t?i:gp(l._f)):E(e,i),o.mount&&m()}},y=(e,t,n,s,o)=>{let l=!1,c=!1;const h={name:e},f=!!(yf(i,e)&&yf(i,e)._f&&yf(i,e)._f.disabled);if(!n||s){u.isDirty&&(c=r.isDirty,r.isDirty=h.isDirty=_(),l=c!==h.isDirty);const n=f||op(yf(a,e),t);c=!(f||!yf(r.dirtyFields,e)),n||f?ip(r.dirtyFields,e):_f(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,l=l||u.dirtyFields&&c!==!n}if(n){const t=yf(r.touchedFields,e);t||(_f(r.touchedFields,e,n),h.touchedFields=r.touchedFields,l=l||u.touchedFields&&t!==n)}return l&&o&&d.state.next(h),l?h:{}},b=(n,i,a,s)=>{const o=yf(r.errors,n),l=u.isValid&&bf(i)&&r.isValid!==i;var h;if(t.delayError&&a?(h=()=>((e,t)=>{_f(r.errors,e,t),d.state.next({errors:r.errors})})(n,a),e=e=>{clearTimeout(c),c=setTimeout(h,e)},e(t.delayError)):(clearTimeout(c),e=null,a?_f(r.errors,n,a):ip(r.errors,n)),(a?!op(o,a):o)||!Pf(s)||l){const e={...s,...l&&bf(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},d.state.next(e)}},x=async e=>{g(e,!0);const t=await n.resolver(s,n.context,vp(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return g(e),t},S=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const o=e[a];if(o){const{_f:e,...c}=o;if(e){const c=l.array.has(e.name),d=o._f&&xp(o._f);d&&u.validatingFields&&g([a],!0);const h=await rp(o,s,p,n.shouldUseNativeValidation&&!t,c);if(d&&u.validatingFields&&g([a]),h[e.name]&&(i.valid=!1,t))break;!t&&(yf(h,e.name)?c?Hf(r.errors,h,e.name):_f(r.errors,e.name,h[e.name]):ip(r.errors,e.name))}!Pf(c)&&await S(c,t,i)}}return i.valid},_=(e,t)=>(e&&t&&_f(s,e,t),!op(N(),a)),w=(e,t,n)=>Ff(e,l,{...o.mount?s:vf(t)?a:Mf(e)?{[e]:t}:t},n,t),E=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=yf(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&_f(s,e,mp(t,n)),a=Wf(n.ref)&&lf(t)?"":t,lp(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?sf(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):zf(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||d.values.next({name:e,values:{...s}})))}(n.shouldDirty||n.shouldTouch)&&y(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},T=(e,t,n)=>{for(const r in t){const a=t[r],s=`${e}.${r}`,o=yf(i,s);!l.array.has(e)&&sp(a)&&(!o||o._f)||of(a)?E(s,a,n):T(s,a,n)}},C=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=yf(i,e),h=l.array.has(e),f=mf(t);_f(s,e,f),h?(d.array.next({name:e,values:{...s}}),(u.isDirty||u.dirtyFields)&&n.shouldDirty&&d.state.next({name:e,dirtyFields:pp(a,s),isDirty:_(e,f)})):!c||c._f||lf(f)?E(e,f,n):T(e,f,n),Bf(e,l)&&d.state.next({...r}),d.values.next({name:o.mount?e:void 0,values:{...s}})},k=async a=>{o.mount=!0;const c=a.target;let v=c.name,_=!0;const w=yf(i,v),E=e=>{_=Number.isNaN(e)||op(e,yf(s,v,e))};if(w){let o,T;const C=c.type?gp(w._f):df(a),k=a.type===wf.BLUR||a.type===wf.FOCUS_OUT,A=!Sp(w._f)&&!n.resolver&&!yf(r.errors,v)&&!w._f.deps||wp(k,yf(r.touchedFields,v),r.isSubmitted,f,h),N=Bf(v,l,k);_f(s,v,C),k?(w._f.onBlur&&w._f.onBlur(a),e&&e(0)):w._f.onChange&&w._f.onChange(a);const L=y(v,C,k,!1),R=!Pf(L)||N;if(!k&&d.values.next({name:v,type:a.type,values:{...s}}),A)return u.isValid&&("onBlur"===t.mode?k&&m():m()),R&&d.state.next({name:v,...N?{}:L});if(!k&&N&&d.state.next({...r}),n.resolver){const{errors:e}=await x([v]);if(E(C),_){const t=_p(r.errors,i,v),n=_p(e,i,t.name||v);o=n.error,v=n.name,T=Pf(e)}}else g([v],!0),o=(await rp(w,s,p,n.shouldUseNativeValidation))[v],g([v]),E(C),_&&(o?T=!1:u.isValid&&(T=await S(i,!0)));_&&(w._f.deps&&j(w._f.deps),b(v,T,o,L))}},A=(e,t)=>{if(yf(r.errors,t)&&e.focus)return e.focus(),1},j=async function(e){let t,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Df(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await x(e);if(e)for(const n of e){const e=yf(t,n);e?_f(r.errors,n,e):ip(r.errors,n)}else r.errors=t;return t})(vf(e)?e:o);t=Pf(n),a=e?!o.some((e=>yf(n,e))):t}else e?(a=(await Promise.all(o.map((async e=>{const t=yf(i,e);return await S(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||r.isValid)&&m()):a=t=await S(i);return d.state.next({...!Mf(e)||u.isValid&&t!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:t}:{},errors:r.errors}),s.shouldFocus&&!a&&Gf(i,A,e?o:l.mount),a},N=e=>{const t={...o.mount?s:a};return vf(e)?t:Mf(e)?yf(t,e):e.map((e=>yf(t,e)))},L=(e,t)=>({invalid:!!yf((t||r).errors,e),isDirty:!!yf((t||r).dirtyFields,e),error:yf((t||r).errors,e),isValidating:!!yf(r.validatingFields,e),isTouched:!!yf((t||r).touchedFields,e)}),R=(e,t,n)=>{const a=(yf(i,e,{_f:{}})._f||{}).ref,s=yf(r.errors,e)||{},{ref:o,message:l,type:c,...u}=s;_f(r.errors,e,{...u,...t,ref:a}),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?Df(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(ip(i,o),ip(s,o)),!t.keepError&&ip(r.errors,o),!t.keepDirty&&ip(r.dirtyFields,o),!t.keepTouched&&ip(r.touchedFields,o),!t.keepIsValidating&&ip(r.validatingFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&ip(a,o);d.values.next({values:{...s}}),d.state.next({...r,...t.keepDirty?{isDirty:_()}:{}}),!t.keepIsValid&&m()},I=e=>{let{disabled:t,name:n,field:r,fields:i,value:a}=e;if(bf(t)&&o.mount||t){const e=t?void 0:vf(a)?gp(r?r._f:yf(i,n)._f):a;_f(s,n,e),y(n,e,!1,!1,!0)}},D=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=yf(i,e);const c=bf(r.disabled)||bf(t.disabled);return _f(i,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...r}}),l.mount.add(e),s?I({field:s,disabled:bf(r.disabled)?r.disabled:t.disabled,name:e,value:r.value}):v(e,!0,r.value),{...c?{disabled:r.disabled||t.disabled}:{},...n.progressive?{required:!!r.required,min:yp(r.min),max:yp(r.max),minLength:yp(r.minLength),maxLength:yp(r.maxLength),pattern:yp(r.pattern)}:{},name:e,onChange:k,onBlur:k,ref:t=>{if(t){D(e,r),s=yf(i,e);const n=vf(t.value)&&t.querySelectorAll&&t.querySelectorAll("input,select,textarea")[0]||t,o=cp(n),l=s._f.refs||[];if(o?l.find((e=>e===n)):n===s._f.ref)return;_f(i,e,{_f:{...s._f,...o?{refs:[...l.filter(up),n,...Array.isArray(yf(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),v(e,!1,void 0,n)}else s=yf(i,e,{}),s._f&&(s._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!hf(l.array,e)||!o.action)&&l.unMount.add(e)}}},O=()=>n.shouldFocusError&&Gf(i,A,l.mount),M=(e,t)=>async a=>{let o;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let l=mf(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await x();r.errors=e,l=t}else await S(i);if(ip(r.errors,"root"),Pf(r.errors)){d.state.next({errors:{}});try{await e(l,a)}catch(c){o=c}}else t&&await t({...r.errors},a),O(),setTimeout(O);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pf(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},F=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?mf(e):a,h=mf(c),f=Pf(e),p=f?a:h;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues)for(const e of l.mount)yf(r.dirtyFields,e)?_f(p,e,yf(s,e)):C(e,yf(p,e));else{if(pf&&vf(e))for(const e of l.mount){const t=yf(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Wf(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}s=t.shouldUnregister?n.keepDefaultValues?mf(a):{}:mf(p),d.array.next({values:{...p}}),d.values.next({values:{...p}})}l={mount:n.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!n.keepIsValid||!!n.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!f&&(n.keepDirty?r.isDirty:!(!n.keepDefaultValues||op(e,a))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&s?pp(a,s):r.dirtyFields:n.keepDefaultValues&&e?pp(a,e):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},U=(e,t)=>F(Yf(e)?e(s):e,t);return{control:{register:D,unregister:P,getFieldState:L,handleSubmit:M,setError:R,_executeSchema:x,_getWatch:w,_getDirty:_,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=yf(i,e);t&&(t._f.refs?t._f.refs.every((e=>!up(e))):!up(t._f.ref))&&P(e)}l.unMount=new Set},_updateFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(l&&n){if(o.action=!0,h&&Array.isArray(yf(i,e))){const t=n(yf(i,e),l.argA,l.argB);c&&_f(i,e,t)}if(h&&Array.isArray(yf(r.errors,e))){const t=n(yf(r.errors,e),l.argA,l.argB);c&&_f(r.errors,e,t),Ep(r.errors,e)}if(u.touchedFields&&h&&Array.isArray(yf(r.touchedFields,e))){const t=n(yf(r.touchedFields,e),l.argA,l.argB);c&&_f(r.touchedFields,e,t)}u.dirtyFields&&(r.dirtyFields=pp(a,s)),d.state.next({name:e,isDirty:_(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _f(s,e,t)},_updateDisabledField:I,_getFieldArray:e=>gf(yf(o.mount?s:a,e,t.shouldUnregister?yf(a,e,[]):[])),_reset:F,_resetDefaultValues:()=>Yf(n.defaultValues)&&n.defaultValues().then((e=>{U(e,n.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{bf(e)&&(d.state.next({disabled:e}),Gf(i,((t,n)=>{const r=yf(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:u,_setErrors:e=>{r.errors=e,d.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(e){o=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:j,register:D,handleSubmit:M,watch:(e,t)=>Yf(e)?d.values.subscribe({next:n=>e(w(void 0,t),n)}):w(e,t,!0),setValue:C,getValues:N,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yf(i,e)&&(vf(t.defaultValue)?C(e,mf(yf(a,e))):(C(e,t.defaultValue),_f(a,e,mf(t.defaultValue))),t.keepTouched||ip(r.touchedFields,e),t.keepDirty||(ip(r.dirtyFields,e),r.isDirty=t.defaultValue?_(e,mf(yf(a,e))):_()),t.keepError||(ip(r.errors,e),u.isValid&&m()),d.state.next({...r}))},clearErrors:e=>{e&&Df(e).forEach((e=>ip(r.errors,e))),d.state.next({errors:e?r.errors:{}})},unregister:P,setError:R,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=yf(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:L}}function kp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.useRef(),r=t.useRef(),[i,a]=t.useState({isDirty:!1,isValidating:!1,isLoading:Yf(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Yf(e.defaultValues)?void 0:e.defaultValues});n.current||(n.current={...Cp(e),formState:i});const s=n.current.control;return s._options=e,Of({subject:s._subjects.state,next:e=>{If(e,s._proxyFormState,s._updateFormState,!0)&&a({...s._formState})}}),t.useEffect((()=>s._disableForm(e.disabled)),[s,e.disabled]),t.useEffect((()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==i.isDirty&&s._subjects.state.next({isDirty:e})}}),[s,i.isDirty]),t.useEffect((()=>{e.values&&!op(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,a((e=>({...e})))):s._resetDefaultValues()}),[e.values,s]),t.useEffect((()=>{e.errors&&s._setErrors(e.errors)}),[e.errors,s]),t.useEffect((()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()})),t.useEffect((()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})}),[e.shouldUnregister,s]),n.current.formState=Rf(i,s),n.current}var Ap,jp=n(393),Np="https://js.stripe.com/v3",Lp=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Rp="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Pp=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Np).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},Ip=null,Dp=null,Op=null,Mp=function(e){return null!==Ip?Ip:(Ip=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(Rp),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Np,'"]')),t=0;t<e.length;t++){var n=e[t];if(Lp.test(n.src))return n}return null}();if(r&&e)console.warn(Rp);else if(r){if(r&&null!==Op&&null!==Dp){var i;r.removeEventListener("load",Op),r.removeEventListener("error",Dp),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=Pp(e)}}else r=Pp(e);Op=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),Dp=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",Op),r.addEventListener("error",Dp)}catch(a){return void n(a)}else t(null)})),Ip.catch((function(e){return Ip=null,Promise.reject(e)})))},Fp=!1,Up=function(){return Ap||(Ap=Mp(null).catch((function(e){return Ap=null,Promise.reject(e)})))};Promise.resolve().then((function(){return Up()})).catch((function(e){Fp||console.warn(e)}));var $p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Fp=!0;var r=Date.now();return Up().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"4.3.0",startTime:t})}(r,n),r}(e,t,r)}))};const Bp=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,At.jsx)("div",{className:"StripeModal-overlay modal-overlay",children:(0,At.jsxs)("div",{className:"modal-content",children:[(0,At.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"}),r]})}):null};var Gp,Hp=n(360);!function(e){e.UK="UK",e.GB="GB",e.JE="JE",e.GG="GG",e.IM="IM",e.US="US",e.CA="CA",e.IE="IE",e.DE="DE",e.JP="JP",e.FR="FR",e.AU="AU",e.IT="IT",e.CH="CH",e.AT="AT",e.ES="ES",e.NL="NL",e.BE="BE",e.DK="DK",e.SE="SE",e.NO="NO",e.BR="BR",e.PT="PT",e.FI="FI",e.AX="AX",e.KR="KR",e.CN="CN",e.TW="TW",e.SG="SG",e.DZ="DZ",e.AD="AD",e.AR="AR",e.AM="AM",e.AZ="AZ",e.BH="BH",e.BD="BD",e.BB="BB",e.BY="BY",e.BM="BM",e.BA="BA",e.IO="IO",e.BN="BN",e.BG="BG",e.KH="KH",e.CV="CV",e.CL="CL",e.CR="CR",e.HR="HR",e.CY="CY",e.CZ="CZ",e.DO="DO",e.EC="EC",e.EG="EG",e.EE="EE",e.FO="FO",e.GE="GE",e.GR="GR",e.GL="GL",e.GT="GT",e.HT="HT",e.HN="HN",e.HU="HU",e.IS="IS",e.IN="IN",e.ID="ID",e.IL="IL",e.JO="JO",e.KZ="KZ",e.KE="KE",e.KW="KW",e.KY="KY",e.LA="LA",e.LV="LV",e.LB="LB",e.LI="LI",e.LT="LT",e.LU="LU",e.MK="MK",e.MY="MY",e.MV="MV",e.MT="MT",e.MU="MU",e.MX="MX",e.MD="MD",e.MC="MC",e.MA="MA",e.NP="NP",e.NZ="NZ",e.NI="NI",e.NG="NG",e.OM="OM",e.PA="PA",e.PK="PK",e.PY="PY",e.PH="PH",e.PL="PL",e.PR="PR",e.RO="RO",e.RU="RU",e.SM="SM",e.SA="SA",e.SN="SN",e.SK="SK",e.SI="SI",e.ZA="ZA",e.LK="LK",e.TJ="TJ",e.TH="TH",e.TN="TN",e.TR="TR",e.TM="TM",e.UA="UA",e.UY="UY",e.UZ="UZ",e.VA="VA",e.VE="VE",e.ZM="ZM",e.AS="AS",e.CC="CC",e.CK="CK",e.RS="RS",e.ME="ME",e.CS="CS",e.YU="YU",e.CX="CX",e.ET="ET",e.FK="FK",e.NF="NF",e.FM="FM",e.GF="GF",e.GN="GN",e.GP="GP",e.GS="GS",e.GU="GU",e.GW="GW",e.HM="HM",e.IQ="IQ",e.KG="KG",e.LR="LR",e.LS="LS",e.MG="MG",e.MH="MH",e.MN="MN",e.MP="MP",e.MQ="MQ",e.NC="NC",e.NE="NE",e.VI="VI",e.VN="VN",e.PF="PF",e.PG="PG",e.PM="PM",e.PN="PN",e.PW="PW",e.RE="RE",e.SH="SH",e.SJ="SJ",e.SO="SO",e.SZ="SZ",e.TC="TC",e.WF="WF",e.XK="XK",e.YT="YT",e.PE="PE",e.GI="GI",e.BT="BT",e.AL="AL",e.CU="CU",e.UM="UM",e.AI="AI",e.AF="AF",e.SD="SD",e.VC="VC",e.TA="TA",e.NA="NA",e.EH="EH",e.BL="BL",e.TZ="TZ",e.AC="AC",e.VG="VG",e.MZ="MZ",e.MF="MF",e.MM="MM",e.SV="SV",e.IR="IR",e.INTL="INTL",e.CO="CO"}(Gp||(Gp={}));const zp=new Map([[Gp.UK,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[Gp.GB,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[Gp.JE,/^JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[Gp.GG,/^GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[Gp.IM,/^IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[Gp.US,/^([0-9]{5})(?:-([0-9]{4}))?$/],[Gp.CA,/^([ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ])\s*([0-9][ABCEGHJKLMNPRSTVWXYZ][0-9])$/i],[Gp.IE,/^([AC-FHKNPRTV-Y][0-9]{2}|D6W)[ -]?[0-9AC-FHKNPRTV-Y]{4}$/],[Gp.DE,/^\d{5}$/],[Gp.JP,/^\d{3}-\d{4}$/],[Gp.FR,/^\d{2}[ ]?\d{3}$/],[Gp.AU,/^\d{4}$/],[Gp.IT,/^\d{5}$/],[Gp.CH,/^\d{4}$/],[Gp.AT,/^(?!0)\d{4}$/],[Gp.ES,/^(?:0[1-9]|[1-4]\d|5[0-2])\d{3}$/],[Gp.NL,/^\d{4}[ ]?[A-Z]{2}$/],[Gp.BE,/^\d{4}$/],[Gp.DK,/^\d{4}$/],[Gp.SE,/^(SE-)?\d{3}[ ]?\d{2}$/],[Gp.NO,/^\d{4}$/],[Gp.BR,/^\d{5}[\-]?\d{3}$/],[Gp.PT,/^\d{4}([\-]\d{3})?$/],[Gp.FI,/^(FI-|AX-)?\d{5}$/],[Gp.AX,/^22\d{3}$/],[Gp.KR,/^\d{5}$/],[Gp.CN,/^\d{6}$/],[Gp.TW,/^\d{3}(\d{2,3})?$/],[Gp.SG,/^\d{6}$/],[Gp.DZ,/^\d{5}$/],[Gp.AD,/^AD\d{3}$/],[Gp.AR,/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/],[Gp.AM,/^(37)?\d{4}$/],[Gp.AZ,/^\d{4}$/],[Gp.BH,/^((1[0-2]|[2-9])\d{2})?$/],[Gp.BD,/^\d{4}$/],[Gp.BB,/^(BB\d{5})?$/],[Gp.BY,/^\d{6}$/],[Gp.BM,/^[A-Z]{2}[ ]?[A-Z0-9]{2}$/],[Gp.BA,/^\d{5}$/],[Gp.IO,/^BBND 1ZZ$/],[Gp.BN,/^[A-Z]{2}[ ]?\d{4}$/],[Gp.BG,/^\d{4}$/],[Gp.KH,/^\d{5}$/],[Gp.CV,/^\d{4}$/],[Gp.CL,/^\d{7}$/],[Gp.CR,/^(\d{4,5}|\d{3}-\d{4})$/],[Gp.HR,/^(HR-)?\d{5}$/],[Gp.CY,/^\d{4}$/],[Gp.CZ,/^\d{3}[ ]?\d{2}$/],[Gp.DO,/^\d{5}$/],[Gp.EC,/^([A-Z]\d{4}[A-Z]|(?:[A-Z]{2})?\d{6})?$/],[Gp.EG,/^\d{5}$/],[Gp.EE,/^\d{5}$/],[Gp.FO,/^\d{3}$/],[Gp.GE,/^\d{4}$/],[Gp.GR,/^\d{3}[ ]?\d{2}$/],[Gp.GL,/^39\d{2}$/],[Gp.GT,/^\d{5}$/],[Gp.HT,/^\d{4}$/],[Gp.HN,/^(?:\d{5})?$/],[Gp.HU,/^\d{4}$/],[Gp.IS,/^\d{3}$/],[Gp.IN,/^\d{6}$/],[Gp.ID,/^\d{5}$/],[Gp.IL,/^\d{5,7}$/],[Gp.JO,/^\d{5}$/],[Gp.KZ,/^\d{6}$/],[Gp.KE,/^\d{5}$/],[Gp.KW,/^\d{5}$/],[Gp.KY,/^KY[123]-\d{4}$/],[Gp.LA,/^\d{5}$/],[Gp.LV,/^(LV-)?\d{4}$/],[Gp.LB,/^(\d{4}([ ]?\d{4})?)?$/],[Gp.LI,/^(948[5-9])|(949[0-7])$/],[Gp.LT,/^(LT-)?\d{5}$/],[Gp.LU,/^(L-)?\d{4}$/],[Gp.MK,/^\d{4}$/],[Gp.MY,/^\d{5}$/],[Gp.MV,/^\d{5}$/],[Gp.MT,/^[A-Z]{3}[ ]?\d{2,4}$/],[Gp.MU,/^((\d|[A-Z])\d{4})?$/],[Gp.MX,/^\d{5}$/],[Gp.MD,/^\d{4}$/],[Gp.MC,/^980\d{2}$/],[Gp.MA,/^\d{5}$/],[Gp.NP,/^\d{5}$/],[Gp.NZ,/^\d{4}$/],[Gp.NI,/^((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?$/],[Gp.NG,/^(\d{6})?$/],[Gp.OM,/^(PC )?\d{3}$/],[Gp.PA,/^\d{4}$/],[Gp.PK,/^\d{5}$/],[Gp.PY,/^\d{4}$/],[Gp.PH,/^\d{4}$/],[Gp.PL,/^\d{2}-\d{3}$/],[Gp.PR,/^00[679]\d{2}([ \-]\d{4})?$/],[Gp.RO,/^\d{6}$/],[Gp.RU,/^\d{6}$/],[Gp.SM,/^4789\d$/],[Gp.SA,/^\d{5}$/],[Gp.SN,/^\d{5}$/],[Gp.SK,/^\d{3}[ ]?\d{2}$/],[Gp.SI,/^(SI-)?\d{4}$/],[Gp.ZA,/^\d{4}$/],[Gp.LK,/^\d{5}$/],[Gp.TJ,/^\d{6}$/],[Gp.TH,/^\d{5}$/],[Gp.TN,/^\d{4}$/],[Gp.TR,/^\d{5}$/],[Gp.TM,/^\d{6}$/],[Gp.UA,/^\d{5}$/],[Gp.UY,/^\d{5}$/],[Gp.UZ,/^\d{6}$/],[Gp.VA,/^00120$/],[Gp.VE,/^\d{4}$/],[Gp.ZM,/^\d{5}$/],[Gp.AS,/^96799$/],[Gp.CC,/^6799$/],[Gp.CK,/^\d{4}$/],[Gp.RS,/^\d{5,6}$/],[Gp.ME,/^8\d{4}$/],[Gp.CS,/^\d{5}$/],[Gp.YU,/^\d{5}$/],[Gp.CX,/^6798$/],[Gp.ET,/^\d{4}$/],[Gp.FK,/^FIQQ 1ZZ$/],[Gp.NF,/^2899$/],[Gp.FM,/^(9694[1-4])([ \-]\d{4})?$/],[Gp.GF,/^9[78]3\d{2}$/],[Gp.GN,/^\d{3}$/],[Gp.GP,/^9[78][01]\d{2}$/],[Gp.GS,/^SIQQ 1ZZ$/],[Gp.GU,/^969[123]\d([ \-]\d{4})?$/],[Gp.GW,/^\d{4}$/],[Gp.HM,/^\d{4}$/],[Gp.IQ,/^\d{5}$/],[Gp.KG,/^\d{6}$/],[Gp.LR,/^\d{4}$/],[Gp.LS,/^\d{3}$/],[Gp.MG,/^\d{3}$/],[Gp.MH,/^969[67]\d([ \-]\d{4})?$/],[Gp.MN,/^\d{5}$/],[Gp.MP,/^9695[012]([ \-]\d{4})?$/],[Gp.MQ,/^9[78]2\d{2}$/],[Gp.NC,/^988\d{2}$/],[Gp.NE,/^\d{4}$/],[Gp.VI,/^008(([0-4]\d)|(5[01]))([ \-]\d{4})?$/],[Gp.VN,/^\d{6}$/],[Gp.PF,/^987\d{2}$/],[Gp.PG,/^\d{3}$/],[Gp.PM,/^9[78]5\d{2}$/],[Gp.PN,/^PCRN 1ZZ$/],[Gp.PW,/^96940$/],[Gp.RE,/^9[78]4\d{2}$/],[Gp.SH,/^(ASCN|STHL) 1ZZ$/],[Gp.SJ,/^\d{4}$/],[Gp.SO,/^\d{5}$/],[Gp.SZ,/^[HLMS]\d{3}$/],[Gp.TC,/^TKCA 1ZZ$/],[Gp.WF,/^986\d{2}$/],[Gp.XK,/^\d{5}$/],[Gp.YT,/^976\d{2}$/],[Gp.GI,/^GX11 1AA/],[Gp.BT,/^\d{5}/],[Gp.AL,/^\d{4}/],[Gp.CU,/^\d{5}/],[Gp.UM,/^96898/],[Gp.AI,/^(?:AI-)?2640/],[Gp.AF,/^\d{4}/],[Gp.SD,/^\d{5}/],[Gp.VC,/^VC\d{4}/],[Gp.TA,/^TDCU 1ZZ/],[Gp.NA,/^\d{5}/],[Gp.EH,/^\d{5}/],[Gp.BL,/^9[78][01]\d{2}/],[Gp.TZ,/^\d{4,5}/],[Gp.AC,/^ASCN 1ZZ/],[Gp.VG,/^VG\d{4}/],[Gp.MZ,/^\d{4}/],[Gp.MF,/^9[78][01]\d{2}/],[Gp.MM,/^\d{5}/],[Gp.SV,/^CP [1-3][1-7][0-2]\d/],[Gp.IR,/^\d{5}-?\d{5}/],[Gp.PE,/^[0-2]\d{4}$/],[Gp.INTL,/^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/i],[Gp.CO,/^(0[58]|1[135789]|2[0357]|4[147]|5[024]|6[368]|7[036]|8[1568]|9[4579])\d{4}$/]]),Yp=e=>{let{clientSecret:n,apiToken:r,couponOwnerId:i,gateway:a,orderNum:s,shipmentRateObj:o,isOpen:l,onClose:c}=e;const u=(0,jp.useStripe)(),d=(0,jp.useElements)(),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(!1),[x,S]=(0,t.useState)(""),[_,w]=(0,t.useState)(""),[E,T]=(0,t.useState)(""),[C,k]=(0,t.useState)(""),A=(0,Bt.Zp)(),{clearCart:j}=Nt(),{logout:N}=It(),[L,R]=(0,t.useState)([]),[P,I]=(0,t.useState)(""),[D,O]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{const e=await(0,Hp.GetCountries)();R(e)})()}),[]);const M=e=>{e&&(I(e.iso2),O(e.name))};return(0,At.jsx)(Bp,{isOpen:l,onClose:c,className:"payment-modal",children:(0,At.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m(!0),!u||!d)return v("Stripe.js has not yet loaded. Please try again later."),void m(!1);const t=((e,t)=>{if(!zp.has(t))throw Error(`Invalid country code: ${t}`);return zp.get(t).test(e)})(_,P);if(!t)return v(`Invalid postal code for ${D}`),void m(!1);v(null);try{const{error:e,paymentIntent:t}=await u.confirmCardPayment(n,{payment_method:{card:d.getElement(jp.CardNumberElement),billing_details:{name:x,address:{postal_code:_,country:P}}}});if(e)v(`Payment failed: ${e.message}`),A("/payment-failed",{state:{error:e.message}});else if(t)switch(t.status){case"succeeded":b(!0);const e=await yt.post("/payment/confirm_payment",{api_token:r,coupon_owner_id:i.toString(),gateway:a||"Stripe",order_num:s,payment_id:t.id,shipment_rate_obj:o});if(200===e.data.status){j();const n=await yt.post("/cart/create_cart",{api_token:r}),{cart_id:i,order_num:a,item_count:s}=n.data.cart_data;localStorage.setItem("cart_id",i),localStorage.setItem("order_num",a),localStorage.setItem("item_count",s),localStorage.setItem("cartCount",s);if("shopper"!==localStorage.getItem("userRole"))return void A("/home");A(`/payment-details/${e.data.order_id}`,{state:{paymentIntent:t}})}else{if(401===e.data.status)return N(),void A("/home");v("Payment confirmation failed.")}break;case"processing":v("Your payment is processing. You will be notified once it is confirmed.");break;case"requires_payment_method":v("Payment failed. Please try another payment method."),A("/payment-failed",{state:{error:"Requires new payment method"}});break;default:v("Something went wrong. Please try again."),A("/payment-failed",{state:{error:"Unknown error occurred"}})}}catch(g){v(`An unexpected error occurred: ${g.message}`),A("/payment-failed",{state:{error:g.message}})}m(!1)},className:"payment-form",children:[(0,At.jsx)("h2",{children:"Add your payment information"}),(0,At.jsxs)("div",{className:"card-info",children:[(0,At.jsx)("label",{htmlFor:"card-info",children:"Card Details"}),(0,At.jsx)("input",{id:"name-on-card",type:"text",value:x,onChange:e=>S(e.target.value),placeholder:"Name on Card",required:!0}),(0,At.jsx)("div",{className:"form-field",children:(0,At.jsx)(jp.CardNumberElement,{id:"card-number",className:"card-number",options:{placeholder:"Card Number",style:{base:{color:"#FFFFFF",fontFamily:"Arial, sans-serif",fontSize:"14px","::placeholder":{color:"#D3D3D3",content:"Card Number"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}})}),(0,At.jsxs)("div",{className:"form-field cvv-exp",children:[(0,At.jsx)(jp.CardExpiryElement,{id:"expiry-date",options:{style:{base:{color:"#FFFFFF",fontFamily:"Arial, sans-serif",fontSize:"14px","::placeholder":{color:"#D3D3D3"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}}),(0,At.jsx)(jp.CardCvcElement,{id:"cvc",options:{style:{base:{color:"#FFFFFF",fontFamily:"Arial, sans-serif",fontSize:"14px","::placeholder":{color:"#D3D3D3"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}})]})]}),(0,At.jsxs)("div",{className:"form-field",children:[(0,At.jsx)("label",{htmlFor:"postal-code",children:"Billing Address"}),(0,At.jsxs)("select",{onChange:e=>{const t=e.target.selectedIndex,n=e.target.value;M(""===n?null:L[t-1])},value:P,defaultValue:P,children:[(0,At.jsx)("option",{value:"",children:"Select Country"}),L.map(((e,t)=>(0,At.jsx)("option",{value:e.iso2,children:e.name},t)))]}),(0,At.jsx)("input",{id:"postal-code",type:"text",value:_,onChange:e=>w(e.target.value),placeholder:"Postal Code"})]}),(0,At.jsx)("button",{type:"submit",disabled:!u||p,children:p?"Processing...":"Pay Now"}),g&&(0,At.jsx)("div",{className:"error-message",children:g}),y&&(0,At.jsx)("div",{className:"success-message",children:"Payment succeeded!"})]})})},Wp=e=>{let{CheckoutorderData:n,showModal:r,handleCloseModal:i}=e;const a=(0,Bt.Zp)(),{logout:s}=It(),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[b,x]=(0,t.useState)(null),[S,_]=(0,t.useState)(""),[w,E]=(0,t.useState)("");localStorage.getItem("apiToken"),localStorage.getItem("order_num");return(0,t.useEffect)((()=>{if(v){(async()=>{const e=await $p(v);x(e)})()}}),[v]),(0,t.useEffect)((()=>{n&&(async()=>{l(!0),u(null);try{console.log(n,"CheckoutorderData");const e=await yt.post("/payment/create_order",n);if(console.log(e,"CheckoutorderData_response"),200===e.data.status){const t=e.data.order_data;h(t.id),p(t.id);const n=e.data.gateway_details;"stripe"===n.gateway_provider.toLowerCase()&&(g(t.paymentIntent),y(t.publishableKey),_(n.gateway_provider),E(n.gateway_seashels_logo))}else{if(401===e.data.status)return s(),void a("/home");403===e.data.status?u("Coupon code expired. Kindly remove it to continue."):u("Please try again later.")}}catch(c){u("An error occurred while processing your request.")}finally{l(!1)}})()}),[n]),(0,At.jsx)(At.Fragment,{children:m&&b&&(0,At.jsx)(jp.Elements,{stripe:b,className:"payment-modal-subelement",children:(0,At.jsx)(Yp,{clientSecret:m,apiToken:n.api_token,couponOwnerId:n.coupon_owner_id,gateway:n.gateway,orderNum:n.order_num,shipmentRateObj:n.shipment_rate_obj,isOpen:r,onClose:i})})})},Vp=()=>(0,At.jsxs)("div",{className:"skeleton-loading checkout",children:[(0,At.jsx)("div",{className:"skeleton-row field-row",children:(0,At.jsx)("div",{className:"skeleton-input field"})}),(0,At.jsx)("div",{className:"skeleton-row",children:(0,At.jsx)("div",{className:"skeleton-input"})}),(0,At.jsx)("div",{className:"skeleton-row",children:(0,At.jsx)("div",{className:"skeleton-input"})}),(0,At.jsx)("div",{className:"skeleton-row",children:(0,At.jsx)("div",{className:"skeleton-input"})}),(0,At.jsx)("div",{className:"skeleton-row",children:(0,At.jsx)("div",{className:"skeleton-input"})}),(0,At.jsx)("div",{className:"skeleton-row",children:(0,At.jsx)("div",{className:"skeleton-select"})}),(0,At.jsx)("div",{className:"skeleton-row",children:(0,At.jsx)("div",{className:"skeleton-select"})}),(0,At.jsxs)("div",{className:"skeleton-row",children:[(0,At.jsx)("div",{className:"skeleton-input"}),(0,At.jsx)("div",{className:"skeleton-select"})]}),(0,At.jsx)("div",{className:"skeleton-button"})]}),Kp=e=>{var n,r;let{existingAddress:i,addAddress:a}=e;const[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("US"),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[x,S]=(0,t.useState)(""),[_,w]=(0,t.useState)([]),[E,T]=(0,t.useState)([]),[C,k]=(0,t.useState)([]),[A,j]=(0,t.useState)(null),[N,L]=(0,t.useState)(!0);console.log(i,"existingAddress");const{register:R,handleSubmit:P,reset:I,setValue:D,formState:{errors:O}}=kp({defaultValues:{name:"",email:"",phone:"",address_1:"",address_2:"",state:"",zipcode:"",city:"",country:""}});(0,t.useEffect)((()=>{var e;if((null===i||void 0===i||null===(e=i.user_address)||void 0===e?void 0:e.length)>0){const e=i.user_address[0]||{};console.log(e,"Existing Address Data"),o(e.phone||""),S(e.zipcode||""),c(e.country_code||""),f(e.country_name||""),m(e.state||""),b(e.city||""),I({name:e.shipping_name||"",email:e.user_address_email||"",address_1:e.address_1||"",address_2:e.address_2||"",state:e.state||"",zipcode:e.zipcode||"",city:e.city||"",country:e.country_name||""}),(0,Hp.GetCountries)().then((t=>{w(t);const n=t.find((t=>t.iso2===e.country_code));console.log(t,"Fetched Countries"),n?(D("country",n.iso2),d(n.id),c(n.iso2),console.log(n,"Matched Country"),(0,Hp.GetState)(n.id).then((t=>{T(t),D("state",e.state||""),console.log(t,"stateResult");const n=t.find((t=>t.name===e.state));console.log(n,"Fetched matchedState"),n&&(D("state",n.name),m(n.name),console.log(n,"Matched Country"),(0,Hp.GetCity)(u,n.id).then((t=>{console.log(t,"Fetched CityResult"),k(t),D("city",e.city||"");const n=t.find((t=>t.name===e.city));console.log(n,"Fetched matchedCity"),n&&(D("city",n.name),v(n.id),b(n.name))})))}))):D("country","")}))}else(0,Hp.GetCountries)().then((e=>{w(e);const t=e.find((e=>e.iso2===l));console.log(t,"Fetched matchedCountry"),t?(D("country",t.iso2),d(t.id),c(t.iso2),console.log(t,"Matched Country"),(0,Hp.GetState)(t.id).then((e=>{T(e),D("state","")})).catch((e=>{console.error("Error fetching states:",e),T([])}))):(console.warn("No matched country found for code:",l),D("country",""),d(null),c(""),T([]))})).catch((e=>{console.error("Error fetching countries:",e),w([])}))}),[i,I,D]);const M=e=>{console.log(e,"country"),e&&(d(e.id),c(e.iso2),f(e.name),D("country",e.iso2),m(""),v(""),k([]),(0,Hp.GetState)(e.id).then((e=>{T(e),D("state",""),D("city","")})),I((t=>({...t,state:"",city:"",country:e.iso2}))))},F=e=>{console.log(e,"state"),e&&(m(e.name),(0,Hp.GetCity)(u,e.id).then((e=>{k(e),D("city","")})),I((t=>({...t,city:"",state:e.name}))))},U=e=>{console.log(e,"event"),e&&(v(e.id),b(e.name),I((t=>({...t,city:e.name}))))};console.log(_,"countriesList");return(0,t.useEffect)((()=>{_.length>0&&L(!1)}),[_]),(0,At.jsx)("div",{className:"checkout-form",children:N?(0,At.jsx)(Vp,{}):(0,At.jsxs)("form",{className:"checkout",onSubmit:P((e=>{var t;if(e.phone=s,e.country_code=l,e.country=h,console.log(e,"data with phone value"),(null===i||void 0===i||null===(t=i.user_address)||void 0===t?void 0:t.length)>0){const t={address_id:(i.user_address[0]||{}).address_id||"",...e};a(t)}else a(e)})),children:[(0,At.jsx)("div",{className:"field-row two",children:(0,At.jsxs)("div",{className:"field",children:[(0,At.jsx)("input",{type:"text",placeholder:"Full Name",...R("name",{required:!0})}),O.name&&(0,At.jsx)("p",{className:"errorMsg",children:"Full Name is required."})]})}),(0,At.jsx)("div",{className:"field-row",children:(0,At.jsxs)("div",{className:"field",children:[(0,At.jsx)("input",{type:"text",placeholder:"Email",...R("email",{required:!0,pattern:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/})}),O.email&&(0,At.jsx)("p",{className:"errorMsg",children:"Email is required."}),"pattern"===(null===(n=O.email)||void 0===n?void 0:n.type)&&(0,At.jsx)("p",{className:"errorMsg",children:"Email is not valid."})]})}),(0,At.jsx)("div",{className:"field-row",children:(0,At.jsxs)("div",{className:"field",children:[(0,At.jsx)(Xc(),{country:"us",value:s,onChange:e=>{const t=e.replace(/^\+/,"");o(t),D("phone",t)},inputStyle:{width:"100%"},disabledCountryCode:!0,inputProps:{name:"phone",autoComplete:"off"}}),O.phone&&(0,At.jsx)("p",{className:"errorMsg",children:"Phone number is required."})]})}),(0,At.jsx)("div",{className:"field-row",children:(0,At.jsx)("div",{className:"field",children:(0,At.jsx)("input",{type:"text",placeholder:"Address 1",...R("address_1")})})}),(0,At.jsx)("div",{className:"field-row",children:(0,At.jsx)("div",{className:"field",children:(0,At.jsx)("input",{type:"text",placeholder:"Address 2",...R("address_2")})})}),(0,At.jsx)("div",{className:"field-row",children:(0,At.jsxs)("div",{className:"field",children:[(0,At.jsxs)("select",{...R("country",{required:!0}),onChange:e=>{const t=e.target.selectedIndex,n=e.target.value;M(""===n?null:_[t-1])},value:l,defaultValue:l,children:[(0,At.jsx)("option",{value:"",children:"Select Country"}),_.map(((e,t)=>(0,At.jsx)("option",{value:e.iso2,children:e.name},t)))]}),O.country&&(0,At.jsx)("p",{className:"errorMsg",children:"Country is required."})]})}),(0,At.jsx)("div",{className:"field-row",children:(0,At.jsxs)("div",{className:"field",children:[(0,At.jsxs)("select",{...R("state",{required:!0}),onChange:e=>{const t=e.target.value,n=e.target.selectedIndex;F(""===t?null:E[n-1])},value:p,children:[(0,At.jsx)("option",{value:"",children:"Select State"})," ",E.map(((e,t)=>(0,At.jsx)("option",{value:e.name,children:e.name},t)))]}),O.state&&(0,At.jsx)("p",{className:"errorMsg",children:"State is required."})]})}),(0,At.jsxs)("div",{className:"field-row two",children:[(0,At.jsxs)("div",{className:"field",children:[(0,At.jsx)("input",{type:"text",placeholder:"Postal Code",name:"zipcode",...R("zipcode",{required:!0}),onChange:e=>(async e=>{if(e)try{const t=await fetch(`https://nominatim.openstreetmap.org/search?postalcode=${e}&format=json&addressdetails=1`),n=await t.json();if(console.log(n,"Response from Nominatim"),console.log(n.length,"Response from data.length "),n.length>0){j(null);const e=n.find((e=>{const{address:t}=e,n=(null===t||void 0===t?void 0:t.village)||(null===t||void 0===t?void 0:t.city)||(null===t||void 0===t?void 0:t.town)||(null===t||void 0===t?void 0:t.suburb)||(null===t||void 0===t?void 0:t.state_district)||null,r=(null===t||void 0===t?void 0:t.state)||null;return((null===t||void 0===t?void 0:t.country)?r:null)&&n}));console.log(e,"matchedData");const{address:t}=e,r=(null===t||void 0===t?void 0:t.village)||(null===t||void 0===t?void 0:t.city)||(null===t||void 0===t?void 0:t.town)||(null===t||void 0===t?void 0:t.suburb)||(null===t||void 0===t?void 0:t.state_district)||null,i=(null===t||void 0===t?void 0:t.state_district)||(null===t||void 0===t?void 0:t.district)||null,a=(null===t||void 0===t?void 0:t.state)||null,s=(null===t||void 0===t?void 0:t.country)||null,o=(null===t||void 0===t?void 0:t.country_code)||null;console.log("Matched address:",{cityName:r,districtName:i,stateName:a,countryName:s,country_code:o}),(0,Hp.GetCountries)().then((e=>{w(e);const t=e.find((e=>e.name===s));console.log(t,"posttal Fetched matchedCountry"),t?(D("country",t.iso2),d(t.id),c(t.iso2),console.log(t,"Matched Country"),(0,Hp.GetState)(t.id).then((e=>{T(e),D("state",a||""),console.log(e,"Fetched States");const n=e.find((e=>e.name===a));n?(D("state",n.name),m(n.name),console.log(n,"Matched State"),(0,Hp.GetCity)(t.id,n.id).then((e=>{k(e),D("city",r||""),console.log(e,"Fetched Cities");const t=e.find((e=>e.name===r));t?(D("city",t.name),v(t.id),b(t.name)):D("city","")}))):D("state","")}))):D("country","")}))}else j("No results found")}catch(Cm){j("Error fetching location data")}else j("Postal code is empty")})(e.target.value)}),O.zipcode&&(0,At.jsx)("p",{className:"errorMsg",children:"Postal Code is required."})]}),(0,At.jsxs)("div",{className:"field",children:[(0,At.jsx)("input",{type:"text",placeholder:"Enter City",...R("city",{required:!0}),onChange:e=>{const t=e.target.value,n=C.find((e=>e.name.toLowerCase()===t.toLowerCase()));U(n||null)},value:y}),O.city&&(0,At.jsx)("p",{className:"errorMsg",children:"City is required."})]})]}),(0,At.jsx)("div",{children:(0,At.jsx)("button",{type:"submit",children:null!==i&&void 0!==i&&null!==(r=i.user_address)&&void 0!==r&&r.length?"Update Address":"Save and Continue"})})]})})},qp=()=>(0,At.jsxs)("div",{className:"skeleton-loader",children:[(0,At.jsx)("div",{className:"skeleton-item",style:{height:"520px",marginBottom:"10px"}}),(0,At.jsx)("div",{className:"skeleton-item",style:{height:"50px",marginBottom:"10px"}}),(0,At.jsx)("div",{className:"skeleton-item",style:{height:"50px",marginBottom:"10px"}}),(0,At.jsx)("div",{className:"skeleton-item",style:{height:"50px",marginBottom:"10px"}})]}),Xp=()=>{var e,n;const{existingAddress:r,addAddress:a,calculateCredit:s,currency:o,symbol:l,remaining:c,couponType:u,shippingData:d,shipObjectId:h,shipLocalAmount:f,totalAmount:p,totalIncludeShipping:m,showShipping:g}=(0,t.useContext)(Ut),[v,y]=(0,t.useState)(null),{logout:b}=It(),x=(0,Bt.Zp)(),[S,_]=(0,t.useState)(!1),[w,E]=(0,t.useState)(0),[T,C]=(0,t.useState)(m),[k,A]=(0,t.useState)(c),[j,N]=(0,t.useState)(0),[L,R]=(0,t.useState)(""),[P,I]=(0,t.useState)([]),[D,O]=(0,t.useState)(null),[M,F]=(0,t.useState)(""),[U,$]=(0,t.useState)({lat:null,lon:null}),[B,G]=(0,t.useState)(null),[H,z]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("order_num"),t=await yt.get("/cart/get_cart_details",{params:{api_token:localStorage.getItem("apiToken"),order_num:e}});if(console.log(t,"responseCheckout"),401===t.data.status)console.log("401"),b(),x("/home");else{if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);I(t.data.shopping_cart_data)}}catch(v){console.error("Failed to fetch cart details:",v),y(v.message)}finally{z(!1)}})()}),[]);const{register:Y,handleSubmit:W,reset:V,formState:{errors:K}}=kp({defaultValues:{name:"",email:"",phone:"",address_1:"",address_2:"",state:"",zipcode:"",city:"",country:""}});(0,t.useEffect)((()=>{var e;if((null===r||void 0===r||null===(e=r.user_address)||void 0===e?void 0:e.length)>0){const e=r.user_address[0]||{};R(e.phone),V({name:e.shipping_name||"",email:e.user_address_email||"",phone:e.phone||"",address_1:e.address_1||"",address_2:e.address_2||"",state:e.state||"",zipcode:e.zipcode||"",city:e.city||"",country:e.country||""})}}),[r,V]),(0,t.useEffect)((()=>{if(d.length>0){const e=parseFloat(d[0].amount_local);E(e),C(p+e)}}),[d,p]);const q=e=>`${l}${e.toFixed(2)}`,X=()=>{_(!1)};return(0,At.jsx)("div",{className:"main-content",children:(0,At.jsx)("div",{className:"container checkout",children:H?(0,At.jsx)(qp,{}):null!==r&&void 0!==r&&null!==(e=r.user_address)&&void 0!==e&&null!==(n=e[0])&&void 0!==n&&n.address_id?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("div",{className:"checkout-left active",children:[(0,At.jsx)("h2",{children:"Delivery Address"}),(0,At.jsxs)("div",{className:"checkout-alert",children:[(0,At.jsx)("img",{src:"/images/truck.svg",alt:"Delivery Truck"}),(0,At.jsxs)("div",{className:"info",children:[(0,At.jsx)("h4",{children:"We are here for you"}),(0,At.jsx)("span",{children:"Delivering safely to your door"})]})]}),(0,At.jsxs)("div",{className:"form-block fomr-block",children:[(0,At.jsx)("h4",{children:"Add Address"}),(0,At.jsx)(Kp,{existingAddress:r,addAddress:a})]})]}),(0,At.jsx)("div",{className:"checkout-right",children:(0,At.jsxs)("div",{className:"items-cart",children:[(0,At.jsx)("h3",{children:"Your Order"}),(0,At.jsxs)("div",{className:"apply",disabled:!0,children:[(0,At.jsx)("input",{type:"text",placeholder:"Enter Credit Code",disabled:!0}),(0,At.jsx)(i.N_,{to:"#",children:"Apply"})]}),(0,At.jsxs)("p",{className:"credit",children:["You can use up to ",(0,At.jsx)(i.N_,{to:"#",children:"0 credits"})," for this purchase"]}),(0,At.jsx)("p",{className:"check-detail",children:'Please enter in the above box the amount you would like to use and press "Apply Credits"'}),(0,At.jsxs)("div",{className:"delivery-option",children:[(0,At.jsx)("h4",{children:"Delivery Options"}),(0,At.jsx)("div",{className:"select-option",children:(0,At.jsx)("ul",{children:d.map(((e,t)=>(0,At.jsx)("li",{className:j===t?"active":"",children:(0,At.jsxs)("label",{children:[(0,At.jsx)("input",{type:"radio",className:`checkbox ${t} ${j===t?"active":""}`,name:"delivery-option",value:e.amount_local,checked:j===t,onChange:()=>((e,t)=>{const n=parseFloat(e);let r=0;r=0===p?n>c?n-c:0:p+n,E(n),C(r),N(t)})(e.amount_local,t)}),(0,At.jsxs)("span",{className:"text-",children:[e.Delivery_Time,(0,At.jsxs)("span",{children:[e.Currency,e.amount_local]})]})]})},t)))})})]}),(0,At.jsx)("table",{className:"total",children:(0,At.jsxs)("tbody",{children:[(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Subtotal"}),(0,At.jsx)("td",{children:q(m)})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Delivery"}),(0,At.jsx)("td",{children:q(w)})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:(0,At.jsx)("strong",{children:"Total"})}),(0,At.jsx)("td",{children:q(T||m)})]}),(0,At.jsx)("tr",{children:(0,At.jsx)("td",{colSpan:"2",className:"Place-Order",children:(0,At.jsx)("button",{className:"btn btn-primary stripe_payment for_open_popup",onClick:()=>{var e;localStorage.getItem("order_num");const t=localStorage.getItem("apiToken"),n={address_id:(null===r||void 0===r||null===(e=r.user_address)||void 0===e?void 0:e.length)>0?r.user_address[0].address_id:"",api_token:t,apply_credits:0,coupon_id:P.coupon_id,coupon_owner_id:P.coupon_owner_id,order_num:P.order_num,ship_local_amount:f,ship_object_id:h};O(n),_(!0)},children:"Place Order"})})})]})})]})}),S&&(0,At.jsx)(Wp,{CheckoutorderData:D,totalAmountData:T||m,symbol:l,showModal:S,handleCloseModal:X})]}):(0,At.jsxs)("div",{className:"checkout-left inactive",children:[(0,At.jsx)("h2",{children:"Delivery Address"}),(0,At.jsxs)("div",{className:"checkout-alert",children:[(0,At.jsx)("img",{src:"/images/truck.svg",alt:"Delivery Truck"}),(0,At.jsxs)("div",{className:"info",children:[(0,At.jsx)("h4",{children:"We are here for you"}),(0,At.jsx)("span",{children:"Delivering safely to your door"})]})]}),(0,At.jsxs)("div",{className:"form-block fomr-block",children:[(0,At.jsx)("h4",{children:"Add Address"}),(0,At.jsx)(Kp,{existingAddress:r,addAddress:a})]}),S&&(0,At.jsx)(Wp,{CheckoutorderData:D,totalAmountData:T||m,symbol:l,showModal:S,handleCloseModal:X})]})})})},Zp=()=>{var e;const{logout:n}=It(),r=(0,Bt.Zp)(),i=(0,Bt.zy)(),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),d=localStorage.getItem("apiToken"),h=null===(e=i.state)||void 0===e?void 0:e.order_id;return console.log("order_id",h),(0,t.useEffect)((()=>{(async()=>{try{const e=await yt.get("/commerce/get_user_receipts",{params:{api_token:d,order_id:h}}),t=e.data;if(401===e.data.status)return n(),void r("/home");if(t.receipt_data&&t.receipt_data.length>0){const e=t.receipt_data[0],n={order_id:e.order_id,order_date:e.order_date,total_price_inc_tax:e.total_price_inc_tax,total_tax:e.total_tax,total_unit_price:e.total_unit_price,total_discount:e.total_discount,total_amount_paid:e.total_amount_paid,shipping:e.shipping,coupon_value:e.coupon_value,items:e.item_list.map((t=>({order_number:t.order_num,product_title:t.product_title,product_image:t.product_url,quantity:t.quantity,price:t.unit_price,final_price:t.final_price,store_name:t.store_name,delivery_date:t.ship_eta,currency_symbol:e.currency_symbol})))};s(n)}else u("No order details found.")}catch(c){console.error("Error fetching order detail:",c),u("An error occurred while fetching order details.")}finally{l(!1)}})()}),[h,d]),console.log("orderDetail",a),c?(0,At.jsx)("div",{children:c}):a&&a.items&&0!==a.items.length?(0,At.jsxs)("div",{className:"order-detail container order-details-pg",children:[(0,At.jsx)("h2",{children:"Order Details"}),a&&(0,At.jsxs)("div",{className:"new-orderrow",children:[(0,At.jsx)("div",{className:"order-details",children:(0,At.jsxs)("div",{className:"store-order",children:[(0,At.jsxs)("div",{className:"top-details",children:[(0,At.jsx)("div",{className:"order-icon",children:(0,At.jsx)("img",{src:"/images/order-cart.png",alt:""})}),(0,At.jsx)("div",{className:"order-store",children:(0,At.jsxs)("ul",{children:[(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{children:(0,At.jsx)("strong",{children:"Store:"})}),(0,At.jsx)("span",{children:(0,At.jsx)("strong",{children:a.items[0].store_name})})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{children:"Order number: "}),(0,At.jsx)("span",{children:a.order_id})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("span",{children:"Order Date: "}),(0,At.jsx)("span",{children:new Date(a.order_date).toLocaleDateString()})]})]})})]}),a.items.map(((e,t)=>(0,At.jsxs)("div",{className:"product-row",children:[(0,At.jsx)("div",{className:"img-block",children:(0,At.jsx)("img",{src:e.product_image,alt:e.product_title})}),(0,At.jsxs)("div",{className:"product-details",children:[(0,At.jsx)("div",{className:"pro-name",children:(0,At.jsx)("h4",{children:e.product_title})}),(0,At.jsxs)("div",{className:"color",children:[(0,At.jsx)("span",{children:"Colour:"})," ",e.color_name||"N/A"]}),(0,At.jsxs)("div",{className:"size",children:[(0,At.jsx)("span",{children:"Size:"})," ",e.size_name||"N/A"]}),(0,At.jsxs)("div",{className:"quantity",children:[(0,At.jsx)("span",{children:"Qty:"})," ",e.quantity]}),(0,At.jsxs)("div",{className:"final-amount",children:[(0,At.jsxs)("span",{children:[e.currency_symbol,e.final_price]}),(0,At.jsxs)("span",{className:"main-pr",children:[e.currency_symbol,e.price]})]})]})]},t)))]})}),(0,At.jsx)("div",{className:"items-details",children:(0,At.jsxs)("table",{children:[(0,At.jsx)("thead",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("th",{align:"left",children:"Item Total Price (excluding tax)"}),(0,At.jsxs)("th",{align:"left",children:[a.items[0].currency_symbol,a.total_unit_price]})]})}),(0,At.jsxs)("tbody",{children:[(0,At.jsx)("tr",{children:(0,At.jsx)("td",{colSpan:"2",height:"20"})}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Taxes"}),(0,At.jsxs)("td",{children:[a.items[0].currency_symbol,a.total_tax]})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Total (Including tax)"}),(0,At.jsxs)("td",{children:[a.items[0].currency_symbol,a.total_price_inc_tax]})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Shipping"}),(0,At.jsxs)("td",{children:[a.items[0].currency_symbol,a.shipping]})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Coupon Applied"}),(0,At.jsxs)("td",{children:["-",a.items[0].currency_symbol,a.coupon_value]})]})]}),(0,At.jsx)("tfoot",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Total paid"}),(0,At.jsxs)("td",{children:[a.items[0].currency_symbol,a.total_amount_paid]})]})})]})})]})]}):(0,At.jsx)("div",{children:"No order details available."})},Qp=()=>{const[e,n]=(0,t.useState)([]),{logout:r}=It(),a=(0,Bt.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("apiToken"),t=await yt.get("/commerce/get_user_receipts",{params:{api_token:e,order_id:""}}),i=t.data;401===t.data.status&&(r(),a("/home"));const s=i.receipt_data.map((e=>{const t=e.item_list[0];return{order_id:e.order_id,quantity:t.quantity,price:t.unit_price,order_number:t.order_num,order_date:new Date(e.order_date),delivery_date:new Date(t.ship_eta),product_image:t.product_url,product_title:t.product_title,color:t.color_name,size:t.size_name,total_price_inc_tax:e.total_price_inc_tax,total_discount:e.total_discount}}));n(s)}catch(e){console.error("Error fetching data:",e)}})()}),[]);const s=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,At.jsx)("div",{className:"main-content",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("h2",{children:"My Order"}),(0,At.jsx)("div",{id:"order",className:"my-order-det",children:(0,At.jsxs)("table",{className:"cart",children:[(0,At.jsx)("thead",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("th",{children:"Order"}),(0,At.jsx)("th",{children:"Quantity"}),(0,At.jsx)("th",{children:"Price"}),(0,At.jsx)("th",{children:"Order Number"}),(0,At.jsx)("th",{children:"Order Date"}),(0,At.jsx)("th",{children:"Delivery Date"})]})}),(0,At.jsx)("tbody",{children:e.map(((e,t)=>(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{className:"order",children:(0,At.jsxs)(i.N_,{to:`/order/${e.order_id}`,className:"order-det",children:[(0,At.jsx)("img",{src:e.product_image,alt:e.product_title}),(0,At.jsxs)("div",{className:"order-attribute",children:[(0,At.jsx)("h5",{children:e.product_title}),(0,At.jsxs)("span",{children:["Colour: ",e.color]}),(0,At.jsxs)("span",{children:["Size: ",e.size]})]})]})}),(0,At.jsx)("td",{className:"qty",children:e.quantity}),(0,At.jsxs)("td",{className:"price",children:["$",e.price.toFixed(2)]}),(0,At.jsx)("td",{className:"order-number",children:e.order_id}),(0,At.jsx)("td",{className:"order-date",children:s(e.order_date)}),(0,At.jsx)("td",{className:"delivery-date",children:s(e.delivery_date)})]},t)))})]})})]})})},Jp=()=>(0,At.jsx)("div",{className:"main-content not-home",children:(0,At.jsx)("div",{className:"container order-pg",children:(0,At.jsxs)("div",{id:"order",children:[(0,At.jsxs)("ul",{className:"order-menu",children:[(0,At.jsx)("li",{className:"active",children:(0,At.jsx)(i.N_,{to:"#",children:"My Order"})}),(0,At.jsx)("li",{children:(0,At.jsx)(i.N_,{to:"/my-gift",children:"My Gift"})})]}),(0,At.jsxs)("table",{className:"cart",children:[(0,At.jsx)("thead",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("th",{children:"Order"}),(0,At.jsx)("th",{children:"Quality"}),(0,At.jsx)("th",{children:"Price"}),(0,At.jsx)("th",{children:"Order number"}),(0,At.jsx)("th",{children:"Order date"}),(0,At.jsx)("th",{children:"Delivery Data"})]})}),(0,At.jsxs)("tbody",{children:[(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{className:"order",children:(0,At.jsxs)("div",{className:"order-det",children:[(0,At.jsx)("img",{src:"/images/product-1.jpg",alt:"Product 1"}),(0,At.jsxs)("div",{className:"order-attribute",children:[(0,At.jsx)("h5",{children:"Tailored Stretch"}),(0,At.jsx)("span",{children:"Colour: orange "}),(0,At.jsx)("span",{children:"Size: XL"})]})]})}),(0,At.jsx)("td",{className:"qty",children:"1"}),(0,At.jsx)("td",{className:"price",children:"$999.00"}),(0,At.jsx)("td",{className:"order-number",children:"2345678901"}),(0,At.jsx)("td",{className:"order-date",children:"March 10, 2024"}),(0,At.jsx)("td",{className:"delivery-date",children:"March 18, 2024"})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{className:"order",children:(0,At.jsxs)("div",{className:"order-det",children:[(0,At.jsx)("img",{src:"/images/product-2.jpg",alt:"Product 2"}),(0,At.jsxs)("div",{className:"order-attribute",children:[(0,At.jsx)("h5",{children:"Tailored Stretch"}),(0,At.jsx)("span",{children:"Colour: orange "}),(0,At.jsx)("span",{children:"Size: XL"})]})]})}),(0,At.jsx)("td",{className:"qty",children:"2"}),(0,At.jsx)("td",{className:"price",children:"$999.00"}),(0,At.jsx)("td",{className:"order-number",children:"2345678901"}),(0,At.jsx)("td",{className:"order-date",children:"March 10, 2024"}),(0,At.jsx)("td",{className:"delivery-date",children:"March 18, 2024"})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{className:"order",children:(0,At.jsxs)("div",{className:"order-det",children:[(0,At.jsx)("img",{src:"/images/product-3.jpg",alt:"Product 3"}),(0,At.jsxs)("div",{className:"order-attribute",children:[(0,At.jsx)("h5",{children:"Tailored Stretch"}),(0,At.jsx)("span",{children:"Colour: orange "}),(0,At.jsx)("span",{children:"Size: XL"})]})]})}),(0,At.jsx)("td",{className:"qty",children:"1"}),(0,At.jsx)("td",{className:"price",children:"$999.00"}),(0,At.jsx)("td",{className:"order-number",children:"2345678901"}),(0,At.jsx)("td",{className:"order-date",children:"March 10, 2024"}),(0,At.jsx)("td",{className:"delivery-date",children:"March 18, 2024"})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{className:"order",children:(0,At.jsxs)("div",{className:"order-det",children:[(0,At.jsx)("img",{src:"/images/product-4.jpg",alt:"Product 4"}),(0,At.jsxs)("div",{className:"order-attribute",children:[(0,At.jsx)("h5",{children:"Tailored Stretch"}),(0,At.jsx)("span",{children:"Colour: orange "}),(0,At.jsx)("span",{children:"Size: XL"})]})]})}),(0,At.jsx)("td",{className:"qty",children:"2"}),(0,At.jsx)("td",{className:"price",children:"$999.00"}),(0,At.jsx)("td",{className:"order-number",children:"2345678901"}),(0,At.jsx)("td",{className:"order-date",children:"March 10, 2024"}),(0,At.jsx)("td",{className:"delivery-date",children:"March 18, 2024"})]})]})]})]})})}),em=()=>{const{orderId:e}=(0,Bt.g)(),[n,r]=(0,t.useState)(null),{logout:a}=It(),s=(0,Bt.Zp)();return(0,t.useEffect)((()=>{(async()=>{try{const t=localStorage.getItem("apiToken"),n=await yt.get("/commerce/get_user_receipts",{params:{api_token:t,order_id:e}}),i=n.data;if(401===n.data.status)return a(),void s("/home");if(i.receipt_data&&i.receipt_data.length>0){const e=i.receipt_data[0];console.log(e,"receipt.item_list");const t=e.item_list.reduce(((e,t)=>(e[t.store_name]||(e[t.store_name]={store_name:t.store_name,store_image:t.store_image,items:[]}),e[t.store_name].items.push({product_title:t.product_title,SUI:t.SUI,product_image:t.product_url,quantity:t.quantity,original_price:t.original_total,final_price:t.total,color:t.color_name,size:t.size_name,delivery_date:t.ship_eta,currency_symbol:t.currency_symbol,platform_discount:t.platform_discount}),e)),{}),n={order_id:e.order_id,order_date:e.order_date,total_price_inc_tax:e.total_price_inc_tax,total_tax:e.total_tax,total_unit_price:e.total_unit_price,total_discount:e.total_discount,total_amount_paid:e.total_amount_paid,coupon_value:e.coupon_value,shipping:e.shipping,currency_symbol:e.currency_symbol,stores:Object.values(t)};r(n)}}catch(t){console.error("Error fetching order detail:",t)}})()}),[e,a,s]),console.log(n,"orderDetail"),(0,At.jsxs)("div",{className:"order-detail container order-details-pg",children:[(0,At.jsx)("h2",{children:"Order Detail"}),n?(0,At.jsxs)("div",{className:"new-orderrow",children:[(0,At.jsx)("div",{className:"order-details",children:(0,At.jsx)("div",{className:"store-order",children:(0,At.jsxs)("div",{className:"store-section",children:[(0,At.jsx)("div",{className:"order-store",children:(0,At.jsxs)("ul",{children:[(0,At.jsxs)("li",{children:[(0,At.jsx)("strong",{children:"Order number: "}),(0,At.jsx)("span",{children:n.order_id})]}),(0,At.jsxs)("li",{children:[(0,At.jsxs)("span",{children:[" ",(0,At.jsx)("strong",{children:"Order Date: "})]}),(0,At.jsx)("span",{children:(()=>{const e=new Date(n.order_date);return`${e.getDate()} ${e.toLocaleString("default",{month:"long"})} ${e.getFullYear()}`})()})]})]})}),n.stores&&n.stores.length>0?n.stores.map(((e,t)=>(0,At.jsxs)("div",{children:[(0,At.jsx)("div",{className:"top-details store-name",children:(0,At.jsxs)("h4",{children:[(0,At.jsx)("strong",{children:"Store:"})," ",e.store_name]})}),e.items.map(((e,t)=>(0,At.jsxs)("div",{className:"product-row",children:[(0,At.jsx)(i.N_,{to:`/product/${e.SUI}`,children:(0,At.jsx)("div",{className:"img-block",children:(0,At.jsx)("img",{src:e.product_image,alt:e.product_title})})}),(0,At.jsxs)("div",{className:"product-details",children:[(0,At.jsx)("div",{className:"pro-name",children:(0,At.jsxs)("h4",{children:[" ",(0,At.jsx)(i.N_,{to:`/product/${e.SUI}`,children:e.product_title})]})}),(0,At.jsxs)("div",{className:"color",children:[(0,At.jsx)("span",{children:"Colour:"})," ",e.color||"N/A"]}),(0,At.jsxs)("div",{className:"size",children:[(0,At.jsx)("span",{children:"Size:"})," ",e.size||"N/A"]}),(0,At.jsxs)("div",{className:"quantity size",children:[(0,At.jsx)("span",{children:"Qty:"})," ",e.quantity]}),(0,At.jsx)("div",{className:"description content",children:(0,At.jsx)("div",{className:"price-value",children:e.original_price!==e.final_price?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${e.currency_symbol}${e.original_price}`}),(0,At.jsx)("span",{className:"final_price",children:`${e.currency_symbol}${e.final_price}`}),(0,At.jsx)("span",{className:"discount",children:`${e.platform_discount}% off`})]}):(0,At.jsx)("span",{className:"final_price",children:`${e.currency_symbol}${e.final_price}`})})})]})]},t)))]},t))):(0,At.jsx)("p",{children:"No stores found for this order."})]})})}),(0,At.jsx)("div",{className:"items-details",children:(0,At.jsxs)("table",{children:[(0,At.jsx)("thead",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("th",{align:"left",children:"Item Total Price (excluding tax)"}),(0,At.jsxs)("th",{align:"left",children:[n.currency_symbol,n.total_unit_price]})]})}),(0,At.jsxs)("tbody",{children:[(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Taxes"}),(0,At.jsxs)("td",{children:[n.currency_symbol,n.total_tax]})]}),(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Total (Including tax)"}),(0,At.jsxs)("td",{children:[n.currency_symbol,n.total_price_inc_tax]})]}),n.shipping>0&&(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Shipping"}),(0,At.jsxs)("td",{children:[n.currency_symbol,n.shipping]})]}),n.coupon_value>0&&(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Coupon Applied"}),(0,At.jsxs)("td",{children:["-",n.currency_symbol,n.coupon_value]})]})]}),(0,At.jsx)("tfoot",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{children:"Total paid"}),(0,At.jsxs)("td",{children:[n.currency_symbol,n.total_amount_paid]})]})})]})})]}):(0,At.jsx)("p",{children:"Loading..."})]})},tm=()=>(0,At.jsx)("div",{className:"main-content not-home",children:(0,At.jsx)("div",{className:"gift-pg",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("div",{className:"gift-top",children:(0,At.jsxs)("div",{className:"gift-title",children:[(0,At.jsxs)("div",{className:"text",children:[(0,At.jsx)("h4",{children:"A gift for everyone"}),(0,At.jsx)("p",{children:"Choose your favourite option"})]}),(0,At.jsxs)("div",{className:"store-search",children:[(0,At.jsx)("button",{type:"submit",className:"searchButton",children:(0,At.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,At.jsx)("path",{d:"M13.8321 13.0044L10.3502 9.52245C11.2991 8.36196 11.7656 6.88117 11.6533 5.38636C11.541 3.89155 10.8584 2.49709 9.7468 1.49142C8.63519 0.485748 7.17956 -0.0541959 5.681 -0.0167273C4.18245 0.0207412 2.75562 0.632756 1.69565 1.69272C0.635685 2.75269 0.0236709 4.17952 -0.0137977 5.67807C-0.0512662 7.17663 0.488678 8.63226 1.49435 9.74387C2.50002 10.8555 3.89448 11.538 5.38929 11.6504C6.8841 11.7627 8.36489 11.2961 9.52538 10.3473L13.0073 13.8292C13.1173 13.9355 13.2647 13.9943 13.4176 13.9929C13.5706 13.9916 13.7169 13.9302 13.825 13.8221C13.9332 13.7139 13.9945 13.5676 13.9959 13.4147C13.9972 13.2617 13.9384 13.1144 13.8321 13.0044ZM5.83638 10.5001C4.9134 10.5001 4.01115 10.2264 3.24372 9.71364C2.47629 9.20086 1.87815 8.47203 1.52494 7.61931C1.17173 6.76658 1.07932 5.82827 1.25938 4.92303C1.43945 4.01778 1.8839 3.18626 2.53655 2.53362C3.18919 1.88097 4.02071 1.43652 4.92596 1.25645C5.8312 1.07639 6.76951 1.1688 7.62224 1.52201C8.47496 1.87522 9.20379 2.47336 9.71657 3.24079C10.2294 4.00822 10.503 4.91047 10.503 5.83345C10.5017 7.0707 10.0095 8.25688 9.13468 9.13175C8.25981 10.0066 7.07363 10.4987 5.83638 10.5001Z",fill:"#001017"})})}),(0,At.jsx)("input",{type:"search",placeholder:"Search"}),(0,At.jsx)("img",{src:"/images/cross.png",className:"close",alt:"close icon"})]})]})}),(0,At.jsxs)("div",{className:"gift-img",children:[(0,At.jsx)("ul",{children:[...Array(8)].map(((e,t)=>(0,At.jsxs)("li",{children:[(0,At.jsx)("div",{className:"img",children:(0,At.jsx)("img",{src:"/images/gift-img.png",alt:`Gift ${t+1}`})}),(0,At.jsxs)("div",{className:"gift-option",children:[(0,At.jsx)("h4",{children:"Seashells Gift"}),(0,At.jsxs)("div",{className:"price",children:[(0,At.jsx)("span",{children:"Credits"}),(0,At.jsxs)("div",{className:"price",children:[(0,At.jsx)("span",{children:"$999"}),(0,At.jsx)("span",{children:"$999"})]})]})]})]},t)))}),(0,At.jsx)("div",{className:"btn-shop",children:(0,At.jsx)("a",{href:"#",children:"Add to Shopping Bag"})})]})]})})}),nm=e=>{let{apiToken:n}=e;const{logout:r}=It(),[a,s]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(1),[m,g]=(0,t.useState)(54),v=(0,Bt.Zp)();(0,t.useEffect)((()=>{(async()=>{try{l(!0);const e=await yt.get("/favorite/get_favorite",{params:{api_token:n,page:d}});if(401===e.status)r(),v("/home");else if(200!==e.status)throw new Error(`HTTP error! status: ${e.status}`);s(e.data.user_favorite||[]),p(Math.ceil(e.data.total_count/m))}catch(c){u(c.message)}finally{l(!1)}})()}),[n,d,m]);return o?(0,At.jsx)("p",{children:"Loading favorites..."}):c?(0,At.jsxs)("p",{children:["Error: ",c]}):(0,At.jsxs)("div",{className:"also-like latest my-profile-sec",children:[(0,At.jsx)("ul",{children:a.length>0?a.map((e=>(0,At.jsxs)("li",{onClick:()=>{return t=e.reference_id,void v(`/product/${t}`);var t},children:[(0,At.jsxs)(i.N_,{to:"#",className:"img-box",children:[(0,At.jsx)($c.A,{thumbnailSrc:e.image_url_thumb,fullImageSrc:e.image_url,alt:e.product_title,onError:e=>e.target.src="https://via.placeholder.com/150"}),e.in_stock<=0&&(0,At.jsx)("span",{className:"sold-out",children:"Sold Out"})]}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${e.reference_id}`,children:e.product_title})}),(0,At.jsx)("div",{className:"price-value",children:e.display_total_price!==e.display_final_price?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${e.display_currency_symbol}${e.display_total_price}`}),(0,At.jsx)("span",{className:"final_price",children:`${e.display_currency_symbol}${e.display_final_price}`}),(0,At.jsx)("span",{className:"discount",children:`${e.platform_discount}% off`})]}):(0,At.jsx)("span",{className:"final_price",children:`${e.display_currency_symbol}${e.display_final_price}`})})]})]},e.reference_id))):(0,At.jsx)("p",{children:"No favorites available."})}),f>1&&(0,At.jsx)(wu,{totalPages:f,currentPage:d+1,onPageChange:e=>(e=>{h(e)})(e-1)})]})},rm=e=>{let{apiToken:n}=e;const{logout:r}=It(),[a,s]=((0,Bt.Zp)(),(0,t.useState)([])),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(1),[m]=(0,t.useState)(54);(0,t.useEffect)((()=>{(async()=>{try{l(!0);const e=await yt.get("/gift/get_user_gift_list",{params:{api_token:n,page:d,per_page:m}});if(401===e.status)r();else if(404===e.status)s([]),p(0);else{if(200!==e.status)throw new Error(`HTTP error! status: ${e.status}`);{const t=e.data;s(t.gift_list||[]),p(Math.ceil(t.total_count/m))}}}catch(c){u(c.message)}finally{l(!1)}})()}),[n,d,m]);return o?(0,At.jsx)("p",{children:"Loading gifts..."}):c?(0,At.jsxs)("p",{children:["Error: ",c]}):(0,At.jsx)("div",{className:"also-like latest my-profile-sec",children:0===a.length?(0,At.jsx)("p",{children:"No gifts available"}):(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("ul",{children:a.map((e=>(0,At.jsxs)("li",{children:[(0,At.jsx)(i.N_,{to:`/product/${e.sui}`,children:(0,At.jsx)("img",{src:e.image_url_thumb,alt:e.product_title})}),(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${e.sui}`,children:e.product_title})}),(0,At.jsx)("div",{className:"description",children:(0,At.jsxs)("span",{className:"price",children:[e.display_currency_symbol,e.display_final_price]})})]},e.gift_id)))}),f>1&&(0,At.jsx)(wu,{totalPages:f,currentPage:d+1,onPageChange:e=>{h(e-1)}})]})})},im=()=>{const{logout:e}=It(),n=(0,Bt.Zp)(),[r,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)("favorites"),h=localStorage.getItem("apiToken");(0,t.useEffect)((()=>{(async()=>{try{const t=await yt.get("/user/get_user_profile",{params:{api_token:h,user_uuid:"",segment_id:1,menu_order:6}});if(401===t.status)e(),n("/home");else if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);a(t.data.user_data||{})}catch(s){o(s.message)}finally{c(!1)}})()}),[h]),(0,t.useEffect)((()=>{localStorage.getItem("userUid")||localStorage.getItem("LoggedIn")||"guest"!==localStorage.getItem("userRole")||n("/login")}),[n]);const f=e=>{d(e)};return l?(0,At.jsx)("p",{children:"Loading..."}):s?(0,At.jsxs)("p",{children:["Error: ",s]}):(0,At.jsxs)("div",{className:"main-content not-home",children:[(0,At.jsx)("div",{className:"profile-share",children:(0,At.jsx)("div",{className:"profile-option",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("div",{className:"share-links",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"#",children:[(0,At.jsx)("span",{className:"share-icon"}),"Share Profile"]})}),(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"#",children:[(0,At.jsx)("span",{className:"share-icon"}),"Referral Link"]})})]})}),(0,At.jsxs)("div",{className:"profile-details",children:[(0,At.jsxs)("div",{className:"avtar-img",children:[(0,At.jsx)("img",{src:null===r||void 0===r?void 0:r.image_url,alt:"Avatar"}),(0,At.jsx)("h5",{children:null===r||void 0===r?void 0:r.profile_name}),(0,At.jsx)("span",{children:null===r||void 0===r?void 0:r.profile_title})]}),(0,At.jsxs)("div",{className:"profile-right",children:[(0,At.jsxs)("ul",{className:"profile-details",children:[(0,At.jsxs)("li",{children:[(0,At.jsx)("h4",{children:null===r||void 0===r?void 0:r.num_followers}),(0,At.jsx)("span",{children:"Followers"})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("h4",{children:null===r||void 0===r?void 0:r.num_following}),(0,At.jsx)("span",{children:"Following"})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("h4",{children:null===r||void 0===r?void 0:r.coupon_count}),(0,At.jsx)("span",{children:"Coupons"})]}),(0,At.jsxs)("li",{children:[(0,At.jsx)("h4",{children:(null===r||void 0===r?void 0:r.total_credits)>0?`${null===r||void 0===r?void 0:r.currency_data[1]}${null===r||void 0===r?void 0:r.total_credits}`:0}),(0,At.jsx)("span",{children:"Credits"})]})]}),(0,At.jsxs)("ul",{className:"acc-btn",children:[(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"/my-account",children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{src:"/images/acc-info.png",alt:"Account Info"})})," Account"]})}),(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"/my-order",children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{src:"/images/acc-info.png",alt:"Order Info"})})," Order"]})}),(0,At.jsx)("li",{children:(0,At.jsxs)(i.N_,{to:"/my-gift",children:[(0,At.jsx)("span",{children:(0,At.jsx)("img",{src:"/images/acc-info.png",alt:"Gift Credits"})})," Gift Credits"]})})]})]})]})]})})}),(0,At.jsxs)("div",{className:"tabs shop-tab",children:[(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("ul",{id:"tabs-nav",children:[(0,At.jsx)("li",{className:"favorites"===u?"active":"",children:(0,At.jsxs)(i.N_,{to:"#",onClick:()=>f("favorites"),children:[(0,At.jsx)("span",{})," Favourites"]})}),(0,At.jsx)("li",{className:"gifts"===u?"active":"",children:(0,At.jsxs)(i.N_,{to:"#",onClick:()=>f("gifts"),children:[(0,At.jsx)("span",{})," Gift-List"]})})]})}),(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("div",{id:"tabs-content",children:["favorites"===u&&(0,At.jsx)(nm,{apiToken:h}),"gifts"===u&&(0,At.jsx)(rm,{apiToken:h})]})})]})]})},am=gt.create({baseURL:"https://global.seashels.com:7777/api",headers:{"Content-Type":"application/json"}});am.interceptors.request.use((e=>{const t=localStorage.getItem("apiToken");return console.log("token",t),t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));const sm=am,om=()=>(0,At.jsx)("div",{className:"loader",children:(0,At.jsx)("div",{className:"spinner"})}),lm=()=>{const[e,n]=(0,t.useState)({}),[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)("Bride"),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{l(!0);try{const e=await sm.get("/api/tags/get_list_for_tag?api_token=guest_271ca7aeabba4853881e94a9d9767ced&tag_type=product&tag_id=95&count=&page=0&store_uuid=&category_id=");n(e.data.categories)}catch(Cm){console.error(Cm),u("Error fetching categories.")}finally{l(!1)}})()}),[]);return o?(0,At.jsx)(om,{}):c?(0,At.jsx)("div",{children:c}):(0,At.jsxs)("div",{className:"category-list",children:[(0,At.jsx)("h1",{children:"Categories"}),(0,At.jsx)("div",{className:"gender-selector",children:Object.keys(e).map((e=>(0,At.jsx)("button",{onClick:()=>(e=>{s(e),i(null)})(e),className:e===a?"active":"",children:e},e)))}),(0,At.jsx)("ul",{children:e[a]&&e[a].map((e=>(0,At.jsx)("li",{children:(0,At.jsx)("button",{onClick:()=>(e=>{i(e)})(e),children:e.category_name})},e.category_id)))}),r&&(0,At.jsx)(Tu,{category:r})]})},cm=()=>{const e=(0,Bt.zy)(),n=(0,Bt.Zp)(),{apiToken:r,userRole:i,logout:a}=It(),s=()=>(e.hash||"#tab1").substring(1),[o,l]=(0,t.useState)(s);(0,t.useEffect)((()=>{l(s)}),[e]);return(0,t.useEffect)((()=>{localStorage.getItem("userUid")||localStorage.getItem("LoggedIn")||"guest"!==localStorage.getItem("userRole")||n("/login")}),[n]),(0,At.jsx)("div",{className:"main-content not-home",children:(0,At.jsx)("div",{className:"container my-profile",children:(0,At.jsxs)("div",{className:"my-profile",children:[(0,At.jsxs)("div",{className:"profile-tabs",children:[(0,At.jsxs)("button",{id:"nav-icon3",className:"",children:[(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{}),(0,At.jsx)("span",{})]}),(0,At.jsxs)("ul",{id:"profile-nav",children:[(0,At.jsx)("li",{className:"tab1"===o?"active":"",children:(0,At.jsx)("a",{href:"#tab1",onClick:()=>l("tab1"),children:"Account Information"})}),(0,At.jsx)("li",{className:"tab2"===o?"active":"",children:(0,At.jsx)("a",{href:"#tab2",onClick:()=>l("tab2"),children:"Account Activity"})}),(0,At.jsx)("li",{className:"tab3"===o?"active":"",children:(0,At.jsx)("a",{href:"#tab3",onClick:()=>l("tab3"),children:"Caption"})}),(0,At.jsx)("li",{className:"tab4"===o?"active":"",children:(0,At.jsx)("a",{href:"#tab4",onClick:()=>l("tab4"),children:"Change Login Details"})}),(0,At.jsx)("li",{className:"tab5"===o?"active":"",children:(0,At.jsx)("a",{href:"#tab5",onClick:()=>l("tab5"),children:"Privacy Feature"})}),(0,At.jsx)("li",{className:"tab6"===o?"active":"",children:(0,At.jsx)("a",{href:"#tab6",onClick:()=>l("tab6"),children:"Account Deletion"})}),(0,At.jsx)("li",{children:(0,At.jsx)("div",{className:"logout-section",children:(0,At.jsx)("button",{onClick:()=>{a(),n("/home")},id:"otp",className:"logout-btn",children:"Logout"})})})]}),(0,At.jsxs)("div",{id:"profile-content",children:["tab1"===o&&(0,At.jsxs)("div",{id:"tab1",className:"tab-content",children:[(0,At.jsxs)("div",{className:"pro-add",children:[(0,At.jsx)("img",{src:"images/pro-img.png",alt:"Profile"}),(0,At.jsx)("a",{href:"#",children:(0,At.jsx)("img",{src:"images/add-profile.png",alt:"Add Profile"})})]}),(0,At.jsx)("div",{className:"profile-fields",children:(0,At.jsxs)("form",{action:"",children:[(0,At.jsxs)("div",{className:"field-row",children:[(0,At.jsx)("label",{htmlFor:"loginId",children:"Login ID*"}),(0,At.jsx)("input",{type:"text",value:"Stylediva",id:"loginId"})]}),(0,At.jsxs)("div",{className:"field-row",children:[(0,At.jsx)("label",{htmlFor:"profileName",children:"Profile Name*"}),(0,At.jsx)("input",{type:"text",value:"Stylediva",id:"profileName"})]}),(0,At.jsxs)("div",{className:"field-row",children:[(0,At.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number*"}),(0,At.jsx)("input",{type:"number",value:"+91 1234567890",id:"phoneNumber"})]}),(0,At.jsxs)("div",{className:"field-row",children:[(0,At.jsx)("label",{htmlFor:"email",children:"Email*"}),(0,At.jsx)("input",{type:"email",value:"styledive@mailinator.com",id:"email"})]}),(0,At.jsxs)("div",{className:"field-row",children:[(0,At.jsx)("label",{htmlFor:"city",children:"City*"}),(0,At.jsx)("input",{type:"text",value:"Delhi",id:"city"})]}),(0,At.jsx)("div",{className:"space",children:(0,At.jsx)("span",{children:"or"})}),(0,At.jsxs)("div",{className:"field-row",children:[(0,At.jsx)("label",{htmlFor:"location",children:"Location"}),(0,At.jsx)("input",{type:"text",value:"Delhi",id:"location"})]}),(0,At.jsxs)("div",{className:"field-row dob",children:[(0,At.jsx)("label",{htmlFor:"dob",children:"Date of Birth*"}),(0,At.jsxs)("div",{className:"input-group",children:[(0,At.jsxs)("select",{name:"date",id:"date",children:[(0,At.jsx)("option",{value:"5",selected:!0,children:"5"}),(0,At.jsx)("option",{value:"10",children:"10"}),(0,At.jsx)("option",{value:"15",children:"15"}),(0,At.jsx)("option",{value:"20",children:"20"})]}),(0,At.jsxs)("select",{name:"month",id:"month",children:[(0,At.jsx)("option",{value:"Jan",children:"Jan"}),(0,At.jsx)("option",{value:"Feb",children:"Feb"}),(0,At.jsx)("option",{value:"March",selected:!0,children:"March"}),(0,At.jsx)("option",{value:"April",children:"April"})]}),(0,At.jsxs)("select",{name:"year",id:"year",children:[(0,At.jsx)("option",{value:"1990",children:"1990"}),(0,At.jsx)("option",{value:"1995",children:"1995"}),(0,At.jsx)("option",{value:"1996",selected:!0,children:"1996"}),(0,At.jsx)("option",{value:"1998",children:"1998"})]})]})]}),(0,At.jsxs)("div",{className:"field-row gender",children:[(0,At.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,At.jsxs)("div",{className:"field-row inline",children:[(0,At.jsxs)("p",{children:[(0,At.jsx)("input",{type:"radio",id:"female",name:"gender",defaultChecked:!0}),(0,At.jsx)("label",{htmlFor:"female",children:"Female"})]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("input",{type:"radio",id:"male",name:"gender"}),(0,At.jsx)("label",{htmlFor:"male",children:"Male"})]})]})]}),(0,At.jsx)("div",{className:"field-row submit",children:(0,At.jsx)("button",{type:"submit",className:"pro-btn",children:"Update"})})]})})]}),"tab2"===o&&(0,At.jsx)("div",{id:"tab2",className:"tab-content",children:(0,At.jsxs)("table",{className:"account-activity",children:[(0,At.jsx)("thead",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("th",{scope:"col",align:"left",children:"Event"}),(0,At.jsx)("th",{scope:"col",align:"left",children:"Transaction"}),(0,At.jsx)("th",{scope:"col",align:"left",children:"Current Credits"}),(0,At.jsx)("th",{scope:"col",align:"right",children:"Details"})]})}),(0,At.jsx)("tbody",{children:(0,At.jsxs)("tr",{children:[(0,At.jsx)("td",{"data-label":"Event",align:"left",children:(0,At.jsxs)("p",{children:["Purchase ",(0,At.jsx)("br",{}),"(10 Jan 2024)"]})}),(0,At.jsx)("td",{"data-label":"Transaction",align:"left",children:(0,At.jsxs)("ul",{children:[(0,At.jsxs)("li",{children:["Cash",(0,At.jsx)("span",{children:"$0"})]}),(0,At.jsxs)("li",{children:["Credits",(0,At.jsx)("span",{children:"$0"})]})]})}),(0,At.jsx)("td",{"data-label":"Current Credits",align:"left",children:(0,At.jsxs)("ul",{children:[(0,At.jsxs)("li",{children:["Locked",(0,At.jsx)("span",{children:"$0"})]}),(0,At.jsxs)("li",{children:["Available",(0,At.jsx)("span",{children:"$0"})]})]})}),(0,At.jsx)("td",{"data-label":"Details",align:"right",children:(0,At.jsx)("a",{href:"#",className:"detail-btn",children:"Details"})})]})})]})}),"tab3"===o&&(0,At.jsx)("div",{id:"tab3",className:"tab-content",children:(0,At.jsxs)("div",{className:"coupon",children:[(0,At.jsx)("input",{type:"text",className:"captioninput",placeholder:"Enter a Caption"}),(0,At.jsx)("a",{href:"#",className:"pro-btn",children:"Update"})]})}),"tab4"===o&&(0,At.jsx)("div",{id:"tab4",className:"tab-content",children:(0,At.jsxs)("form",{action:"#",className:"passwords",children:[(0,At.jsxs)("div",{className:"field-row inline",children:[(0,At.jsxs)("p",{children:[(0,At.jsx)("input",{type:"radio",id:"password",name:"loginOption",defaultChecked:!0}),(0,At.jsx)("label",{htmlFor:"password",children:"Password"})]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("input",{type:"radio",id:"phone",name:"loginOption"}),(0,At.jsx)("label",{htmlFor:"phone",children:"Phone Number"})]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("input",{type:"radio",id:"email",name:"loginOption"}),(0,At.jsx)("label",{htmlFor:"email",children:"Email"})]})]}),(0,At.jsx)("div",{className:"field-row space-btw",children:(0,At.jsxs)("h4",{children:[(0,At.jsx)("span",{children:"Press to send OTP:"})," ",(0,At.jsx)("a",{href:"#",className:"request-btn",children:"Request"})]})}),(0,At.jsxs)("div",{className:"field-row pass",children:[(0,At.jsx)("input",{type:"number",placeholder:"Enter OTP"}),(0,At.jsx)("input",{type:"password",placeholder:"New Password"})]}),(0,At.jsx)("div",{className:"field-row submit",children:(0,At.jsx)("button",{type:"submit",className:"pro-btn",children:"Save"})})]})}),"tab5"===o&&(0,At.jsx)("div",{id:"tab5",className:"tab-content",children:(0,At.jsxs)("form",{action:"#",className:"change",children:[(0,At.jsxs)("div",{className:"field-row inline",children:[(0,At.jsxs)("p",{children:[(0,At.jsx)("input",{type:"radio",id:"public",name:"privacy",defaultChecked:!0}),(0,At.jsx)("label",{htmlFor:"public",children:"Public"})]}),(0,At.jsxs)("p",{children:[(0,At.jsx)("input",{type:"radio",id:"private",name:"privacy"}),(0,At.jsx)("label",{htmlFor:"private",children:"Private"})]})]}),(0,At.jsx)("div",{className:"field-row submit",children:(0,At.jsx)("button",{type:"submit",className:"pro-btn",children:"Block User"})})]})}),"tab6"===o&&(0,At.jsx)("div",{id:"tab6",className:"tab-content",children:(0,At.jsxs)("div",{className:"delete-acc",children:[(0,At.jsxs)("div",{className:"delete-text",children:[(0,At.jsx)("h6",{children:"Delete Account"}),(0,At.jsx)("p",{children:"Deleting your account is permanent. When you delete your Seashels account, you won't be able to retrieve the content or information you've shared on Seashels."})]}),(0,At.jsx)("div",{className:"delete-action",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{children:(0,At.jsx)("a",{href:"#",className:"pro-btn",children:"Continue to Account Deletion"})}),(0,At.jsx)("li",{children:(0,At.jsx)("a",{href:"#",children:"Cancel"})})]})})]})})]})," "]})," "]})})})},um=e=>{let{sortOptions:n,sizeOptions:r,priceOptions:i,colorOptions:a,onSortChange:s,onSizeChange:o,onPriceChange:l,onColorChange:c,onClearFilters:u,onPriceClearFilter:d,onSizeClearFilter:h,onColorClearFilter:f,sortOption:p,showAdditionalFilters:m,loading:g}=e;const[v,y]=(0,t.useState)(p||""),[b,x]=(0,t.useState)([]),[S,_]=(0,t.useState)([]),[w,E]=(0,t.useState)([]),[T,C]=(0,t.useState)(null);return(0,At.jsxs)("div",{className:"tab-filter",children:[(0,At.jsxs)("div",{className:"filter-option",children:[(0,At.jsx)("span",{children:"Sort By"}),g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)(ku,{onChange:e=>{y(e),s(e)},data:n,selectedValue:v}),m&&(0,At.jsxs)(At.Fragment,{children:[g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)(Gh,{selectedPriceValue:T,onChange:e=>{C(e),l(e)},onPriceClearFilter:d}),g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)(Uh,{onChange:e=>{x(e),o(e)},data:r,selectedSizes:b,onSizeClearFilter:h}),g?(0,At.jsx)("div",{children:(0,At.jsx)(tn.A,{width:155})}):(0,At.jsx)($h,{onChange:e=>{E(e),c(e)},data:a,selectedColors:w,onColorClearFilter:f})]})]}),(0,At.jsx)("div",{className:"clear",children:(0,At.jsx)(Bh,{onClearFilters:u,setSelectedColors:E,setSelectedSizes:x,setSelectedPrice:_,setSelectedPriceRange:C,setSelectedSort:y})})]})},dm=e=>{let{categoryData:n,onSubCategoryChange:r,isLoading:i}=e;const{category_id:a,gender_id:s,segment_id:o,sub_category_id:l}=(0,Bt.g)(),[c,u]=(0,t.useState)(l),d=e=>{window.jQuery&&(window.jQuery(".filter-option").find(".filters__item-title").find(".filters__count").text(""),window.jQuery(".filters__listings").find("ul li").each((function(){window.jQuery(this).removeClass("active")}))),u(e),r(e)};return(0,t.useEffect)((()=>{u(l||"")}),[l]),i?(0,At.jsxs)("div",{className:"sub-category-list",children:[(0,At.jsx)("h4",{children:"Sub Category"}),(0,At.jsx)("ul",{children:[...Array(5)].map(((e,t)=>(0,At.jsx)("li",{children:(0,At.jsx)(tn.A,{height:40,width:300})},t)))})]}):n&&0!==n.length?(0,At.jsxs)("div",{className:"sub-category-list",children:[(0,At.jsx)("h4",{children:"Sub Category"}),(0,At.jsx)("ul",{children:n.map((e=>(0,At.jsx)("li",{className:""+(c==e.sub_category_id||l==e.sub_category_id?"active":""),children:(0,At.jsxs)("label",{children:[(0,At.jsx)("input",{type:"radio",name:"subCategory",value:e.sub_category_id,checked:c==e.sub_category_id,onChange:()=>d(e.sub_category_id)}),e.sub_category_name]})},e.sub_category_id)))})]}):null},hm="https://via.placeholder.com/150",fm=e=>{let{storeUuid:n,sortOption:r,sizeOption:a,priceOption:s,colorOption:o,segmentId:l,genderId:c,categoryList:u,sub_category_list:d,productData:h,onClearFilters:f,loading:p}=e;const{logout:m}=It(),g=(0,Bt.Zp)(),{selectedCurrency:v}=Ft(),[y,b]=(0,t.useState)("All"),[x,S]=(0,t.useState)(p),[_,w]=(0,t.useState)([]),[E,T]=(0,t.useState)(null),[C,k]=(0,t.useState)(0),[A,j]=(0,t.useState)(0),[N,L]=(0,t.useState)(!1),[R,P]=(0,t.useState)(!1),I=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?L(!0):(S(!0),k(0));const t=localStorage.getItem("apiToken"),n=localStorage.getItem("currencyCode"),i={api_token:t,page:Math.floor(C/54),size_list:a,color_list:o,price_min:s?s.split("-")[0]:"",price_max:s?s.split("-")[1]:"",segment_id:l,gender_id:c,category_list:u,currency_code:n,sort_order:r,store_uuid:"",sub_category_list:d},h=await yt.get("/filters/get_skus_for_filter",{params:i});if(401===h.status)m(),g("/home");else{if(200!==h.status)throw new Error(`HTTP error! status: ${h.status}`);{const t=h.data,n=t.sui_data||t.sku_data||[],r=t.total_count;if(n.length){w((t=>e?[...t,...n]:n));const i=e?C+n.length:n.length;k(i),j(r),P(!!t.sui_data)}else w([]),k(0),j(0),P(!1)}}}catch(E){T("Failed to fetch products")}finally{S(!1),L(!1)}};(0,t.useEffect)((()=>{if(h){const e=h.sui_data||[];w(e),j(h.total_count||0),k(e.length||0),S(!1)}else I(!1)}),[n,r,a,s,o,l,c,u,h]);return x&&0===_.length?(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsx)("ul",{className:"skeleton-list",children:Array.from({length:8}).map(((e,t)=>(0,At.jsxs)("li",{children:[(0,At.jsx)(tn.A,{height:400,width:300}),(0,At.jsx)("h4",{children:(0,At.jsx)(tn.A,{width:200})}),(0,At.jsx)("div",{className:"price-value",children:(0,At.jsx)(tn.A,{width:100})})]},t)))})})}):E?(0,At.jsx)("div",{className:"error",children:E}):(0,At.jsx)("div",{id:"filter-products",children:(0,At.jsxs)("div",{className:"container",children:[(0,At.jsx)("div",{className:"also-like latest uniquelist",children:_.length>0?(0,At.jsx)("ul",{children:_.map((e=>{const t=(new Date).getTime(),n=`${e.image_url||e.image_url_thumb||hm}?cb=${t}`,r=R?e.SUI:e.sui,a=R?e.product_title:e.sku_title,s=e.display_final_price,o=e.display_total_price,l=(R?e.platform_discount:e.sku_discount,e.display_currency_symbol);return(0,At.jsxs)("li",{children:[(0,At.jsxs)(i.N_,{to:`/product/${e.SUI||e.sui}`,className:"img-box",children:[(0,At.jsx)($c.A,{thumbnailSrc:e.image_url||e.image_url_thumb,fullImageSrc:e.image_url||e.image_url_thumb,alt:a||"Product image",onError:e=>e.target.src=hm},e.image_url||e.image_url_thumb),0===e.in_stock&&(0,At.jsx)("span",{className:"sold-out",children:"Sold Out"})]}),(0,At.jsx)("h4",{className:"store_name",children:e.store_name}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${e.SUI||e.sui}`,children:e.product_title||e.sku_title})}),(0,At.jsxs)("div",{className:"price-value",children:[o&&o!==s&&(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${l||"$"}${o}`}),(0,At.jsx)("span",{className:"final_price",children:`${l||"$"}${s}`}),(0,At.jsx)("span",{className:"discount",children:`${e.platform_discount||e.sku_discount}% off`})]}),(!o||o===s)&&(0,At.jsx)("span",{className:"final_price",children:`${l||"$"}${s}`})]})]})]},`${r||e.id}-${n}`)}))}):(0,At.jsx)("div",{className:"no-products",children:"No products available"})}),(0,At.jsx)(Cu,{loadedItemCount:C,totalItems:A,onLoadMore:()=>{I(!0)},loadingMore:N})]})})},pm=e=>{let{loading:n,productdetails:r,SubCategoryList_data:i,storeUuid:a,isLoading:s}=e;const{logout:o}=It(),l=(0,Bt.Zp)(),{category_id:c,gender_id:u,segment_id:d,sub_category_id:h}=(0,Bt.g)(),f=(0,t.useRef)({category_id:null,gender_id:null,segment_id:null,sub_category_id:null}),[p,m]=(0,t.useState)("all"),[g,v]=(0,t.useState)(!0),[y,b]=(0,t.useState)({sizeOptions:[],priceOptions:[],colorOptions:[],sortOptions:[{value:"ASC",label:"Price Low To High"},{value:"DESC",label:"Price High To Low"}]}),[x,S]=(0,t.useState)(localStorage.getItem("currencyCode")||""),[_,w]=(0,t.useState)(""),[E,T]=(0,t.useState)([]),[C,k]=(0,t.useState)(""),[A,j]=(0,t.useState)([]),[N,L]=(0,t.useState)(null),[R,P]=(0,t.useState)(null),[I,D]=(0,t.useState)(!1);(0,t.useEffect)((()=>{f.current.category_id===c&&f.current.gender_id===u&&f.current.segment_id===d&&f.current.sub_category_id;(async()=>{D(!0);try{const n=localStorage.getItem("apiToken");if(!n)throw new Error("API token is missing");const r=E.length>0?E.join(","):"",i=A.length>0?A.join(","):"",s=await yt.get("/filters/get_skus_for_filter",{params:{api_token:n,page:0,store_uuid:a,segment_id:d,gender_id:u,category_list:c,currency_code:x,sort_order:_,size_list:r,color_list:i,price_min:C.split("-")[0]||"",price_max:C.split("-")[1]||"",sub_category_list:h||N||""}});if(401===s.status)return o(),void l("/home");if(200!==s.status)throw new Error(`HTTP error! status: ${s.status}`);{var e,t;const r=s.data;if(!r)throw new Error("Response data is missing");P(r);const i=await yt.get("/filters/get_colors_list",{params:{api_token:n,gender_id:u,segment_id:d,categories_list:c,currency_code:x,store_uuid:a,sub_categories_list:h||N||"",price_min:C.split("-")[0]||"",price_max:C.split("-")[1]||""}}),o=await yt.get("/filters/get_sizes_list",{params:{api_token:n,gender_id:u,segment_id:d,categories_list:c,store_uuid:a,currency_code:x,sub_categories_list:h||N||"",price_min:C.split("-")[0]||"",price_max:C.split("-")[1]||""}}),l=(null===(e=i.data)||void 0===e?void 0:e.colors_data)||[],f=(null===(t=o.data)||void 0===t?void 0:t.sizes_data)||[],p=r.price_band||[];b((e=>({...e,sizeOptions:f,priceOptions:p,colorOptions:l}))),v(!0)}}catch(n){console.error("Error fetching data:",n)}finally{D(!1)}})(),f.current={category_id:c,gender_id:u,segment_id:d,sub_category_id:h}}),[c,u,d,h,a,x,_,E,C,A,o,l]);const O=(0,t.useCallback)((e=>{w(e)}),[]),M=(0,t.useCallback)((e=>{T(e)}),[]),F=(0,t.useCallback)((e=>{console.log(e,"handlePriceChange"),k(e)}),[]),U=(0,t.useCallback)((e=>{j(e)}),[]),$=(0,t.useCallback)((()=>{k(""),w(""),T([]),j([]),L(null),P(null),l(`/shop/${c}/${u}/${d}`)}),[c,u,d,l]),B=(0,t.useCallback)((e=>{k(""),w(""),T([]),j([]),L(e),l(`/shop/${c}/${u}/${d}/${e}`)}),[c,u,d,l]),G=(0,t.useCallback)((()=>{k(""),v(!0)}),[]),H=(0,t.useCallback)((()=>{T([]),v(!0)}),[]),z=(0,t.useCallback)((()=>{j([]),v(!0)}),[]);return(0,At.jsx)("div",{className:"store-filter",children:(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("div",{className:"parent-shop-container",children:[(0,At.jsx)("div",{className:"left-sidebar",children:(0,At.jsx)(dm,{categoryData:i,onSubCategoryChange:B,onClearFilters:$,subCategoryStatus:h,isLoading:s})}),(0,At.jsxs)("div",{className:"store-filter_right",children:[(0,At.jsx)(um,{sortOptions:y.sortOptions,sizeOptions:y.sizeOptions,priceOptions:y.priceOptions,colorOptions:y.colorOptions,onSortChange:O,onSizeChange:M,onPriceChange:F,onColorChange:U,onClearFilters:$,onPriceClearFilter:G,onSizeClearFilter:H,onColorClearFilter:z,sortOption:_,sizeOption:E,priceOption:C,colorOption:A,showAdditionalFilters:g,loading:I}),R&&(0,At.jsx)(fm,{storeUuid:a,sortOption:_,sizeOption:E,priceOption:C,colorOption:A,segmentId:d,genderId:u,categoryList:c,sub_category_list:h,productData:R,onClearFilters:$,loading:I})]})]})})})},mm=e=>{let{apiEndpoint:n="/filters/get_sub_categories_list",pageTitle:r=""}=e;const{category_id:i,gender_id:a,segment_id:s,sub_category_id:o}=(0,Bt.g)(),{logout:l}=It(),c=(0,Bt.Zp)(),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)("low"),[y,b]=(0,t.useState)("Size"),[x,S]=(0,t.useState)("Price"),[_,w]=(0,t.useState)("Color"),[E,T]=(0,t.useState)({sizeOptions:[],priceOptions:[],colorOptions:[]});(0,t.useEffect)((()=>{(async()=>{m(!0);try{const e=localStorage.getItem("apiToken"),t=await yt.get(n,{params:{api_token:e,segment_id:s||"",gender_id:a||2,category_id:i||"",page:0}});if(401===t.status)return l(),void c("/home");if(200!==t.status)throw new Error(`HTTP error! status: ${t.status}`);d(t.data.data)}catch(h){f(h.message)}finally{m(!1)}})()}),[n,s,a,i]);return(0,At.jsx)("div",{className:"main-content not-home  shop-section-data",children:(0,At.jsx)(pm,{SubCategoryList_data:u,isLoading:p})})},gm=()=>{const{logout:e,currentUser:n}=It(),[r,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(1),[p,m]=(0,t.useState)(54),g=(0,Bt.Zp)();(0,t.useEffect)((()=>{const e=localStorage.getItem("userRole");n&&"shopper"===e||g("/login")}),[n,g]),(0,t.useEffect)((()=>{(async()=>{try{o(!0);const t=localStorage.getItem("apiToken");if(!t)return void c("User not authenticated.");const n=await yt.get("/favorite/get_favorite",{params:{api_token:t,page:u}});if(console.log("API Response:",n.data),401===n.data.status)e(),g("/home");else if(200!==n.data.status)throw new Error("No favorites available.");if(!Array.isArray(n.data.user_favorite))throw new Error("Expected user_favorite to be an array but got: "+typeof n.data.user_favorite);a(n.data.user_favorite),f(Math.ceil(n.data.total_count/p))}catch(l){c(l.message)}finally{o(!1)}})()}),[u,p,n]);return(0,At.jsx)("div",{className:"container",children:(0,At.jsxs)("div",{className:"also-like latest my-profile-sec",children:[(0,At.jsx)("ul",{children:s?Array.from({length:p}).map(((e,t)=>(0,At.jsxs)("li",{className:"skeleton-wrapper",children:[(0,At.jsxs)("div",{className:"img-box",children:[(0,At.jsx)(tn.A,{height:430})," "]}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsxs)("h4",{children:[(0,At.jsx)(tn.A,{width:150})," "]}),(0,At.jsxs)("div",{className:"price-value",children:[(0,At.jsx)(tn.A,{width:100})," "]})]})]},t))):r.length>0?r.map((e=>(0,At.jsxs)("li",{onClick:()=>{return t=e.reference_id,void g(`/product/${t}`);var t},children:[(0,At.jsxs)(i.N_,{to:"#",className:"img-box",children:[(0,At.jsx)($c.A,{thumbnailSrc:e.image_url_thumb,fullImageSrc:e.image_url,alt:e.product_title,onError:e=>e.target.src="https://via.placeholder.com/150"}),e.in_stock<=0&&(0,At.jsx)("span",{className:"sold-out",children:"Sold Out"})]}),(0,At.jsxs)("div",{className:"description content",children:[(0,At.jsx)("h4",{children:(0,At.jsx)(i.N_,{to:`/product/${e.reference_id}`,children:e.product_title})}),(0,At.jsx)("div",{className:"price-value",children:e.display_total_price!==e.display_final_price?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("span",{className:"strike_price",children:`${e.display_currency_symbol}${e.display_total_price}`}),(0,At.jsx)("span",{className:"final_price",children:`${e.display_currency_symbol}${e.display_final_price}`}),(0,At.jsx)("span",{className:"discount",children:`${e.platform_discount}% off`})]}):(0,At.jsx)("span",{className:"final_price",children:`${e.display_currency_symbol}${e.display_final_price}`})})]})]},e.reference_id))):(0,At.jsx)("p",{children:"No favorites available."})}),h>1&&(0,At.jsx)(wu,{totalPages:h,currentPage:u+1,onPageChange:e=>(e=>{d(e)})(e-1)})]})})};var vm=n(963),ym=n.n(vm);ym().setAppElement("#root");const bm=()=>{const[e,n]=(0,t.useState)(!1),r=(0,jp.useStripe)(),i=(0,jp.useElements)(),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),c=()=>n(!1);return(0,At.jsxs)("div",{children:[(0,At.jsx)("button",{onClick:()=>n(!0),children:"Open Payment Popup"}),(0,At.jsxs)(ym(),{isOpen:e,onRequestClose:c,contentLabel:"Payment Modal",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"400px"}},children:[(0,At.jsx)("h2",{children:"Complete Your Payment"}),(0,At.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!r||!i)return;l(!0);const{error:t,paymentMethod:n}=await r.createPaymentMethod({type:"card",card:i.getElement(jp.CardElement)});t?(s(t.message),l(!1)):(console.log("PaymentMethod:",n),s(""),l(!1),c())},children:[(0,At.jsx)(jp.CardElement,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}}),(0,At.jsx)("button",{type:"submit",disabled:!r||o,children:o?"Processing...":"Pay"}),a&&(0,At.jsx)("div",{children:a})]}),(0,At.jsx)("button",{onClick:c,children:"Close"})]})]})},xm=$p("pk_test_51NeDfvKtGDMY14eQ9VNQuKvaF0rwmxoSUsgNhMW3GScNm1rwtC0gh7dKOzs0R0GErzys165V67wP2F4FZNa7537b00ryjT4olG"),Sm=()=>(0,At.jsx)(jp.Elements,{stripe:xm,children:(0,At.jsx)(bm,{})}),_m=()=>(0,At.jsxs)(Bt.BV,{children:[(0,At.jsx)(Bt.qh,{path:"/login",element:(0,At.jsx)(eu,{})}),(0,At.jsx)(Bt.qh,{path:"/stripe-form",element:(0,At.jsx)(Sm,{})}),(0,At.jsx)(Bt.qh,{path:"/reset-password",element:(0,At.jsx)(tu,{})}),(0,At.jsx)(Bt.qh,{path:"/checkip",element:(0,At.jsx)(nu,{})}),(0,At.jsx)(Bt.qh,{path:"/user",element:(0,At.jsx)(ou,{})}),(0,At.jsx)(Bt.qh,{path:"/guest-login",element:(0,At.jsx)(lu,{})}),(0,At.jsx)(Bt.qh,{path:"/alertPopup",element:(0,At.jsx)(Zt,{})}),(0,At.jsx)(Bt.qh,{path:"/alert",element:(0,At.jsx)(Xt,{})}),(0,At.jsx)(Bt.qh,{path:"/chat/*",element:(0,At.jsx)(mu,{})}),(0,At.jsx)(Bt.qh,{path:"/chat/tab-1/*",element:(0,At.jsx)(hu,{})}),(0,At.jsx)(Bt.qh,{path:"/chat/tab-2/*",element:(0,At.jsx)(fu,{})}),(0,At.jsx)(Bt.qh,{path:"/chat/tab-3/*",element:(0,At.jsx)(pu,{})}),(0,At.jsx)(Bt.qh,{path:"/pagination2",element:(0,At.jsx)(_u,{})}),(0,At.jsx)(Bt.qh,{path:"/live-social",element:(0,At.jsx)(Eu,{})}),(0,At.jsx)(Bt.qh,{path:"/latest-arrivals",element:(0,At.jsx)(Au,{})}),(0,At.jsx)(Bt.qh,{path:"/latest-arrivals/:tag_id/:tag_type",element:(0,At.jsx)(Au,{})}),(0,At.jsx)(Bt.qh,{path:"/product/:sui",element:(0,At.jsx)(Ih,{})}),(0,At.jsx)(Bt.qh,{path:"/cart",element:(0,At.jsx)(rf,{})}),(0,At.jsx)(Bt.qh,{path:"/coupon-list",element:(0,At.jsx)(af,{})}),(0,At.jsx)(Bt.qh,{path:"/coupon-list/:coupon_owner_id/:order_id",element:(0,At.jsx)(af,{})}),(0,At.jsx)(Bt.qh,{path:"/checkout",element:(0,At.jsx)(Xp,{})}),(0,At.jsx)(Bt.qh,{path:"/payment-success",element:(0,At.jsx)(Zp,{})}),(0,At.jsx)(Bt.qh,{path:"/payment-success/:order_id",element:(0,At.jsx)(Zp,{})}),(0,At.jsx)(Bt.qh,{path:"/payment-details/:orderId",element:(0,At.jsx)(em,{})}),(0,At.jsx)(Bt.qh,{path:"/visit-store/:store_uuid",element:(0,At.jsx)(Zh,{})}),(0,At.jsx)(Bt.qh,{path:"/stores",element:(0,At.jsx)(Jh,{})}),(0,At.jsx)(Bt.qh,{path:"/deals",element:(0,At.jsx)(ju,{})}),(0,At.jsx)(Bt.qh,{path:"/shop",element:(0,At.jsx)(mm,{})}),(0,At.jsx)(Bt.qh,{path:"/shop/:category_id/:gender_id/:segment_id",element:(0,At.jsx)(mm,{})}),(0,At.jsx)(Bt.qh,{path:"/shop/:category_id/:gender_id/:segment_id/:sub_category_id",element:(0,At.jsx)(mm,{})}),(0,At.jsx)(Bt.qh,{path:"/weddingStoremain",element:(0,At.jsx)(Nu,{})}),(0,At.jsx)(Bt.qh,{path:"/privacy-policy",element:(0,At.jsx)(ef,{})}),(0,At.jsx)(Bt.qh,{path:"/terms-services",element:(0,At.jsx)(tf,{})}),(0,At.jsx)(Bt.qh,{path:"/how-to-delete-your-account",element:(0,At.jsx)(nf,{})}),(0,At.jsx)(Bt.qh,{path:"/myorder",element:(0,At.jsx)(en,{children:(0,At.jsx)(Qp,{})})}),(0,At.jsx)(Bt.qh,{path:"/my-favorites",element:(0,At.jsx)(en,{children:(0,At.jsx)(gm,{})})}),(0,At.jsx)(Bt.qh,{path:"/order/:orderId",element:(0,At.jsx)(em,{})}),(0,At.jsx)(Bt.qh,{path:"/my-order",element:(0,At.jsx)(en,{children:(0,At.jsx)(Jp,{})})}),(0,At.jsx)(Bt.qh,{path:"/my-gift",element:(0,At.jsx)(en,{children:(0,At.jsx)(tm,{})})}),(0,At.jsx)(Bt.qh,{path:"/my-profile",element:(0,At.jsx)(en,{children:(0,At.jsx)(im,{})})}),(0,At.jsx)(Bt.qh,{path:"/productlist",element:(0,At.jsx)(en,{children:(0,At.jsx)(Tu,{})})}),(0,At.jsx)(Bt.qh,{path:"/categorylist",element:(0,At.jsx)(en,{children:(0,At.jsx)(lm,{})})}),(0,At.jsx)(Bt.qh,{path:"/my-account",element:(0,At.jsx)(en,{children:(0,At.jsx)(cm,{})})}),(0,At.jsx)(Bt.qh,{path:"/home",element:(0,At.jsx)(Kc,{})}),(0,At.jsx)(Bt.qh,{path:"/",element:(0,At.jsx)(Kc,{})}),(0,At.jsx)(Bt.qh,{path:"*",element:(0,At.jsx)(Bt.C5,{to:"/"})})]}),wm=()=>{const e="1.0.9",{loading:n,apiToken:r,error:i}=It();return(0,t.useEffect)((()=>{localStorage.getItem("appVersion")!==e&&(localStorage.clear(),localStorage.setItem("appVersion",e),window.location.reload())}),[e]),n||i?null:r?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)(Qt,{}),(0,At.jsxs)("main",{className:"main-content",children:[(0,At.jsx)(zt,{}),(0,At.jsx)(_m,{})]}),(0,At.jsx)(Jt,{})]}):(0,At.jsx)("div",{children:"No valid token found. Please log in."})},Em=()=>(0,At.jsx)(Pt,{children:(0,At.jsx)(Mt,{children:(0,At.jsx)(Lt,{children:(0,At.jsx)($t,{children:(0,At.jsx)(i.Kd,{children:(0,At.jsxs)("div",{className:"app-container",children:[(0,At.jsx)(Rh,{})," ",(0,At.jsx)(wm,{})]})})})})})}),Tm=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)}))};r.createRoot(document.getElementById("root")).render((0,At.jsx)(t.StrictMode,{children:(0,At.jsx)(Em,{})})),Tm()})()})();
//# sourceMappingURL=main.e54866f8.js.map